"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7253],{21463:(e,t,i)=>{i.d(t,{D:()=>s});var o=i(66943),n=i(17471);function s(){const{isBot:e}=(0,o.m7)((0,n.h)((()=>["isBot"]),[]));return Boolean(e)}},10822:(e,t,i)=>{i.d(t,{S:()=>s,q:()=>a});var o,n=i(15137);!function(e){e[e.Window_Size_Horizontal_Boundary=730]="Window_Size_Horizontal_Boundary",e[e.Min_Width_Show_Left_Side=100]="Min_Width_Show_Left_Side",e[e.Max_Width_Show_Bottom_Side=398]="Max_Width_Show_Bottom_Side",e[e.Max_Width_Show_Right_Side=398]="Max_Width_Show_Right_Side",e[e.Max_Width_Show_Left_Side=398]="Max_Width_Show_Left_Side"}(o||(o={}));const s=()=>{var e;const{userAgent:t}=null!==(e=(0,n.Lh)((()=>["userAgent"]),[]))&&void 0!==e?e:{};return/^((?!chrome|android).)*safari/i.test(null!=t?t:"")};function a(e,t){let i="bottom";if(!(null==e?void 0:e.current))return i;const n=e.current.getBoundingClientRect();if(n){const{left:e,right:s,bottom:a}=n,{innerWidth:r,innerHeight:d}=window,l=r-s,c=d-a,p=r-e;i=0===t?r>=o.Window_Size_Horizontal_Boundary&&l<=o.Min_Width_Show_Left_Side?"left":c>=o.Max_Width_Show_Bottom_Side?"bottom":"top":r>=o.Window_Size_Horizontal_Boundary&&l>=o.Max_Width_Show_Right_Side?"right":r>=o.Window_Size_Horizontal_Boundary&&l<=o.Min_Width_Show_Left_Side?"left":c>=o.Max_Width_Show_Bottom_Side?"bottom":r>=o.Window_Size_Horizontal_Boundary&&p>=o.Max_Width_Show_Bottom_Side?"left":"top"}return i}},3281:(e,t,i)=>{i.d(t,{u:()=>N});var o=i(71030),n=i(99333),s=i(31738),a=i(30036),r=i(66943),d=i(25129),l=i(28974),c=i(94163),p=i(48716),u=i(63189),h=i(46500),g=i(59775),v=i(72914),m=i(23739),f=i(64526),x=i(10822),b=i(65364),y=i(30471);const _=(0,y.Z)("div",{target:"e1l1o4dc0"})((({theme:e})=>[{marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",background:e.colors.BGView,borderRadius:8,height:"71px"}]),"label:DivStatsBarContainer;"),w=(0,y.Z)("div",{target:"e1l1o4dc1"})((({theme:e})=>[{flex:"30%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","&:not(:first-child)":{borderLeft:"1px solid",borderLeftColor:e.colors.LineSecondary}}]),"label:DivStatsItem;"),S=(0,y.Z)("p",{target:"e1l1o4dc2"})((({theme:e})=>({fontSize:"17px",lineHeight:"20px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold})),"label:PStyledSocialCount;"),I=(0,y.Z)("p",{target:"e1l1o4dc3"})((({theme:e})=>({fontSize:"13px",lineHeight:"17px",color:e.colors.TextSecondary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal})),"label:PStyledSocialText;"),C=e=>{const t=(0,a.Q)(),{likes:i,shares:n,comments:s}=e;return(0,o.jsxs)(_,{children:[(0,o.jsxs)(w,{children:[(0,o.jsx)("span",{children:(0,o.jsx)(S,{children:(0,r.BT)(i)},void 0)},void 0),(0,o.jsx)(I,{children:t("bc_likes")},void 0)]},void 0),(0,o.jsxs)(w,{children:[(0,o.jsx)("span",{children:(0,o.jsx)(S,{children:(0,r.BT)(s)},void 0)},void 0),(0,o.jsx)(I,{children:t("bc_comments")},void 0)]},void 0),(0,o.jsxs)(w,{children:[(0,o.jsx)("span",{children:(0,o.jsx)(S,{children:(0,r.BT)(n)},void 0)},void 0),(0,o.jsx)(I,{children:t("bc_shares")},void 0)]},void 0)]},void 0)};var B,T=i(49907),L=i(43340);!function(e){e.CardLeft="left",e.CardRight="right",e.CardTop="top",e.CardBottom="bottom"}(B||(B={}));const R=(0,y.Z)("div",{target:"e4p686t0"})({display:"flex",flexDirection:"column",height:"fit-content"},"label:DivCardContainer;"),k=(0,y.Z)("div",{target:"e4p686t1"})((({hasTranscript:e,theme:t})=>({overflow:"scroll",overflowX:"hidden",maxHeight:e?"380px":"340px",width:"calc(100% - 3px)",backgroundColor:t.colors.BGSecondary,padding:"20px","::-webkit-scrollbar":{width:"3px",borderRadius:"3px"}})),"label:DivCardScrollContainer;"),D=(0,y.Z)("div",{target:"e4p686t2"})((({theme:e})=>[{position:"absolute",content:"''",height:"8px",width:"100%",backgroundColor:e.colors.BGSecondary,top:"0px",zIndex:100}]),"label:DivStyledTopInfoCardMask;"),E=(0,y.Z)("div",{target:"e4p686t3"})((({theme:e})=>[{position:"absolute",content:"''",height:"8px",width:"100%",backgroundColor:e.colors.BGSecondary,bottom:"0px",zIndex:100}]),"label:DivStyledBottomInfoCardMask;");function j(e,t,i,o){return"right"===e?function(e,t,i){let o={};const n="ltr"===i.direction?{bottom:"-80px",left:"22px"}:{bottom:"-80px",left:"30px"};switch(e){case 122:case 124:case 125:case 18:case 104:o=t?n:{bottom:"-30px",left:"30px"};break;case 0:o={bottom:"-70px",left:"30px"};break;default:o={bottom:"-90px",left:"18px"}}return o}(t,i,o):"bottom"===e?function(e,t){let i={};switch(e){case 122:case 124:case 125:case 18:case 104:i=t?{top:"60px",right:"-48px"}:{top:"30px",right:"-48px"};break;case 0:i={top:"40px",right:"-80px"};break;default:i={top:"70px",right:"-30px"}}return i}(t,i):"left"===e?function(e,t){let i={};switch(e){case 122:case 124:case 125:case 18:case 104:i=t?{bottom:"-90px",right:"30px"}:{bottom:"-30px",right:"24px"};break;case 0:i={bottom:"-70px",right:"35px"};break;default:i={bottom:"-80px",right:"30px"}}return i}(t,i):"top"===e?function(e,t){let i={};switch(e){case 122:case 124:case 125:case 18:case 104:i=t?{bottom:"-5px",right:"-40px"}:{bottom:"40px",right:"-50px"};break;case 0:i={bottom:"25px",right:"-50px"};break;default:i={bottom:"-20px",right:"-50px"}}return i}(t,i):{}}const O=(0,y.Z)("div",{target:"e4p686t4"})((({renderDirection:e,visible:t,theme:i,pageType:o,showInline:n})=>[{display:t?"block":"none"},{position:"absolute",width:"fit-content",height:"fit-content",boxShadow:"0px 4px 40px rgba(0, 0, 0, 0.2)",borderRadius:20,overflow:"hidden",zIndex:99,backgroundColor:i.colors.BGSecondary,"&::before":i.isDark?{}:{position:"absolute",content:"''",height:"8px",width:"100%",background:"linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)",top:"8px",zIndex:100},"&::after":i.isDark?{}:{position:"absolute",content:"''",height:"8px",width:"100%",background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 100%)",bottom:"8px",zIndex:100}},j(e,o,null!=n&&n,i),(0,L.GI)({theme:i,fontFamily:"TikTokFont"})]),"label:DivVideoInfoCardContainer;"),F=(0,y.Z)("div",{target:"e4p686t5"})((({hasTranscript:e})=>[{width:"380px",maxHeight:e?"380px":"340px"}]),"label:DivCardWrapper;"),P=(0,y.Z)("div",{target:"e4p686t6"})({marginLeft:8},"label:DivAuthorInfo;"),M=(0,y.Z)("div",{target:"e4p686t7"})((({theme:e,isSafari:t})=>[(0,L.GI)({theme:e,fontFamily:"TikTokFont",color:"TextReverse"}),(0,L.YJ)({direction:e.direction,marginStart:t?"0":"4px"}),{fontSize:"16px",lineHeight:"20px",fontWeight:"600",float:"right",height:"98%",display:"flex",alignItems:"flex-end",shapeOutside:"inset(calc(100% - 19px) 0 0)"},({isSafari:e,theme:{colors:t,direction:i}})=>Object.assign({},e&&{"&:before":[{content:'"â€¦ "',fontWeight:400,colors:t.TextSecondary},(0,L.YJ)({direction:i,marginEnd:"8px"})]})]),"label:DivLabelButton;"),A=(0,y.Z)("div",{target:"e4p686t8"})({display:"flex"},"label:DivVideoExpandWrapper;"),U=(0,y.Z)("div",{target:"e4p686t9"})((({expanded:e,isSafari:t})=>[e?null:{overflow:"hidden",lineHeight:"1.2rem",maxHeight:"2.6rem",WebkitLineClamp:2,wordBreak:"break-all",WebkitBoxOrient:"vertical",display:t?"block":"-webkit-box"}]),"label:DivVideoDesc;"),G=(0,y.Z)("h3",{target:"e4p686t10"})(L.wj,(({theme:e})=>(0,L.GI)({theme:e,fontWeight:"semiBold"})),"label:H3UniqueId;"),W=(0,y.Z)("span",{target:"e4p686t11"})({display:"inline-block",position:"relative"},"label:SpanIconWrapper;"),z=(0,y.Z)("span",{target:"e4p686t12"})({display:"inline-block",position:"relative",top:"3px"},"label:SpanVerifiedIconWrapper;"),V=(0,y.Z)(T.rU,{target:"e4p686t13"})({display:"flex",marginBottom:"8px",width:"fit-content"},"label:StyledSpanAuthorHeader;"),K=(0,y.Z)("div",{target:"e4p686t14"})({display:"flex"},"label:DivVerifiedWrapper;"),q=(0,y.Z)("div",{target:"e4p686t16"})({marginTop:"24px",position:"relative"},"label:DivTranscriptWrapper;"),H=(0,y.Z)("div",{target:"e4p686t17"})((({theme:e})=>(0,L.GI)({theme:e})),{fontSize:"17px",lineHeight:"20px",fontWeight:"600",marginBottom:"9px"},"label:DivTranscriptHeader;"),Z=(0,y.Z)("div",{target:"e4p686t18"})((({theme:e})=>(0,L.GI)({theme:e})),{fontSize:"15px",lineHeight:"26px",whiteSpace:"pre-line"},"label:DivTranscriptContent;");const $={display:"inline",lineHeight:"20px"},N=e=>{var t,i,y;const _=(0,a.Q)(),{item:w,author:S,description:I,stats:B,isBot:T=!1,handleClose:L,pageType:j,renderDirection:N,visible:Y,botAllTagsResult:Q={},showInline:J=!1}=e,{id:X=""}=w,{uniqueId:ee,secUid:te}=(0,r.m7)(S),ie=`${(0,d.ylP)({uniqueId:ee,secUid:te})}`,oe=(0,l.Y)([X],T,X),ne=null!==(t=null==Q?void 0:Q[X])&&void 0!==t?t:null===(i=oe.tagKeywordPathList)||void 0===i?void 0:i[X],{video:se}=(0,r.m7)(w),{subtitleInfos:ae}=(0,r.m7)(se),re=null!==(y=ae&&(0,u.YV)(ae))&&void 0!==y?y:"",[de,le]=(0,n.b)(f.O,{dependencies:[w],selector:e=>e.transcripts[X]}),ce=(0,s.useMemo)((()=>{const{author:e}=w;return function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(w,["author"])}),[w]),pe=(0,s.useCallback)((e=>t=>{null==t||t.stopPropagation(),h._.handleGeneralClick("info_card",{group_id:X,click_position:e})}),[X]),[ue,he]=(0,s.useState)(T),[ge,ve]=(0,s.useState)(!1),me=(0,s.useRef)(null),fe=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),h._.handleGeneralClick("info_card",{group_id:X,click_position:"caption_see_more"}),he(!0),ve(!1)}),[X]);(0,s.useEffect)((()=>{I&&(null==me?void 0:me.current)&&me.current.scrollHeight>me.current.clientHeight&&ve(!0)}),[w,I]),(0,s.useEffect)((()=>{122===j&&re&&void 0===de&&le.fetchTranscript({url:re,itemId:X})}),[re,le,de,j,X]);const xe=(0,s.useRef)(null);!function(e,t){(0,s.useEffect)((()=>{function i(i){setTimeout((()=>{const{target:o}=i,{current:n}=e;n&&!n.contains(o)&&t()}),100)}function o(){setTimeout((()=>{document.addEventListener("mouseover",i)}),100)}return document.addEventListener("mouseover",o),()=>{document.removeEventListener("mouseover",o),document.removeEventListener("mouseover",i)}}),[e,t])}(xe,L);const be=(0,x.S)();return(0,o.jsxs)(O,Object.assign({visible:Y,forBot:T,renderDirection:N,pageType:j,ref:xe,showInline:J},{children:[(0,o.jsx)(D,{},void 0),(0,o.jsx)(F,Object.assign({hasTranscript:de&&de.length>0,"data-e2e":"video-info-card"},{children:(0,o.jsx)(k,Object.assign({onMouseLeave:L,hasTranscript:de&&de.length>0},{children:(0,o.jsxs)(R,{children:[(0,o.jsxs)(V,Object.assign({onClick:pe("user"),to:ie,"data-e2e":"video-info-card-user"},{children:[(0,o.jsx)(W,{children:(0,o.jsx)(v.q,{"data-e2e":"video-user-avatar",size:40,src:null==S?void 0:S.avatarThumb},void 0)},void 0),(0,o.jsxs)(P,{children:[(0,o.jsxs)(K,{children:[(0,o.jsx)(G,Object.assign({"data-e2e":"video-user-name",verified:Boolean(null==S?void 0:S.verified)},{children:null==S?void 0:S.uniqueId}),void 0),(null==S?void 0:S.verified)&&(0,o.jsx)(z,{children:(0,o.jsx)(g.Q,{width:12,height:12},void 0)},void 0)]},void 0),null==S?void 0:S.nickname]},void 0)]}),void 0),I&&(0,o.jsx)(A,{children:(0,o.jsxs)(U,Object.assign({ref:me,expanded:ue,isSafari:be,"data-e2e":"video-info-card-desc"},{children:[ge&&(0,o.jsx)(M,Object.assign({onClick:fe,isSafari:be},{children:_("seo_aggre_see_more")}),void 0),(0,o.jsx)(c.Q,{item:w,style:$,onLinkClick:pe("hashtag"),styleType:ge?"channel-break":"channel"},void 0)]}),void 0)},void 0),(0,o.jsx)(p._,{item:ce,styleType:5,e2eTag:"video-music",onLinkClick:pe("music"),"data-e2e":"video-info-card-music"},void 0),oe.isFetching?(0,o.jsx)(m.g,{},void 0):ne&&ne.length>0&&(0,o.jsx)(b.y,{item:w,tagList:ne,section:"info_card"},void 0),B&&(0,o.jsx)(C,{likes:B.diggCount,comments:B.commentCount,shares:B.shareCount},void 0),122===j&&de&&de.length>0&&(0,o.jsxs)(q,Object.assign({"data-e2e":"video-info-card-transcript"},{children:[(0,o.jsx)(H,{children:_("seo_aggre_transcript_header")},void 0),(0,o.jsx)(Z,{children:de.map((e=>e.text)).join("\r\n")},void 0)]}),void 0)]},void 0)}),void 0)}),void 0),(0,o.jsx)(E,{},void 0)]}),void 0)}},65364:(e,t,i)=>{i.d(t,{y:()=>S});var o=i(71030),n=i(31738),s=i(35174),a=i(76709),r=i(94159),d=i(46500),l=i(70418),c=i(71928),p=i(30471),u=i(74293),h=i(43340);const g=e=>({"&.main_video":{background:e?"#161823":"#FFFFFF"},"&.info_card":{background:e?"#252525":"#FFFFFF"},"&.main_video_experiment":{background:e?"#121212":"#F8F8F8"}}),v=(0,p.Z)("div",{target:"et7pawi0"})((({theme:{direction:e},right:t})=>({display:"inline-block",transform:t?"ltr"===e?"rotateY(180deg)":"unset":"ltr"===e?"unset":"rotateY(180deg)"})),"label:DivTransform;"),m=(0,p.Z)("div",{target:"et7pawi1"})((({theme:{direction:e,colors:t,isDark:i},right:o,isInfoCard:n})=>[g(i),{position:"absolute",zIndex:1,top:"3px",width:"24px",height:"24px",paddingTop:n?"3px":"4px",fontSize:"16px",color:t.TextTertiaryAlt,"&:hover":{background:i?"rgba(255, 255, 255, 0.08)":"rgba(22, 24, 35, 0.1)",borderRadius:"16px"}},(0,h.YJ)({direction:e,paddingStart:o?"4px":"3px"})]),"label:DivArrowIconContainer;"),f=(0,p.Z)("div",{target:"et7pawi3"})((({theme:{direction:e,isDark:t},right:i,isInfoCard:o})=>[g(t),{position:"absolute",zIndex:1,top:o?"16px":"20px",cursor:"pointer",width:"28px",height:"30px"},(0,h.YJ)({direction:e,[i?"end":"start"]:"0px"})]),"label:DivArrowContainer;"),x=(0,p.Z)(u.v,{target:"et7pawi4"})((({theme:e,theme:{direction:t,isDark:i},isExpandItemTagExp:o})=>[(0,h.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:o?"normal":"semiBold",fontStyle:"normal"}),{fontSize:"16px",lineHeight:"24px",color:i?"rgba(255, 255, 255, 0.75)":"rgba(22, 24, 35, 0.75)","&:hover":{textDecoration:"none",color:i?"rgba(255, 255, 255, 0.75)":"rgba(22, 24, 35, 0.75)"}},(0,h.YJ)({direction:t})]),"label:StyledTagLink;"),b=(0,p.Z)("div",{target:"et7pawi5"})((({theme:{direction:e,isDark:t},right:i})=>[{position:"absolute",top:0,width:"30px",height:"40px","&.main_video":{background:t?"linear-gradient(270deg, #121212 0%, rgba(18, 18, 18, 0) 100%)":"linear-gradient(270deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 100%)"},"&.info_card":{background:t?"linear-gradient(270deg, #252525 0%, rgba(37, 37, 37, 0) 100%)":"linear-gradient(270deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 100%)"},"&.main_video_experiment":{background:t?"linear-gradient(270deg, #1B1B1B 0%, rgba(18, 18, 18, 0) 100%)":"linear-gradient(90deg, rgba(248, 248, 248, 0) 0%, #F8F8F8 100%)"},transform:i?"ltr"===e?"unset":"matrix(-1, 0, 0, 1, 0, 0)":"ltr"===e?"matrix(-1, 0, 0, 1, 0, 0)":"unset"},(0,h.YJ)({direction:e,[i?"end":"start"]:"28px"})]),"label:DivShadow;"),y=(0,p.Z)("div",{target:"et7pawi6"})((({theme:{direction:e,isDark:t}})=>[{display:"flex",alignItems:"center",padding:"2px 12px",fontStyle:"normal",height:"28px",background:t?"rgba(255, 255, 255, 0.12)":"rgba(22,24,35,0.06)",borderRadius:"100px",fontSize:"16px",cursor:"pointer","&:not(:last-child)":(0,h.YJ)({direction:e,marginEnd:"8px"}),"&:hover":{background:t?"rgba(255, 255, 255, 0.08)":"rgba(22,24,35,0.1)"}}]),"label:DivTagItemContainer;"),_=(0,p.Z)("div",{target:"et7pawi7"})((({isInfoCard:e})=>[{position:"relative",zIndex:1,height:e?"48px":"52px"}]),"label:DivItemTagWrapper;"),w=(0,p.Z)("div",{target:"et7pawi8"})((({isInfoCard:e})=>[{display:"flex",boxSizing:"content-box",overflowX:"auto",height:"28px",padding:"2px 0",whiteSpace:"nowrap",marginTop:e?"16px":"20px",scrollBehavior:"smooth",width:"100%",position:"absolute","::-webkit-scrollbar":{display:"none",width:"0 !important",height:"0 !important"}}]),"label:DivItemTagContainer;"),S=(0,n.memo)((function({item:e,tagList:t,section:i,isExpandItemTagExp:p=!1}){const[u,h]=(0,n.useState)(!1),[g,S]=(0,n.useState)(!1),I=(0,n.useRef)(null),{direction:C}=(0,c.u)(),B="ltr"===C;(0,n.useEffect)((()=>{var e,t,i,o,n,s,a,r;const d=null!==(t=null===(e=I.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==t?t:0,l=null!==(o=null===(i=I.current)||void 0===i?void 0:i.scrollWidth)&&void 0!==o?o:0,c=null!==(r=null===(a=null===(s=null===(n=I.current)||void 0===n?void 0:n.getBoundingClientRect)||void 0===s?void 0:s.call(n))||void 0===a?void 0:a.width)&&void 0!==r?r:0;S(d+c+1<=l)}),[]);const T=(0,n.useCallback)((t=>o=>{o.preventDefault(),o.stopPropagation(),d._.handleGeneralClick(i,{keyword:t,group_id:null==e?void 0:e.id,author_id:null==e?void 0:e.authorId,click_position:"query_label"})}),[null==e?void 0:e.authorId,null==e?void 0:e.id,i]),L=(0,n.useCallback)((e=>t=>{var i,o,n,s,a,r,d,l,c;t.preventDefault(),t.stopPropagation();const p=null!==(o=null===(i=I.current)||void 0===i?void 0:i.scrollLeft)&&void 0!==o?o:0,u=null!==(s=null===(n=I.current)||void 0===n?void 0:n.scrollWidth)&&void 0!==s?s:0,h=null!==(l=null===(d=null===(r=null===(a=I.current)||void 0===a?void 0:a.getBoundingClientRect)||void 0===r?void 0:r.call(a))||void 0===d?void 0:d.width)&&void 0!==l?l:0,g=e?B?1:-1:B?-1:1;e&&p+h+20>=u&&S(!1);let v=280;v=window.innerWidth<=600?100:window.innerWidth>1072?280:180,null===(c=I.current)||void 0===c||c.scrollTo({left:p+g*v})}),[B]),R=(0,a.fB)((()=>{var e,t,i,o,n,s,a,r;const d=(B?1:-1)*(null!==(t=null===(e=I.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==t?t:0),l=null!==(o=null===(i=I.current)||void 0===i?void 0:i.scrollWidth)&&void 0!==o?o:0,c=null!==(r=null===(a=null===(s=null===(n=I.current)||void 0===n?void 0:n.getBoundingClientRect)||void 0===s?void 0:s.call(n))||void 0===a?void 0:a.width)&&void 0!==r?r:0;d<=20&&u?h(!1):d>20&&!u&&h(!0),d+c+20>=l&&g?S(!1):d+c+20<l&&!g&&S(!0)}),[u,g,B],200),k="info_card"===i,D=(0,n.useMemo)((()=>`${k?"info_card":"main_video"}${p?"_experiment":""}`),[p,k]),E=e=>!u&&!e||!g&&e?null:(0,o.jsxs)(f,Object.assign({right:e,className:D,isInfoCard:k},{children:[(0,o.jsx)(m,Object.assign({right:e,onClick:L(e),isInfoCard:k,className:D},{children:(0,o.jsx)(v,Object.assign({right:e},{children:(0,o.jsx)(s.Z,{},void 0)}),void 0)}),void 0),(0,o.jsx)(b,{right:e,className:D},void 0)]}),void 0),{keywordTags:j=[]}=e,O=(0,r.hS)(j),F=k?t:O,P=null==F?void 0:F.slice(0,10).map((e=>e.keyword)).toString();return(0,n.useEffect)((()=>{var t;l.vD.handleShowItemTags({keyword:null!=P?P:"",group_id:e.id,author_id:null!==(t=e.authorId)&&void 0!==t?t:""})}),[e.authorId,e.id,P]),F&&F.length<=0?null:(0,o.jsxs)(_,Object.assign({"data-e2e":"video-tag",isInfoCard:k},{children:[E(),(0,o.jsx)(w,Object.assign({"data-e2e":"video-tag-list",ref:I,onScroll:R,isInfoCard:k},{children:null==F?void 0:F.slice(0,10).map(((e,t)=>(0,o.jsx)(y,Object.assign({"data-e2e":"video-tag-item",onClick:T(e.keyword),isInfoCard:k},{children:(0,o.jsx)(x,Object.assign({content:e.keyword,to:e.linkPath,disableAutoLang:!0,isExpandItemTagExp:p},{children:(0,r.$K)(e.keyword)}),t)}),t)))}),void 0),E(!0)]}),void 0)}))},64526:(e,t,i)=>{i.d(t,{O:()=>A,n:()=>M});var o=i(22403),n=i(98279),s=i(3312),a=i(82790),r=i(44914),d=i(8650),l=i(98171),c=i(47294),p=i(94159),u=i(63189);function h(e,t=!1){var i;if(!e.length)return{instruction:"redirect",code:t?404:301};const o=e[0];return 10003===o.statusCode||10006===o.statusCode?{instruction:"redirect",code:t?404:301}:0!==o.statusCode?{instruction:"redirect",code:t?500:301}:0===(null===(i=null==o?void 0:o.itemList)||void 0===i?void 0:i.length)?{instruction:"redirect",code:302}:{instruction:"moveOn"}}var g=i(35132),v=i(2600),m=i.n(v),f=i(90950),x=i(82941),b=i(35380),y=i(55823),_=i(4389),w=i(9082),S=i(80986),I=i(98518),C=i(45809),B=i(8460),T=i(27503),L=i(28952),R=i(43549),k=i(90732),D=i(20849),E=i(32565),j=i(52201);let O=class{constructor(e){this.fetch=e}getVideoExpansionList(e){return this.fetch.get("/api/channel/mvp/video/",{query:e,baseUrlType:2})}getWordList(e){return this.fetch.get("/api/channel/mvp/relatedword/",{query:e,baseUrlType:2})}getTranscript(e){return(0,k.P)((()=>{return t=this,i=void 0,n=function*(){return window.fetch(e).then((e=>e.text()))},new((o=void 0)||(o=Promise))((function(e,s){function a(e){try{d(n.next(e))}catch(e){s(e)}}function r(e){try{d(n.throw(e))}catch(e){s(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(a,r)}d((n=n.apply(t,i||[])).next())}));var t,i,o,n}))}catchParseWebVttError(e){return e}redirect(e){window&&(window.location.href=`${j.o}${location.search}`)}};O=(0,o.__decorate)([(0,R.G)({providers:[D.C]}),(0,o.__metadata)("design:paramtypes",[E.r])],O);const F={Googlebot:1,Bingbot:2},P=e=>e?F[e]:0,M=60;let A=class extends n.D{constructor(e,t,i,o,n){super(),this.service=e,this.seoModule=t,this.appContext=i,this.bizContext=o,this.itemList=n,this.defaultState={keyword:"",transcripts:{},loading:!0,pagePayload:void 0,offset:0,isLoadingMore:!1,hasMore:!0}}setLoading(e,t){e.loading=t}setDataPayload(e,t){Object.assign(e,t)}setTranscript(e,t){const{itemId:i,transcript:o}=t;e.transcripts[i]=o}setHasMore(e,t){e.hasMore=t}appendItemList(e,t){var i,o;const n=null===(o=null===(i=e.pagePayload)||void 0===i?void 0:i.itemResponse)||void 0===o?void 0:o.itemList,s=null!=n?n:[];Object.assign(null!=n?n:{},m()([...s,...t],"id"))}resetChannelData(e){return e.pipe((0,f.z)((()=>(0,x.of)(this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"channel"}),this.getActions().setDataPayload({pagePayload:void 0,keyword:""})))))}getPageRenderData(e){return e.pipe((0,b.M)(this.appContext.state$,this.bizContext.state$),(0,y.U)((([{keyword:e,botRenderConfig:t},i,o])=>{var n,s,a,r,d,l;return{keyword:(0,p.$K)(e),language:i.lang,region:null===(n=i.appContext)||void 0===n?void 0:n.region,isBot:null===(s=o.bizContext)||void 0===s?void 0:s.isBot,appType:null!==(r=null===(a=i.appContext)||void 0===a?void 0:a.appType)&&void 0!==r?r:"t",botRenderConfig:t,trafficType:function(){var e,t;return(null===(e=o.bizContext)||void 0===e?void 0:e.isGoogleBot)?P("Googlebot"):(null===(t=o.bizContext)||void 0===t?void 0:t.isBingBot)?P("Bingbot"):P()}(),coverFormat:null===(l=null===(d=o.bizContext)||void 0===d?void 0:d.videoCoverSettings)||void 0===l?void 0:l.format}})),(0,_.w)((({keyword:e,language:t,region:i,trafficType:o,appType:n,isBot:s,botRenderConfig:a,coverFormat:r})=>{const d=s?M:16,l=s?void 0:0;return(0,w.D)([this.getVideoExpansionList(e,0,i,o,d,l,r),this.getWordList(e,t)]).pipe((0,S.K)((()=>(0,x.of)([]))),(0,y.U)((e=>({response:e,nextStep:h(e,s)}))),(0,I.h)((({nextStep:e})=>"redirect"!==e.instruction||(this.service.redirect(e.code),!1))),(0,_.w)((({response:[i,o]})=>{var r,l;i.itemList=null===(r=i.itemList)||void 0===r?void 0:r.filter((e=>void 0!==e.author));const c=[],{hasMore:p=!0,itemList:h=[]}=i,v=[(0,x.of)(void 0)],m={keyword:e,itemResponse:i,wordListResponse:o},f=null!==(l=null==a?void 0:a.bot_info_card_render_count)&&void 0!==l?l:10;return s&&h.slice(0,f).forEach((e=>{var t;const i=null===(t=e.video)||void 0===t?void 0:t.subtitleInfos;if(i&&0!==i.length){const t=(0,u.YV)(i);t&&v.push(this.downloadTranscript$(t,e.id))}})),(0,w.D)(v).pipe((0,_.w)((o=>{var s;const a={};return o.forEach((e=>{e&&(c.push((0,x.of)(this.getActions().setTranscript(e))),a[e.itemId]=(0,g.JQ)(e.transcript.map((e=>e.text))))})),(0,C.T)(...c,(0,x.of)(this.getActions().setHasMore(p),this.getActions().setDataPayload({keyword:e,pagePayload:m,offset:null!==(s=i.offset)&&void 0!==s?s:d})),this.seoModule.setChannelSEOProps(m,{language:t},n,a))})))})),(0,B.O)(this.getActions().setLoading(!0)),(0,T.l)(this.getActions().setLoading(!1),this.terminate()))})))}loadMore(e){return e.pipe((0,b.M)(this.appContext.state$,this.bizContext.state$,this.state$),(0,y.U)((([{count:e},t,i,{offset:o,keyword:n}])=>{var s,a,r,d,l,c,u;return{keyword:(0,p.$K)(n),count:e,offset:o,language:t.lang,region:null===(s=t.appContext)||void 0===s?void 0:s.region,appId:null===(a=t.appContext)||void 0===a?void 0:a.appId,isBot:null===(r=i.bizContext)||void 0===r?void 0:r.isBot,appType:null!==(l=null===(d=t.appContext)||void 0===d?void 0:d.appType)&&void 0!==l?l:"t",trafficType:function(){var e,t;return(null===(e=i.bizContext)||void 0===e?void 0:e.isGoogleBot)?P("Googlebot"):(null===(t=i.bizContext)||void 0===t?void 0:t.isBingBot)?P("Bingbot"):P()}(),coverFormat:null===(u=null===(c=i.bizContext)||void 0===c?void 0:c.videoCoverSettings)||void 0===u?void 0:u.format}})),(0,_.w)((({keyword:e,count:t,appId:i,region:o,trafficType:n,offset:s,coverFormat:a})=>this.getVideoExpansionList(e,i,o,n,t,s,a).pipe((0,I.h)((e=>0===e.statusCode)),(0,_.w)((({itemList:e=[],hasMore:t=!0,offset:i=0})=>{const o=t&&e.length>0;return(0,x.of)(this.getActions().setHasMore(o),this.getActions().setDataPayload({offset:i}),this.getActions().appendItemList(e))})),(0,B.O)(this.getActions().setDataPayload({isLoadingMore:!0})),(0,T.l)(this.getActions().setDataPayload({isLoadingMore:!1}))))))}fetchTranscript(e){return e.pipe((0,_.w)((({url:e,itemId:t})=>this.downloadTranscript$(e,t).pipe((0,_.w)((e=>{if(e){const{transcript:i}=e;return(0,x.of)(this.getActions().setTranscript({itemId:t,transcript:i}))}return(0,x.of)(this.noop())}))))))}downloadTranscript$(e,t){return this.service.getTranscript(e).pipe((0,_.w)((e=>{const i=(0,u.Kk)(e).cues;return(0,x.of)({itemId:t,transcript:i})})),(0,S.K)((e=>(0,x.of)(void 0))))}getVideoExpansionList(e,t=0,i="",o=0,n=M,s=0,a){return this.service.getVideoExpansionList({keyword:(0,p.QQ)(e),count:n,appId:t,region:i,trafficType:o,offset:s,coverFormat:a}).pipe((0,S.K)((()=>(0,x.of)({statusCode:-1,itemList:[]}))))}getWordList(e,t){return this.service.getWordList({word:(0,p.QQ)(e),language:t,count:10}).pipe((0,S.K)((()=>(0,x.of)({statusCode:-1,relatedWordList:[]}))))}};(0,o.__decorate)([(0,s.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],A.prototype,"setLoading",null),(0,o.__decorate)([(0,s.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],A.prototype,"setDataPayload",null),(0,o.__decorate)([(0,s.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],A.prototype,"setTranscript",null),(0,o.__decorate)([(0,s.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],A.prototype,"setHasMore",null),(0,o.__decorate)([(0,s.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],A.prototype,"appendItemList",null),(0,o.__decorate)([(0,s.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[L.y]),(0,o.__metadata)("design:returntype",L.y)],A.prototype,"resetChannelData",null),(0,o.__decorate)([(0,s.Qm)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[L.y]),(0,o.__metadata)("design:returntype",L.y)],A.prototype,"getPageRenderData",null),(0,o.__decorate)([(0,s.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[L.y]),(0,o.__metadata)("design:returntype",L.y)],A.prototype,"loadMore",null),(0,o.__decorate)([(0,s.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[L.y]),(0,o.__metadata)("design:returntype",L.y)],A.prototype,"fetchTranscript",null),A=(0,o.__decorate)([(0,a.Y)("ChannelPageModule"),(0,o.__metadata)("design:paramtypes",[O,r.C,d.G,l.r,c.h])],A)},28974:(e,t,i)=>{i.d(t,{k:()=>S,Y:()=>w});var o,n,s=i(44720),a=i(14568),r=i(32565),d=i(77307);!function(e){class t{constructor(e){this.Open=!1,this.Env="",e&&(void 0!==e.Open&&(this.Open=e.Open),void 0!==e.Env&&(this.Env=e.Env))}}e.TrafficEnv=t,e.Base=class{constructor(e){this.LogID="",this.Caller="",this.Addr="",this.Client="",e&&(void 0!==e.LogID&&(this.LogID=e.LogID),void 0!==e.Caller&&(this.Caller=e.Caller),void 0!==e.Addr&&(this.Addr=e.Addr),void 0!==e.Client&&(this.Client=e.Client),void 0!==e.TrafficEnv&&(this.TrafficEnv=new t(e.TrafficEnv)),void 0!==e.Extra&&(this.Extra=e.Extra))}},e.BaseResp=class{constructor(e){this.StatusMessage="",this.StatusCode=0,e&&(void 0!==e.StatusMessage&&(this.StatusMessage=e.StatusMessage),void 0!==e.StatusCode&&(this.StatusCode=e.StatusCode),void 0!==e.Extra&&(this.Extra=e.Extra))}}}(o||(o={})),o.TrafficEnv,o.Base,o.BaseResp,function(e){let t,i,n,s,a,r,d;!function(e){e[e.Video=0]="Video",e[e.User=1]="User",e[e.Challenge=3]="Challenge",e[e.Music=4]="Music"}(t=e.ContentEnum||(e.ContentEnum={})),function(e){e[e.UniqId=1]="UniqId",e[e.ItemId=2]="ItemId",e[e.SongName=3]="SongName",e[e.ChallengeName=4]="ChallengeName",e[e.QuestionId=5]="QuestionId",e[e.Keyword=6]="Keyword",e[e.LiveEventId=7]="LiveEventId"}(i=e.ContentType||(e.ContentType={})),function(e){e[e.Created=1]="Created",e[e.Reviewing=2]="Reviewing",e[e.ReviewFailed=3]="ReviewFailed",e[e.Upcoming=4]="Upcoming",e[e.Started=5]="Started",e[e.Deleted=6]="Deleted",e[e.Finished=7]="Finished"}(n=e.LiveEventStatus||(e.LiveEventStatus={})),function(e){e[e.USER=0]="USER",e[e.GOOGLE_BOT=1]="GOOGLE_BOT",e[e.BING_BOT=2]="BING_BOT",e[e.NAVER_BOT=3]="NAVER_BOT"}(s=e.TrafficType||(e.TrafficType={})),function(e){e[e.Sidebar=0]="Sidebar",e[e.ItemDescription=1]="ItemDescription",e[e.UserPageItem=2]="UserPageItem",e[e.KEPDisplayUrl=3]="KEPDisplayUrl",e[e.Breadcrumb=4]="Breadcrumb",e[e.Footer=5]="Footer",e[e.BottomNavigation=6]="BottomNavigation",e[e.VideoInfoCard=7]="VideoInfoCard"}(a=e.Module||(e.Module={})),function(e){e[e.Google=1]="Google",e[e.Bing=2]="Bing"}(r=e.SearchEngine||(e.SearchEngine={})),function(e){e[e.Update=1]="Update",e[e.Delete=2]="Delete"}(d=e.IndexAction||(e.IndexAction={})),e.StatusCodeEmptyParams=1001,e.StatusCodeWordNotExist=1002,e.StatusCodeExceedMaxBatchSize=1003,e.StatusCodeInvalidParams=1004,e.StatusCodeInternalError=2001,e.GetChallengeSplitByIdRequest=class{constructor(e){e&&(this.ChallengeIds=e.ChallengeIds,this.VisitorLanguage=e.VisitorLanguage,this.Region=e.Region,this.appId=e.appId,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.GetChallengeSplitByIdResponse=class{constructor(e){e&&(this.challengeSplitMap=e.challengeSplitMap,void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}},e.GetPredictedLanguageByIdRequest=class{constructor(e){e&&(void 0!==e.ContentId&&(this.ContentId=e.ContentId),void 0!==e.ContentType&&(this.ContentType=e.ContentType),void 0!==e.AppId&&(this.AppId=e.AppId),void 0!==e.Region&&(this.Region=e.Region),void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.GetPredictedLanguageByIdResponse=class{constructor(e){e&&(void 0!==e.predictedLanguage&&(this.predictedLanguage=e.predictedLanguage),void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}},e.GetPredictedLanguageResponse=class{constructor(e){e&&(this.predictedLanguage=e.predictedLanguage,void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}},e.GetPredictedLanguageRequest=class{constructor(e){e&&(this.Content=e.Content,this.ContentType=e.ContentType,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}};class l{constructor(e){e&&(this.Uri=e.Uri,this.UrlList=e.UrlList)}}e.UrlStruct=l;class c{constructor(e){e&&(this.Id=e.Id,this.UniqueId=e.UniqueId,this.Nickname=e.Nickname,this.AvatarThumb=new l(e.AvatarThumb),this.AvatarMedium=new l(e.AvatarMedium),this.AvatarLarger=new l(e.AvatarLarger),this.CreateTime=e.CreateTime,void 0!==e.SecUid&&(this.SecUid=e.SecUid),this.PrivateAccount=e.PrivateAccount,this.Ftc=e.Ftc)}}e.UserStruct=c,e.CommentStruct=class{constructor(e){e&&(this.Id=e.Id,this.Text=e.Text,this.CreateTime=e.CreateTime,this.DiggCount=e.DiggCount,void 0!==e.User&&(this.User=new c(e.User)))}},e.ItemCommentStruct=class{constructor(e){e&&(this.ItemId=e.ItemId,this.Comments=e.Comments)}},e.MultiGetItemCommentRequest=class{constructor(e){e&&(this.ItemIds=e.ItemIds,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.MultiGetItemCommentResponse=class{constructor(e){e&&(void 0!==e.ItemComments&&(this.ItemComments=e.ItemComments),void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}};class p{constructor(e){e&&(this.ID=e.ID,this.OwnerUserID=e.OwnerUserID,this.StartTime=e.StartTime,this.Duration=e.Duration,this.Title=e.Title,this.Description=e.Description,this.Status=e.Status)}}e.LiveEvent=p,e.GetUpcomingLiveEventByUserRequest=class{constructor(e){e&&(this.UserID=e.UserID,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.GetUpcomingLiveEventByUserResponse=class{constructor(e){e&&(void 0!==e.Event&&(this.Event=new p(e.Event)),void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}},e.GetVideoItemIdListRequest=class{constructor(e){e&&(this.ItemId=e.ItemId,this.Count=e.Count,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.GetVideoItemIdListResponse=class{constructor(e){e&&(this.ItemIds=e.ItemIds,void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}},e.SubmitClientUrlImpressionRequest=class{constructor(e){e&&(this.Timestamp=e.Timestamp,this.VisitPageUrl=e.VisitPageUrl,this.Urls=e.Urls,this.Module=e.Module,this.TrafficType=e.TrafficType,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.SubmitClientUrlImpressionResponse=class{constructor(e){e&&void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp))}},e.GetSitemapListRequest=class{constructor(e){e&&(this.TrafficType=e.TrafficType,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.GetSitemapListResponse=class{constructor(e){e&&(void 0!==e.IndexLists&&(this.IndexLists=e.IndexLists),void 0!==e.DeIndexLists&&(this.DeIndexLists=e.DeIndexLists),void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}},e.IndexSubmission=class{constructor(e){e&&(this.Engine=e.Engine,this.Action=e.Action,this.Url=e.Url)}},e.GetIndexSubmissionStatusRequest=class{constructor(e){e&&(void 0!==e.Submission&&(this.Submission=e.Submission),void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.SubmissionStatus=class{constructor(e){e&&(this.Success=e.Success)}},e.GetIndexSubmissionStatusResponse=class{constructor(e){e&&(this.Status=e.Status,void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}};class u{constructor(e){e&&(this.Title=e.Title,this.Desc=e.Desc,this.Keywords=e.Keywords)}}e.ItemCustomTDKStruct=u,e.GetCustomTDKByItemIDRequest=class{constructor(e){e&&(this.ItemID=e.ItemID,void 0!==e.Base&&(this.Base=new o.Base(e.Base)))}},e.GetCustomTDKByItemIDResponse=class{constructor(e){e&&(void 0!==e.ItemCustomTDK&&(this.ItemCustomTDK=new u(e.ItemCustomTDK)),void 0!==e.BaseResp&&(this.BaseResp=new o.BaseResp(e.BaseResp)))}}}(n||(n={})),n.ContentEnum,n.ContentType,n.LiveEventStatus;const l=n.TrafficType;n.Module,n.SearchEngine,n.IndexAction,n.StatusCodeEmptyParams,n.StatusCodeWordNotExist,n.StatusCodeExceedMaxBatchSize,n.StatusCodeInvalidParams,n.StatusCodeInternalError,n.GetChallengeSplitByIdRequest,n.GetChallengeSplitByIdResponse,n.GetPredictedLanguageByIdRequest,n.GetPredictedLanguageByIdResponse,n.GetPredictedLanguageResponse,n.GetPredictedLanguageRequest,n.UrlStruct,n.UserStruct,n.CommentStruct,n.ItemCommentStruct,n.MultiGetItemCommentRequest,n.MultiGetItemCommentResponse,n.LiveEvent,n.GetUpcomingLiveEventByUserRequest,n.GetUpcomingLiveEventByUserResponse,n.GetVideoItemIdListRequest,n.GetVideoItemIdListResponse,n.SubmitClientUrlImpressionRequest,n.SubmitClientUrlImpressionResponse,n.GetSitemapListRequest,n.GetSitemapListResponse,n.IndexSubmission,n.GetIndexSubmissionStatusRequest,n.SubmissionStatus,n.GetIndexSubmissionStatusResponse,n.ItemCustomTDKStruct,n.GetCustomTDKByItemIDRequest,n.GetCustomTDKByItemIDResponse,n.AwemeSeoDiscoveryService;var c=i(43226),p=i.n(c),u=(i(4363),i(94159)),h=function(e,t,i,o){return new(i||(i=Promise))((function(n,s){function a(e){try{d(o.next(e))}catch(e){s(e)}}function r(e){try{d(o.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,r)}d((o=o.apply(e,t||[])).next())}))};const g=(0,d.i)({csr:(e,t)=>h(void 0,void 0,void 0,(function*(){let i={statusCode:-1,channelsByItemId:{}};try{const o={trafficType:l.USER,itemIds:e,clientABVersions:t};i=yield r.h.get("/api/seo/keyword/item_tags/",{query:o})}catch(e){console.log("tag item api fetch error",e)}return i}))}),v=(0,d.i)({csr:p()}),m={statusCode:0,tagKeywordPathList:{}},f=(0,s.j)({initState:m,rehydrationDataKey:"seo.linker.item_tag",fetchAction:(e,t,i,o)=>h(void 0,void 0,void 0,(function*(){var n,s;try{const e=null!==(n=null==o?void 0:o.split(","))&&void 0!==n?n:[],a=yield g(t,e);if(!a.keywordsByItemId)return m;const{keywordsByItemId:r}=a,d={},l=[];for(const[e,t]of Object.entries(r))d[e]=(0,u.hS)(null!==(s=t.keywordTags)&&void 0!==s?s:[]),d[e].length>0&&l.push(...d[e].map((e=>e.linkPath)));return l.length>0&&v(l,i),{statusCode:a.statusCode,tagKeywordPathList:d}}catch(t){return Object.assign(Object.assign({},e),{statusCode:-1})}}))});var x=i(5909),b=i(31738),y=i(15137),_=i(66943);const w=(e=[],t,i)=>{const{pathname:o}=(0,x.TH)(),{abTestVersion:n}=(0,_.m7)((0,y.Lh)((()=>["abTestVersion"]),[])),[{atomState:a,isFetching:r=!1},d]=(0,s.v)(f,{resetStateBeforeDispatch:!0});return(0,b.useEffect)((()=>{e.length>0&&i&&!t&&d(e,o,null==n?void 0:n.versionName)}),[null==n?void 0:n.versionName,d,t,e.length,o,i]),{tagKeywordPathList:a.tagKeywordPathList,isFetching:r}},S=(e=[],t)=>{const{pathname:i}=(0,x.TH)(),[{atomState:o},n]=(0,s.v)(f,{resetStateBeforeDispatch:!0});return(0,a.Y)((()=>{if((null==e?void 0:e.length)>0&&t)return n(e,i)}),[t,i,null==e?void 0:e.length]),o.tagKeywordPathList}},20849:(e,t,i)=>{i.d(t,{C:()=>a});var o=i(91747),n=i(43226),s=i.n(n);const a={provide:new o.O("PreconnectDomains"),useValue:s()}},44914:(e,t,i)=>{i.d(t,{C:()=>_});var o=i(22403),n=i(98279),s=i(82790),a=i(70517),r=i(21249),d=i(45809),l=i(4389),c=i(55297),p=i(46693),u=i(77708),h=i(36661),g=i(9597),v=i(82941),m=i(25933),f=i(56676);let x=class extends n.D{constructor(e){super(),this.stateModule=e,this.defaultState={}}setKeywordsExpansionSharingMeta(e,t,i,o){var n,s,a,r,d;const{protocal:l}=(0,f.qY)(o),c=(0,f.JP)({schema:`${l}user/profile/`,metaParams:e.metaParams,pageType:104,response:{keywordInfo:t},appType:o}),[p,u="",h=""]=null!==(r=null===(a=null===(s=null===(n=t.itemResponse)||void 0===n?void 0:n.itemList)||void 0===s?void 0:s[0])||void 0===a?void 0:a.video.shareCover)&&void 0!==r?r:[],g=i.includes("WhatsApp")||i.includes("line-poker")?u:h,m=p||g,x=Object.assign(Object.assign({},c),{"og:image":m,"twitter:image":m,"og:image:width":"360","og:image:height":"360","og:image:alt":null===(d=e.metaParams)||void 0===d?void 0:d.title});return(0,v.of)(this.stateModule.getActions().setSharingMetaState(x))}setChannelSharingMeta(e,t,i,o){var n,s,a,r,d;const{protocal:l}=(0,f.qY)(o),c=(0,f.JP)({schema:`${l}user/profile/`,metaParams:e.metaParams,pageType:122,response:{keywordInfo:t},appType:o}),[p="",u="",h=""]=null!==(r=null===(a=null===(s=null===(n=t.itemResponse)||void 0===n?void 0:n.itemList)||void 0===s?void 0:s[0])||void 0===a?void 0:a.video.shareCover)&&void 0!==r?r:[],g=i.includes("WhatsApp")||i.includes("line-poker")?u:h,m=p||g,x=Object.assign(Object.assign({},c),{"og:image":m,"twitter:image":m,"og:image:width":"360","og:image:height":"360","og:image:alt":null===(d=e.metaParams)||void 0===d?void 0:d.title});return(0,v.of)(this.stateModule.getActions().setSharingMetaState(x))}setFindSharingMeta(e,t,i,o){var n,s,a,r,d;const{protocal:l}=(0,f.qY)(o),c=(0,f.JP)({schema:`${l}user/profile/`,metaParams:e.metaParams,pageType:124,response:{keywordInfo:t},appType:o}),[p="",u="",h=""]=null!==(r=null===(a=null===(s=null===(n=t.itemResponse)||void 0===n?void 0:n.itemList)||void 0===s?void 0:s[0])||void 0===a?void 0:a.video.shareCover)&&void 0!==r?r:[],g=i.includes("WhatsApp")||i.includes("line-poker")?u:h,m=p||g,x=Object.assign(Object.assign({},c),{"og:image":m,"twitter:image":m,"og:image:width":"360","og:image:height":"360","og:image:alt":null===(d=e.metaParams)||void 0===d?void 0:d.title});return(0,v.of)(this.stateModule.getActions().setSharingMetaState(x))}};x=(0,o.__decorate)([(0,s.Y)("KAPSharingMeta"),(0,o.__metadata)("design:paramtypes",[m.k])],x);var b=i(58508),y=i(30478);let _=class extends n.D{constructor(e,t,i,o){super(),this.stateModule=e,this.service=t,this.sharingMeta=i,this.t=o,this.defaultState={}}setKeywordExpansionSEOProps(e,t,i){const o=Object.assign(Object.assign(Object.assign({},e),t),{seoProps:{pageId:"",pageType:104},t:this.t});return this.service.fetchSEOProps(o,c.z3).pipe((0,r.b)((({metaParams:e={},jsonldList:t=[]})=>{this.stateModule.updateAtom({metaParams:e,jsonldList:t})})),(0,l.w)((t=>(0,d.T)(this.sharingMeta.setKeywordsExpansionSharingMeta(t,e,this.service.getUA(),i)))))}setChannelSEOProps(e,t,i,o,n){const s=Object.assign(Object.assign(Object.assign({},e),t),{transcriptList:o,disableTranscript:n,seoProps:{pageId:"",pageType:122},t:this.t});return this.service.fetchSEOProps(s,p.Q).pipe((0,r.b)((({metaParams:e={},jsonldList:t=[]})=>{this.stateModule.updateAtom({metaParams:e,jsonldList:t})})),(0,l.w)((t=>(0,d.T)(this.sharingMeta.setChannelSharingMeta(t,e,this.service.getUA(),i)))))}setFindSEOProps(e,t,i,o,n,s){const a=Object.assign(Object.assign(Object.assign({},e),t),{transcriptList:o,seoProps:{pageId:"",pageType:124,isKEPInFindUI:s},t:this.t});return this.service.fetchSEOProps(a,u._7).pipe((0,r.b)((({metaParams:e={},jsonldList:t=[]})=>{this.stateModule.updateAtom({metaParams:e,jsonldList:t,disableAlternateLink:n})})),(0,l.w)((t=>(0,d.T)(this.sharingMeta.setFindSharingMeta(t,e,this.service.getUA(),i)))))}impression(e,t,i){this.service.reportImpressionByRpc({Timestamp:Date.now().toString(),VisitPageUrl:`${h.hm}/${e}`,Urls:t.map((e=>e.url)),Module:3,TrafficType:i})}};_=(0,o.__decorate)([(0,s.Y)("KAPSEO"),(0,o.__param)(3,(0,a.t)(g.s$)),(0,o.__metadata)("design:paramtypes",[y.T,b.L,x,Function])],_)},63189:(e,t,i)=>{i.d(t,{fM:()=>p,YV:()=>v,Kk:()=>u});class o extends Error{}class n extends Error{}class s extends Error{}class a extends Error{}class r extends Error{}class d extends Error{}class l extends Error{}const c=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;var p;!function(e){e.WebVTT="webvtt",e.CreatorCaption="creator_caption"}(p||(p={}));const u=(e,t)=>{if(!e||"string"!=typeof e)return{cues:[]};t||(t={});const{meta:i=!1,strict:c=!0}=t,p=(e=(e=(e=e.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),u=p.shift();if(!(null==u?void 0:u.startsWith("WEBVTT")))throw new o('Must start with "WEBVTT"');const v=u.split("\n"),m=v[0].replace("WEBVTT","");if(m.length>0&&" "!==m[0]&&"\t"!==m[0])throw new n("Header comment must start with space or tab");if(0===p.length&&1===v.length)return{valid:!0,strict:c,cues:[],errors:[]};if(!i&&v.length>1&&""!==v[1])throw new s("Missing blank line after signature");const{cues:f,errors:x}=function(e,t){const i=[],o=e.map(((e,o)=>{try{return function(e,t,i){let o=0,n=.01,s="";const c=e.split("\n").filter(Boolean);if(c.length>0&&c[0].trim().startsWith("NOTE"))return null;if(1===c.length&&!c[0].includes("--\x3e"))throw new a(`Cue identifier cannot be standalone (cue #${t})`);if(c.length>1&&!c[0].includes("--\x3e")&&!c[1].includes("--\x3e"))throw new r(`Cue identifier needs to be followed by timestamp (cue #${t})`);const p=c[0].split(" --\x3e ");if(2!==p.length||!h(p[0])||!h(p[1]))throw new d(`Invalid cue timestamp (cue #${t})`);const u=function(e){const t=e.split(".")[0],i=t.split(":");return"00"!==i[0]?t:`${i[1]}:${i[2]}`}(p[0]);if(o=g(p[0]),n=g(p[1]),i){if(o>n)throw new l(`Start timestamp greater than end (cue #${t})`);if(n<=o)throw new l(`End must be greater than start (cue #${t})`)}if(!i&&n<o)throw new l(`End must be greater or equal to start when not strict (cue #${t})`);return c.shift(),s=c.join("\n"),!!s&&{start:o,end:n,text:s,startStr:u}}(e,o,t)}catch(e){return i.push(e),null}})).filter(Boolean);return{cues:o,errors:i}}(p,c);if(c&&x.length>0)throw x[0];const b=i?function(e){const t={};return e.slice(1).forEach((e=>{const i=e.indexOf(":"),o=e.slice(0,i).trim(),n=e.slice(i+1).trim();t[o]=n})),Object.keys(t).length>0?t:null}(v):null,y={valid:0===x.length,strict:c,cues:f,errors:x,meta:{}};return i&&b&&(y.meta=b),y};function h(e){return c.test(e)}function g(e){const t=e.match(c);let i=60*parseFloat(t[1]||"0")*60;return i+=60*parseFloat(t[2]),i+=parseFloat(t[3]),Number(i.toFixed(6))}const v=(e,t=p.WebVTT)=>{const i=null==e?void 0:e.find((e=>{var i;const o=Math.floor((new Date).getTime()/1e3);return("1"===e.Version||"3"===e.Version)&&Number(null!==(i=null==e?void 0:e.UrlExpire)&&void 0!==i?i:0)>o&&e.Format===t}));return null==i?void 0:i.Url}},57066:(e,t,i)=>{i.d(t,{O:()=>r});var o,n,s=i(3979),a=i(46500);!function(e){e.VideoShow="video_show",e.ShowSection="show_section",e.InstallAppStatus="installed_related_app_status",e.Tap="tap"}(o||(o={})),function(e){e.Main="main_page"}(n||(n={}));const r={videoShow:(e,t={})=>{s.W.event("video_show",Object.assign({keyword:e},t))},showSection:(e,t={})=>{s.W.event("show_section",Object.assign({section:e,duration:performance.now()},t))},installAppStatus:(e,t={})=>{s.W.event("installed_related_app_status",Object.assign({getinstalledapp_result:e,duration:performance.now()},t))},handleTap:(e,t="click_content")=>{s.W.event("tap",{enter_method:e,target:t})},handleGeneralClick:(e,t="main_page",i={})=>{a._.handleGeneralClick(e,Object.assign({scene:t},i))}}}}]);