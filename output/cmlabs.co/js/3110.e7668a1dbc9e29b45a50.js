(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3110],{4146:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var o=i(71030),n=i(31738),a=i(77613);const r={id:"heart-fill-03bd63df",use:"heart-fill-03bd63df-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="heart-fill-03bd63df"><g fill-rule="evenodd" clip-path="url(#heart-fill-03bd63df_a)" clip-rule="evenodd"><path d="M7.5 2.25c3 0 4.5 2 4.5 2s1.5-2 4.5-2c3.5 0 6 2.75 6 6.25 0 4-3.269 7.566-6.25 10.25C14.41 20.407 13 21.5 12 21.5s-2.45-1.101-4.25-2.75C4.82 16.066 1.5 12.5 1.5 8.5c0-3.5 2.5-6.25 6-6.25Z" /><path fill="black" fill-opacity=".03" d="M2.402 12.2c1.187 2.497 3.357 4.727 5.348 6.55C9.55 20.399 11 21.5 12 21.5s2.41-1.093 4.25-2.75c2.98-2.684 6.25-6.25 6.25-10.25 0-.087-.002-.174-.005-.26C20.567 13.661 13.68 18.5 11.75 18.5c-1.437 0-6.14-2.687-9.348-6.3Z" /></g><defs><clipPath id="heart-fill-03bd63df_a"><path fill="white" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'};function s(e){const t=(0,n.useContext)(a.e);return(0,n.useLayoutEffect)((()=>(t.add(r),()=>{t.remove("heart-fill-03bd63df")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#heart-fill-03bd63df"},void 0)}),void 0)}},87567:(e,t,i)=>{"use strict";i.d(t,{j0:()=>p,th:()=>h});var o=i(8830),n=i(74373),a=i(32086),r=i(29054),s=i(16167),l=i(77307),d=function(e,t,i,o){return new(i||(i=Promise))((function(n,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};const c=(0,l.i)({csr:()=>d(void 0,void 0,void 0,(function*(){var e;const t=null!==(e=(0,o.bX)(n.Z))&&void 0!==e?e:{pageId:"-1",vidList:[],parameters:{}};return Promise.resolve(t)}))}),u=(0,a.b)((0,r.cn)({}),{rehydrationKey:"seo.abtest.state"}),{useAtomService:p,useServiceDispatchers:m,useServiceState:h}=(0,s.T)(u,((e,t)=>({setAbtest(i){return d(this,void 0,void 0,(function*(){const o=e(u),{canonical:n}=o;if(i!==n)return t(u,{canonical:i,abtest:yield c()})}))}})))},92742:(e,t,i)=>{"use strict";i.d(t,{_L:()=>T,mg:()=>P});var o=i(22403),n=i(98279),a=i(3312),r=i(82790),s=i(70517),l=i(31223),d=i.n(l),c=i(82941),u=i(67080),p=i(28952),m=i(35380),h=i(90950),g=i(80986),v=i(8460),y=i(27503),_=i(17620),b=i(63931),f=i(40362),x=i(9597),k=i(99512),w=i(39543),C=i(71085);const j={app_id:1988,aid:1988,app_name:"tiktok_web",device_id:0,device_platform:"tiktok_web",device_type:"tiktok_web"};var S;!function(e){e[e.Reason=0]="Reason",e[e.Normal=1]="Normal"}(S||(S={}));const T={Desc:1};let P=class extends n.D{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={reasons:null,showing:!1,loading:!1,requesting:void 0,reportTarget:null,lastStatus:"",PageState:0,PageStateData:void 0,PreState:[],UserData:{selectedReason:void 0,submitresult:void 0,HistoryReason:[]},blockedVideos:[],submitCallback:void 0}}setSubmitCallback(e,t){e.submitCallback=t}setReportTarget(e,t){e.reportTarget=t}setReasons(e,t){e.reasons=t,e.PageStateData={reasons:t}}addBlockVideo(e,t){e.blockedVideos.includes(t)||e.blockedVideos.push(t)}removeBlockVideo(e,t){e.blockedVideos=e.blockedVideos.filter((e=>e!==t))}setLoading(e,t){e.loading=t}getReasons(e){return e.pipe((0,m.M)(this.state$),(0,h.z)((([{reportTarget:e,uid:t},i])=>{var o;if(d()(e,i.reportTarget)&&i.reasons&&(null===(o=i.reasons)||void 0===o?void 0:o.length)>0)return(0,c.of)(this.getActions().setReasons(i.reasons));const n=Object.assign(Object.assign({},j),{app_language:e.lang||"",sys_language:e.lang||"",language:e.lang||"",user_id:Number(t)});return this.service.getReportReasons(n).pipe((0,g.K)((()=>(0,c.of)({status:"unknown_error"}))),(0,h.z)((t=>{var i,o,n;if("success"===t.status){const a=(0,w.tc)(null==e?void 0:e.ad_info);k.R.handleAdReasonGet({tag:"browser_mode"===e.play_mode?b.pC.BrowserMode:b.pC.OneColumn,category:b.En,refer:b._S.Button,log_extra:(null===(i=null==e?void 0:e.ad_info)||void 0===i?void 0:i.log_extra)||JSON.stringify({rit:b.dm,req_id:null==a?void 0:a.req_id}),description:"",value:String(null===(o=null==e?void 0:e.ad_info)||void 0===o?void 0:o.creative_id),is_ad_event:"1"});let r=null!==(n=t.data)&&void 0!==n?n:[];return(0,c.of)(this.getActions().setReasons(r))}return f.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:2,widthType:"half"}),(0,c.of)(this.getActions().setReasons([]))})),(0,v.O)(this.getActions().setLoading(!0)),(0,y.l)(this.getActions().setLoading(!1)))})))}handleNextReason(e){return e.pipe((0,m.M)(this.state$),(0,h.z)((([{nextReason:e},{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageStateData({reasons:e}),this.getActions().appendToPreState({state:i,data:t})))))}handleNextForm(e){return e.pipe((0,m.M)(this.state$),(0,h.z)((([e,{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageState(e),this.getActions().setPageStateData({}),this.getActions().appendToPreState({state:i,data:t})))))}setShowing(e,t){e.showing=t}showReport(e){return e.pipe((0,h.z)((({reportTarget:e,uid:t})=>(0,c.of)(this.getActions().setShowing(!0),this.getActions().getReasons({reportTarget:e,uid:t}),this.getActions().setReportTarget(e)))))}hideReport(e){return e.pipe((0,h.z)((()=>(0,c.of)(this.getActions().setShowing(!1)))))}setRequesting(e,t){e.requesting=t}setLastStatus(e,t){e.lastStatus=t}postReport(e){return e.pipe((0,m.M)(this.state$),(0,_.z)((([{reason:e,text:t,extraData:i,region:o,uid:n,loggedOut:a},{reportTarget:r,submitCallback:s}])=>{var l,d;if(!r)return u.E;const p=(0,w.tc)(null==r?void 0:r.ad_info),m=(null===(l=null==r?void 0:r.ad_info)||void 0===l?void 0:l.log_extra)||JSON.stringify({rit:b.dm,req_id:null==p?void 0:p.req_id}),_={origin:"tiktok_web",data:JSON.stringify(Object.assign(Object.assign(Object.assign(Object.assign({app_name:"tiktok_web",aid:1988,current_region:o,reason:e},r),{target:r.object_id,report_type:"ad"}),{}),{report_from:"creative",user_id:n,user_ip:"",version:"",device_id:"",platform:"web",install_id:"",group_id:"",item_id:"",text:(null==i?void 0:i.report_desc)||"",report_type_id:Number(e),report_type_name:t,extra:JSON.stringify({cid:String(null===(d=null==r?void 0:r.ad_info)||void 0===d?void 0:d.creative_id),log_extra:m,req_id:null==p?void 0:p.req_id}),content_type:"ad"}))},x=Object.assign(Object.assign({},j),{app_language:r.lang||"",sys_language:r.lang||"",language:r.lang||"",user_id:Number(n)});return this.service.postReport(_,x).pipe((0,g.K)((()=>(0,c.of)({status:"unknown_error"}))),(0,h.z)((t=>{var o;if(s)return null==s||s(t),(0,c.of)(this.noop());let n;return n="success"===t.status?{title:this.t("Web_report_thanks_for_report"),content:a?this.t("dsa_illegal_report_received_confirm_logout"):this.t("dsa_illegal_report_received_confirm"),button:this.t("pm_mt_live_done"),success:!0}:{title:this.t("Web_report_report_for_error"),content:this.t("Sorry, something wrong with the server, please try again."),button:this.t("live_close"),success:!1},"success"===t.status?k.R.handleReport({tag:"browser_mode"===r.play_mode?b.pC.BrowserMode:b.pC.OneColumn,category:b.En,refer:b._S.Button,ad_extra_data:JSON.stringify({description:(null==i?void 0:i.report_desc)||"",screenshot_uri:(null==i?void 0:i.uri)||"",reason_id:`${e}`}),log_extra:m,value:String(null===(o=null==r?void 0:r.ad_info)||void 0===o?void 0:o.creative_id),is_ad_event:"1"}):f.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:2,widthType:"half"}),"video"===r.report_type&&"success"===t.status&&r.object_id?(f.h.open({content:this.t("Web_report_thanks_for_report"),duration:2,widthType:"half"}),(0,c.of)(this.getActions().addBlockVideo(r.object_id),this.getActions().setLastStatus(t.status),this.getActions().setUserData({submitresult:n}),this.getActions().hideReport())):"success"===t.status?(f.h.open({content:this.t("Web_report_thanks_for_report"),duration:2,widthType:"half"}),(0,c.of)(this.getActions().setLastStatus(t.status),this.getActions().setUserData({submitresult:n}),this.getActions().hideReport())):(0,c.of)(this.getActions().setLastStatus(t.status),this.getActions().setUserData({submitresult:n}))})),(0,v.O)(this.getActions().setRequesting(!0)),(0,y.l)(this.getActions().setRequesting(!1)))})))}setPageState(e,t){e.PageState=t}appendToPreState(e,t){e.PreState.push(t)}removeFromPreState(e){e.PreState.pop()}resetPreState(e){e.PreState=[]}setUserData(e,t){e.UserData=Object.assign(Object.assign({},e.UserData),t)}setPageStateData(e,t){e.PageStateData=t}resetState(e){return e.pipe((0,h.z)((e=>(0,c.of)(this.getActions().resetPreState(),this.getActions().setUserData({selectedReason:void 0,HistoryReason:[]}),this.getActions().setPageState(0),this.getActions().setPageStateData(null),this.getActions().setSubmitCallback(void 0)))))}handlePrevStep(e){return e.pipe((0,m.M)(this.state$),(0,h.z)((([e,{PreState:t}])=>{if(0===t.length)return u.E;const{state:i,data:o}=t[t.length-1];return(0,c.of)(this.getActions().setPageState(i),this.getActions().setPageStateData(o),this.getActions().removeFromPreState())})))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setSubmitCallback",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setReportTarget",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setReasons",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"addBlockVideo",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"removeBlockVideo",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setLoading",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"getReasons",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"handleNextReason",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"handleNextForm",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setShowing",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"showReport",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"hideReport",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setRequesting",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setLastStatus",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"postReport",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Number]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setPageState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"appendToPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"removeFromPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"resetPreState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setUserData",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setPageStateData",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"resetState",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"handlePrevStep",null),P=(0,o.__decorate)([(0,r.Y)("AdReport"),(0,o.__param)(1,(0,s.t)(x.s$)),(0,o.__metadata)("design:paramtypes",[C.d,Function])],P)},71085:(e,t,i)=>{"use strict";i.d(t,{d:()=>l});var o=i(22403),n=i(43549),a=i(59271),r=i(40589),s=i(32565);let l=class{constructor(e){this.fetch=e}getReportReasons(e){return this.fetch.get("/api/ad/v1/report/",{query:Object.assign({origin:"tiktok_web",report_ad_type:4},e),baseUrlType:2,headers:{[r.eD]:this.fetch.csrfToken}})}postReport(e,t){return this.fetch.post("/api/ad/v1/report/feedback/",{body:(0,a.stringify)(Object.assign({},e)),query:t,baseUrlType:2,headers:{[r.eD]:this.fetch.csrfToken}})}uploadImage(e){const t=new FormData;return t.append("file",e),t.append("source","0"),this.fetch.post("/api/upload/image/",{body:t,baseUrlType:2,headers:{[r.eD]:this.fetch.csrfToken},omitContentType:!0})}};l=(0,o.__decorate)([(0,n.G)(),(0,o.__metadata)("design:paramtypes",[s.r])],l)},81039:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Ie});var o=i(71030),n=i(99333),a=i(25879),r=i(31738),s=i(59754),l=i(58718),d=i(43348),c=i(30036),u=i(62671),p=i(35465),m=i(52869),h=i(92742),g=i(71928),v=i(43291),y=i(77966),_=i(23739),b=i(63931),f=i(15137),x=i(39543),k=i(85093),w=i(43340);const C=(0,k.Z)("form",{target:"e1o0lt9f0"})((({theme:e})=>[(0,w.GI)({theme:e,typography:"H6"}),{zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",width:"700px",margin:0}]),"label:FormReport;"),j=(0,k.Z)("div",{target:"e1o0lt9f1"})((({theme:e})=>({width:"400px",zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",margin:0})),"label:DivFormBox;"),S=(0,k.Z)("div",{target:"e1o0lt9f2"})({display:"flex",alignItems:"center",padding:"24px 24px 16px",height:"72px"},"label:DivFormHeader;"),T=(0,k.Z)("div",{target:"e1o0lt9f3"})({cursor:"pointer",padding:"6px",height:"32px"},"label:DivBackButton;"),P=(0,k.Z)("div",{target:"e1o0lt9f4"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),I=(0,k.Z)("h4",{target:"e1o0lt9f5"})((({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:H4FormTitle;");I.defaultProps=Object.assign(Object.assign({},I.defaultProps),{"data-e2e":"report-card-title"});const O=(0,k.Z)("div",{target:"e1o0lt9f6"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"432px",overflowY:"auto",overflowX:"hidden",padding:"16px 16px 0px"})),"label:DivRadioWrapper;"),D=(0,k.Z)("div",{target:"e1o0lt9f7"})((({theme:e})=>({paddingBottom:"8px",paddingLeft:"8px",color:e.colors.TextSecondary,height:"22px",lineHeight:"22px"})),"label:DivSelectText;"),M=(0,k.Z)("div",{target:"e1o0lt9f8"})((({theme:e})=>({color:e.colors.TextPrimary,lineHeight:"22px",fontSize:"16px",userSelect:"none"})),"label:DivReasonText;"),R=(0,k.Z)("label",{target:"e1o0lt9f9"})((({theme:e})=>({boxSizing:"border-box",minHeight:"54px",display:"flex",flex:"1 1 100%",flexDirection:"row",alignItems:"center",cursor:"pointer",position:"relative",wordBreak:"break-all",justifyContent:"space-between",padding:"8px",borderRadius:"8px",":hover":{background:e.colors.BGPlaceholderOpaque}})),"label:LabelRadio;");R.defaultProps=Object.assign(Object.assign({},R.defaultProps),{"data-e2e":"report-card-reason"});const L=(0,k.Z)("div",{target:"e1o0lt9f10"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMMid;"),B=(0,k.Z)("div",{target:"e1o0lt9f14"})((({theme:e})=>({position:"absolute",bottom:"0",left:"0",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGPrimary})),"label:DivFooter;"),A=(0,k.Z)("button",{target:"e1o0lt9f15"})((({theme:e})=>({height:"36px",width:"120px",textAlign:"center",padding:"7px 16px",lineHeight:"22px",fontSize:"16px",position:"absolute",cursor:"pointer",top:"24px",right:"24px",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"4px",":disabled":{background:e.colors.BGPlaceholderDefault,color:e.colors.TextQuaternary}})),"label:ButtonSubmit;");var F=i(99512);const E=(0,k.Z)("div",{target:"ejurlyw0"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),Z=(0,k.Z)("button",{target:"ejurlyw1"})((({theme:e})=>({width:"240px",height:"44px",margin:"133px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;"),z=()=>{var e,t,i,d,u;const p=(0,c.Q)(),{isRTL:k}=(0,m.Y)(),{user:w}=null!==(e=(0,f.Lh)((()=>["user","region"]),[]))&&void 0!==e?e:{},C=(0,n.q)(h.mg),{colors:j}=(0,g.u)(),S=(0,a.m)(h.mg,{selector:e=>{const{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:s,reasons:l}=e;return{lastStatus:t,requesting:i,loading:o,PageState:n,PageStateData:a,UserData:r,reportTarget:s,reasons:l}},dependencies:[]}),T=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),S.reportTarget&&C.getReasons({reportTarget:S.reportTarget,uid:null==w?void 0:w.uid})}),[C,S.reportTarget]),P=e=>e.reason_type_id,I=(0,r.useCallback)((e=>t=>{var i,o,n,a,r,s,l,d,c,u,p,m,g,v,y;t.preventDefault(),t.stopPropagation();let _=null===(o=null===(i=S.PageStateData)||void 0===i?void 0:i.reasons)||void 0===o?void 0:o.find((t=>P(t)===e));if(_&&C.setUserData({selectedReason:_,HistoryReason:[...null!==(n=S.UserData.HistoryReason)&&void 0!==n?n:[],_]}),!_)return;const f=(0,x.tc)(null===(a=S.reportTarget)||void 0===a?void 0:a.ad_info);F.R.handleAdReasonSelect({tag:"browser_mode"===(null===(r=S.reportTarget)||void 0===r?void 0:r.play_mode)?b.pC.BrowserMode:b.pC.OneColumn,category:b.En,refer:b._S.Button,value:String(null===(l=null===(s=S.reportTarget)||void 0===s?void 0:s.ad_info)||void 0===l?void 0:l.creative_id),log_extra:(null===(c=null===(d=S.reportTarget)||void 0===d?void 0:d.ad_info)||void 0===c?void 0:c.log_extra)||JSON.stringify({rit:b.dm,req_id:null==f?void 0:f.req_id}),reason_id:`${(null===(u=S.UserData.selectedReason)||void 0===u?void 0:u.reason_type_id)||""}`,description:_.desc||"",is_ad_event:"1"});const k=null!==(p=_.sub_reason)&&void 0!==p?p:[],w=JSON.parse(null!==(m=_.option)&&void 0!==m?m:"{}"),{action:j}=w;if(k.length>0)C.handleNextReason({nextReason:null!==(g=_.sub_reason)&&void 0!==g?g:[],reason_id:_.reason_type_id});else switch((null==j?void 0:j.action_type)||"submit"){case"submit":case"route":break;default:const e=j.action_params.route_path||"Desc";C.handleNextForm(h._L[e])}!_||Boolean(null===(v=_.sub_reason)||void 0===v?void 0:v.length)?C.handleNextReason({nextReason:null!==(y=_.sub_reason)&&void 0!==y?y:[],reason_id:_.reason_type_id}):C.handleNextForm(1)}),[S.PageStateData,C,S.UserData.HistoryReason,w,S.reportTarget]);return(0,o.jsx)(O,{children:S.loading?(0,o.jsx)(L,{children:(0,o.jsx)(_.g,{},void 0)},void 0):0===(null===(i=null===(t=S.PageStateData)||void 0===t?void 0:t.reasons)||void 0===i?void 0:i.length)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E,Object.assign({top:57},{children:(0,o.jsx)(v.Z,{width:72,height:72},void 0)}),void 0),(0,o.jsx)(E,Object.assign({top:20,style:{fontSize:"18px",lineHeight:"24px",color:j.TextPrimary}},{children:p("pm_mt_live_page_sth_wrong")}),void 0),(0,o.jsx)(E,Object.assign({top:12,style:{fontSize:"16px",lineHeight:"22px",color:j.TextSecondary}},{children:p("pm_mt_live_page_try_again")}),void 0),(0,o.jsxs)(Z,Object.assign({onClick:T},{children:[(0,o.jsx)(y.Z,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}},void 0),p("report_inbox_retry_btn")]}),void 0)]},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D,{children:p("Please select a scenario")},void 0),null===(u=null===(d=S.PageStateData)||void 0===d?void 0:d.reasons)||void 0===u?void 0:u.map((e=>(0,o.jsxs)(R,Object.assign({onClick:I(P(e))},{children:[(0,o.jsx)(M,Object.assign({style:{color:"rgba(0, 0, 0, 1)",fontWeight:500}},{children:e.text}),void 0),k?(0,o.jsx)(l.Z,{style:{color:"rgba(0, 0, 0, 1)"},width:20,height:20},void 0):(0,o.jsx)(s.Z,{style:{color:"rgba(0, 0, 0, 1)"},width:20,height:20},void 0)]}),P(e))))]},void 0)},void 0)};var U=i(22031),W=i(6156),V=i(84656),N=i.n(V),$=i(28972),q=i(816),G=i(71085),H=i(13680);const Q=(0,k.Z)("div",{target:"e1n238hh0"})({position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:1001},"label:DivPreviewImageContainer;"),Y=(0,k.Z)("div",{target:"e1n238hh1"})((({theme:e})=>({position:"absolute",left:0,top:0,right:0,bottom:0,background:e.colors.SDPrimary})),"label:DivMaskContainer;"),K=(0,k.Z)("div",{target:"e1n238hh2"})({position:"absolute",zIndex:1,left:0,top:0,right:0,bottom:0},"label:DivImageContainer;"),J=(0,k.Z)("div",{target:"e1n238hh3"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"692px",height:"810px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"},"label:DivPreviewImage;"),X=(0,k.Z)("div",{target:"e1n238hh4"})((({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.colors.ConstTextInverse5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7}})),"label:DivIconClose;"),ee={position:"absolute",top:"50%",transform:"translateY(-50%)",width:"48px",height:"48px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,":hover":{opacity:1}},te=(0,k.Z)("div",{target:"e1n238hh5"})(Object.assign(Object.assign({},ee),{left:"32px"}),"label:DivIconPrev;"),ie=(0,k.Z)("div",{target:"e1n238hh6"})(Object.assign(Object.assign({},ee),{left:"auto",right:"32px"}),"label:DivIconNext;"),oe=(0,r.memo)((function({imgList:e,defaultIndex:t,onClose:i}){const[n,a]=(0,r.useState)(t>e.length-1?e.length-1:t<0?0:t),{showModal:d,hideModal:c}=(0,H.J)();(0,r.useEffect)((()=>(d(),()=>{c()})),[d,c]);const u=(0,r.useCallback)((()=>{null==i||i()}),[i]),p=(0,r.useCallback)((()=>a((e=>e-1))),[]),m=(0,r.useCallback)((()=>a((e=>e+1))),[]);return(0,o.jsxs)(Q,{children:[(0,o.jsx)(Y,{},void 0),(0,o.jsxs)(K,{children:[(0,o.jsx)(J,{style:{backgroundImage:`url(${e[n]})`}},void 0),(0,o.jsx)(X,Object.assign({onClick:u},{children:(0,o.jsx)($.Z,{height:24,width:24,fill:"#fff"},void 0)}),void 0),n>0&&(0,o.jsx)(te,Object.assign({onClick:p},{children:(0,o.jsx)(l.Z,{height:30,width:30,fill:"#fff"},void 0)}),void 0),n<e.length-1&&(0,o.jsx)(ie,Object.assign({onClick:m},{children:(0,o.jsx)(s.Z,{height:30,width:30,fill:"#fff"},void 0)}),void 0)]},void 0)]},void 0)})),ne=(0,k.Z)("div",{target:"e1nzkl7u0"})((({theme:e})=>({fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,display:"flex",flexWrap:"wrap"})),"label:DivUploadImageContainer;"),ae=(0,k.Z)("div",{target:"e1nzkl7u1"})((({theme:e,size:t})=>({boxSizing:"border-box",width:`${t}px`,height:`${t}px`,display:"flex",alignItems:"center",flexDirection:"column",background:e.colors.BGInput,borderRadius:"2px",overflow:"hidden",cursor:"pointer",paddingTop:(t-50)/2+"px"})),"label:DivImageUploadElement;"),re=(0,k.Z)("div",{target:"e1nzkl7u2"})((({theme:e,size:t})=>({width:`${t}px`,height:`${t}px`,marginRight:"12px",position:"relative",borderRadius:"2px",overflow:"hidden",cursor:"pointer",":before":{content:'""',position:"absolute",width:"200%",height:"200%",borderRadius:"4px",border:`1px solid ${e.colors.LineSecondary}`,transform:"scale(.5)",left:"-50%",top:"-50%",boxSizing:"border-box"},img:{objectFit:"cover",zIndex:3,transform:"translateZ(10px)"}})),"label:DivImageItem;"),se=(0,k.Z)("span",{target:"e1nzkl7u3"})({position:"absolute",display:"flex",boxSizing:"border-box",padding:"5px",top:0,right:0,width:"16px",height:"16px",background:"rgba(22, 24, 35, 0.75)",borderBottomLeftRadius:"2px",cursor:"pointer"},"label:SpanClose;"),le=(0,k.Z)("span",{target:"e1nzkl7u4"})((({theme:e})=>({fontSize:"12px",lineHeight:"15px",color:e.colors.TextTertiary,marginTop:"4px"})),"label:SpanImageNumber;"),de=(0,k.Z)("input",{target:"e1nzkl7u5"})({display:"none",width:0,height:0},"label:InputImage;"),ce=(0,k.Z)("div",{target:"e1nzkl7u6"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMid;");let ue=0;const pe=Number(1048576),me=(e,t)=>e>=5242880?t?.1:.2:e>=1572864?t?.3:.5:e>=524288?t?.4:.6:t?.6:.8,he=(0,r.memo)((function({max:e,onChange:t,size:i=72}){const n=(0,W.fz)(G.d),[a,s]=(0,r.useState)([]),[l,d]=(0,r.useState)(0),[c,u]=(0,r.useState)(!1),p=(0,r.useRef)([]),{colors:m}=(0,g.u)(),h=(0,r.useCallback)((t=>{const i=[],o=t.target.files,n=e-a.length;if(o){const e=o.length>n?n:o.length;for(let t=0;t<e;t++)if(o[t].type.match("image")){const n=new FileReader;n.readAsDataURL(o[t]),n.onload=t=>{i.push({id:ue++,uri:t.target.result,uploaded:!1}),i.length===e&&s((e=>[...e,...i]))},p.current.push(o[t])}t.target.value=""}}),[e,a.length]),v=(0,r.useCallback)((e=>()=>{d(e),u(!0)}),[]),y=(0,r.useCallback)((e=>{const t=p.current[e];new(N())(t,{quality:me(t.size),convertSize:pe,success:i=>{p.current[e]=i,i.width=t.width,i.height=t.height,n.uploadImage(i).subscribe((t=>{const o=[...a];o[e]=Object.assign(Object.assign({},o[e]),{url:t.data.url_list[0],size:i.size,uploaded:!0}),s(o)}))}})}),[a,p,n]),b=e=>()=>{const t=a.slice();t.splice(e,1),s(t),p.current.splice(e,1)},f=(0,r.useCallback)((()=>{u(!1)}),[]);return(0,r.useEffect)((()=>{a.forEach(((e,t)=>{!1===a[t].uploaded&&y(t)})),t(a)}),[a,t,y]),(0,o.jsxs)("div",{children:[(0,o.jsxs)(ne,{children:[a.map(((e,t)=>(0,o.jsxs)(re,Object.assign({size:i},{children:[(0,o.jsx)("img",{src:e.uri,width:i,height:i,style:e.uploaded?{}:{filter:"blur(1px)"},onClick:v(t)},void 0),(0,o.jsx)(se,Object.assign({className:"close",onClick:b(t)},{children:(0,o.jsx)($.Z,{width:7,height:7,fill:"#fff"},void 0)}),void 0),e.uploaded?null:(0,o.jsx)(ce,{children:(0,o.jsx)(_.g,{size:20},void 0)},void 0)]}),e.id))),c&&(0,o.jsx)(oe,{defaultIndex:l,imgList:a.map((e=>e.uri)),onClose:f},void 0),e<=a.length?null:(0,o.jsx)("label",Object.assign({htmlFor:"upload-image-file"},{children:(0,o.jsxs)(ae,Object.assign({size:i},{children:[(0,o.jsx)(q.Z,{height:30,width:30,fill:m.TextTertiary},void 0),(0,o.jsxs)(le,Object.assign({className:"img-number"},{children:[a.length,"/",e]}),void 0)]}),void 0)}),void 0)]},void 0),(0,o.jsx)(de,{multiple:!0,className:"file-input",accept:"image/png,image/jpeg,image/jpg,image/bmp",type:"file",onChange:h,id:"upload-image-file"},void 0)]},void 0)})),ge=(0,k.Z)("div",{target:"e1b69dc70"})({height:"413px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivMainContainer;"),ve=(0,k.Z)("div",{target:"e1b69dc71"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),ye=(0,k.Z)("div",{target:"e1b69dc72"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),_e=(0,k.Z)("div",{target:"e1b69dc73"})((({theme:e})=>({display:"flex",flexDirection:"column",boxSizing:"border-box",padding:"16px 24px",backgroundColor:e.colors.BGView,marginBottom:"8px"})),"label:DivSectionLine;"),be=(0,k.Z)("div",{target:"e1b69dc74"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:DivSectionLineTitle;"),fe=(0,k.Z)("div",{target:"e1b69dc75"})((({theme:e})=>({marginTop:"4px",fontSize:"12px",lineHeight:"16px",color:e.colors.TextQuaternary})),"label:DivSectionLineSubTitle;"),xe=(0,k.Z)("span",{target:"e1b69dc76"})((({theme:e})=>[(0,w.GI)({theme:e,color:"Link",fontWeight:"semiBold",cursor:"pointer"})]),"label:LinkSpan;"),ke=(0,k.Z)("span",{target:"e1b69dc77"})((({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary})),"label:SpanSectionTitle;"),we=(0,k.Z)("span",{target:"e1b69dc78"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:SpanWordCount;"),Ce=(0,k.Z)("textarea",{target:"e1b69dc79"})((({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}))(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary})),"label:TextareaDescription;"),je=(0,k.Z)("div",{target:"e1b69dc711"})({margin:"4px 24px"},"label:DivImageUploader;"),Se=(0,k.Z)("div",{target:"e1b69dc712"})((({theme:e})=>({margin:"12px 24px 0 24px",fontFamily:e.fontFamilies.TikTokFont,fontSize:"14px",color:"rgba(0, 0, 0, 0.56)"})),"label:DivTiper;"),Te=(0,k.Z)("div",{target:"e1b69dc713"})((({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary})),"label:DivFileSizeWarning;"),Pe=(0,r.memo)((function(){var e,t,i,s;const l=(0,c.Q)(),d=(0,n.q)(h.mg),u=(0,a.m)(h.mg,{selector:e=>{const{UserData:t,PreState:i,reportTarget:o}=e;return{UserData:t,PreState:i,reportTarget:o}},dependencies:[]}),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)([]),[y,_]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1),{region:C="",user:j}=null!==(e=(0,f.Lh)((()=>["region","user"]),[]))&&void 0!==e?e:{},S=(0,r.useMemo)((()=>{var e,t,i;return null!==(i=null===(t=null===(e=u.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type_id)&&void 0!==i?i:0}),[]),T=(0,r.useMemo)((()=>{var e,t,i;return null!==(i=null===(t=null===(e=u.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.text)&&void 0!==i?i:""}),[]);(0,r.useEffect)((()=>{w(!0)}),[p,g,y]),(0,r.useEffect)((()=>{var e,t,i,o,n,a;const r=(0,x.tc)(null===(e=u.reportTarget)||void 0===e?void 0:e.ad_info);F.R.handleAdEditPageView({tag:"browser_mode"===(null===(t=u.reportTarget)||void 0===t?void 0:t.play_mode)?b.pC.BrowserMode:b.pC.OneColumn,category:b.En,log_extra:(null===(o=null===(i=u.reportTarget)||void 0===i?void 0:i.ad_info)||void 0===o?void 0:o.log_extra)||JSON.stringify({rit:b.dm,req_id:null==r?void 0:r.req_id}),value:String(null===(a=null===(n=u.reportTarget)||void 0===n?void 0:n.ad_info)||void 0===a?void 0:a.creative_id),refer:b._S.Button,reason_id:`${S}`,description:T,is_ad_event:"1"})}),[]);const P=(0,r.useCallback)((e=>{_(!1);for(const t of e)t.size&&t.size>10485760&&_(!0);v(e)}),[]),I=(0,r.useCallback)((e=>{e.stopPropagation()}),[]),O=(0,r.useCallback)((e=>m(e.target.value)),[]),D=(0,r.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),S&&k){const e={report_desc:p,uri:g.map((e=>e.url)).join(",")};d.postReport({reason:S,text:T,extraData:e,region:C,uid:null==j?void 0:j.uid})}}),[p,g,S,k,d]);return(0,o.jsxs)(ge,{children:[(0,o.jsxs)(ve,{children:[(0,o.jsxs)(_e,{children:[(0,o.jsx)(be,{children:`${l("Web_report_reason_select")} ${null===(t=u.UserData.selectedReason)||void 0===t?void 0:t.text}`},void 0),(null===(i=u.UserData.selectedReason)||void 0===i?void 0:i.desc)&&(0,o.jsxs)(fe,{children:[`${u.UserData.selectedReason.desc}`,(null===(s=u.UserData.selectedReason)||void 0===s?void 0:s.link)&&(0,o.jsx)(xe,Object.assign({onClick:()=>{var e;window.open((null===(e=u.UserData.selectedReason)||void 0===e?void 0:e.link)||"","_blank")}},{children:l("dsa_illegal_placeholder_learnmore")}),void 0)]},void 0)]},void 0),(0,o.jsxs)(ye,{children:[(0,o.jsx)(ke,{children:l("Web_report_description")},void 0),(0,o.jsxs)(we,{children:[p.length,"/",5e3]},void 0)]},void 0),(0,o.jsx)(Ce,{rows:5,maxLength:5e3,placeholder:l("report_details_toast"),value:p,onChange:O,onKeyDown:I},void 0),(0,o.jsxs)(je,{children:[(0,o.jsx)(he,{max:4,onChange:P},void 0),y&&(0,o.jsx)(Te,{children:l("attachment_upload_limit")},void 0)]},void 0),(0,o.jsxs)(Se,{children:[(0,o.jsx)(U.Z,{style:{marginRight:"4px"},width:12,height:12},void 0),l("report_img_toast")]},void 0)]},void 0),(0,o.jsx)(B,{children:(0,o.jsx)(A,Object.assign({disabled:!k,onClick:D},{children:l("Submit")}),void 0)},void 0)]},void 0)})),Ie=(0,r.memo)((function({onClose:e,visible:t=!1,asComponent:i=!1,setPage:g,onBack:v,useBack:y,onSubmit:_}){const b=(0,c.Q)(),{isRTL:f}=(0,m.Y)(),x=(0,n.q)(h.mg),k=(0,a.m)(h.mg,{selector:e=>{const{PageState:t,PreState:i,reportTarget:o,reasons:n,UserData:a}=e;return{PageState:t,PreState:i,reportTarget:o,reasons:n,UserData:a}},dependencies:[]}),w=(0,r.useCallback)((()=>{e()}),[e,k.reportTarget]),O=(0,r.useCallback)((()=>{x.resetState()}),[x]),D=(0,r.useCallback)((()=>{x.handlePrevStep(),null==v||v()}),[x]);(0,r.useEffect)((()=>{_&&x.setSubmitCallback(_)}),[_]),(0,r.useEffect)((()=>{g&&x.setPageState(g)}),[g]);const M=(0,r.useMemo)((()=>b("Report")),[k.PageState]),R=k.PreState.length>0||y,L=()=>0===k.PageState?(0,o.jsx)(z,{},void 0):1===k.PageState?(0,o.jsx)(Pe,{},void 0):void 0,B="undefined"!=typeof document&&document.fullscreenElement;return(0,r.useEffect)((()=>{B&&!t&&x.resetState()}),[x,B,t]),i?(0,o.jsx)(o.Fragment,{children:[0,1].includes(k.PageState)?(0,o.jsxs)(C,Object.assign({"data-e2e":"report-form"},{children:[(0,o.jsxs)(S,Object.assign({isBackable:R},{children:[R&&(0,o.jsx)(T,Object.assign({onClick:D},{children:f?(0,o.jsx)(s.Z,{width:20,height:20},void 0):(0,o.jsx)(l.Z,{width:20,height:20},void 0)}),void 0),(0,o.jsx)(I,Object.assign({"data-e2e":"report-title"},{children:M}),void 0),(0,o.jsx)(P,Object.assign({"data-e2e":"report-card-cancel",onClick:w},{children:(0,o.jsx)(d.Z,{width:14,height:14},void 0)}),void 0)]}),void 0),L()]}),void 0):(0,o.jsx)(j,Object.assign({"data-e2e":"report-form"},{children:L()}),void 0)},void 0):"undefined"!=typeof document&&document.fullscreenElement?(0,o.jsx)(u.u_,Object.assign({parentRef:document.fullscreenElement,visible:t,onClose:w,maskCloseable:!1,keyboardCloseable:!1},{children:[0,1].includes(k.PageState)?(0,o.jsxs)(C,Object.assign({"data-e2e":"report-form"},{children:[(0,o.jsxs)(S,Object.assign({isBackable:R},{children:[R&&(0,o.jsx)(T,Object.assign({onClick:D},{children:f?(0,o.jsx)(s.Z,{width:20,height:20},void 0):(0,o.jsx)(l.Z,{width:20,height:20},void 0)}),void 0),(0,o.jsx)(I,Object.assign({"data-e2e":"report-title"},{children:M}),void 0),(0,o.jsx)(P,Object.assign({"data-e2e":"report-card-cancel",onClick:w},{children:(0,o.jsx)(d.Z,{width:14,height:14},void 0)}),void 0)]}),void 0),L()]}),void 0):(0,o.jsx)(j,Object.assign({"data-e2e":"report-form"},{children:L()}),void 0)}),void 0):(0,o.jsx)(p.d,Object.assign({compact:!0,isOpen:t,onClose:w,onCloseComplete:O,closeOnBackdropClick:!1,closeOnEsc:!1},{children:[0,1].includes(k.PageState)?(0,o.jsxs)(C,Object.assign({"data-e2e":"report-form"},{children:[(0,o.jsxs)(S,Object.assign({isBackable:R},{children:[R&&(0,o.jsx)(T,Object.assign({onClick:D},{children:f?(0,o.jsx)(s.Z,{width:20,height:20},void 0):(0,o.jsx)(l.Z,{width:20,height:20},void 0)}),void 0),(0,o.jsx)(I,Object.assign({"data-e2e":"report-title"},{children:M}),void 0),(0,o.jsx)(P,Object.assign({"data-e2e":"report-card-cancel",onClick:w},{children:(0,o.jsx)(d.Z,{width:14,height:14},void 0)}),void 0)]}),void 0),L()]}),void 0):(0,o.jsx)(j,Object.assign({"data-e2e":"report-form"},{children:L()}),void 0)}),void 0)}))},99512:(e,t,i)=>{"use strict";i.d(t,{R:()=>a});var o,n=i(3979);!function(e){e.AdReasonGet="ads_report_subcategory_list_show",e.AdReasonSelect="ads_report_subcategory_list_click",e.AdEditPageView="ads_report_subcategory_detail_show",e.Report="report"}(o||(o={}));const a={handleAdReasonGet:e=>{n.W.event("ads_report_subcategory_list_show",e)},handleAdReasonSelect:e=>{n.W.event("ads_report_subcategory_list_click",e)},handleAdEditPageView:e=>{n.W.event("ads_report_subcategory_detail_show",e)},handleReport:e=>{n.W.event("report",e)}}},1183:(e,t,i)=>{"use strict";i.d(t,{D:()=>a});var o=i(31738);const n=300;function a(e,t){const{onClick:i,onDoubleClick:a}=e(),r=(0,o.useRef)(0),s=(0,o.useRef)(!1);return(0,o.useCallback)((e=>{r.current&&window.clearTimeout(r.current),s.current?null==a||a(e):(s.current=!0,window.setTimeout((()=>{s.current=!1}),n),r.current=window.setTimeout((()=>{null==i||i(e)}),n))}),t)}},87317:(e,t,i)=>{"use strict";function o(e){var t,i;return null!==(i=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==i?i:"UnknownComponent"}i.d(t,{i:()=>o})},46055:(e,t,i)=>{"use strict";i.d(t,{r:()=>M});var o=i(71030),n=i(31738),a=i(30036),r=i(46405),s=i(15137),l=i(63820),d=i(85093),c=i(90082),u=i(30982),p=i(43340);const m=(0,d.Z)("div",{target:"e1xbbn5s0"})({height:24,overflow:"hidden",display:"flex"},"label:DivUserEventContainer;"),h=(0,d.Z)("div",{target:"e1xbbn5s1"})({height:24,textDecoration:"none",display:"flex",alignItems:"center"},"label:DivUserEventLink;"),g=(0,d.Z)("div",{target:"e1xbbn5s2"})((({theme:e})=>[(0,p.GI)({theme:e,fontWeight:"semiBold"}),{fontSize:16,color:e.colors.TextPrimary,padding:"0 8px",backgroundColor:e.colors.BGInput,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderRadius:2,display:"flex",alignItems:"center"}]),"label:DivUserEventTextWrapper;"),v=(0,d.Z)(c.Z,{target:"e1xbbn5s3"})((({theme:e})=>[(0,p.YJ)({direction:e.direction,marginEnd:6}),{color:e.colors.ConstTextInverse,height:24,width:24}]),"label:StyledEventIcon;"),y=(0,d.Z)(c.Z,{target:"e1xbbn5s4"})((({theme:e})=>[(0,p.YJ)({direction:e.direction,marginEnd:6}),{color:e.colors.ConstTextInverse,height:14,width:14}]),"label:StyledEventIcon2;"),_=(0,d.Z)("div",{target:"e1xbbn5s5"})({display:"flex",alignItems:"center"},"label:DivMultiEvents;"),b=(0,d.Z)("div",{target:"e1xbbn5s6"})((({theme:e})=>[(0,p.GI)({theme:e}),{fontSize:16,color:e.colors.LineSecondary,marginLeft:10,marginRight:8}]),"label:SpanVector;"),f=(0,d.Z)(u.Z,{target:"e1xbbn5s7"})((({theme:e})=>[(0,p.YJ)({direction:e.direction,marginStart:4}),{color:e.colors.TextPrimary,height:16,transition:"all .3s ease",width:16}]),"label:StyledIconChevronDown;"),x=(0,d.Z)("ul",{target:"e1xbbn5s8"})({margin:0,padding:0},"label:Ul;"),k=(0,d.Z)("div",{target:"e1xbbn5s9"})({cursor:"pointer"},"label:DivEventLink;"),w=(0,d.Z)("li",{target:"e1xbbn5s10"})((({theme:e})=>[(0,p.GI)({theme:e}),{listStyleType:"none",height:41,display:"flex",alignItems:"center",padding:8,":hover":{backgroundColor:e.colors.BGView}}]),"label:Li;");var C,j=i(74195),S=i(3979);!function(e){e.LiveEventCardShow="livesdk_live_event_card_show",e.LiveEventCardMoreClick="livesdk_live_event_card_more_click",e.LiveEventCardClick="livesdk_live_event_card_click",e.MultiAnchorEntranceShow="multi_anchor_entrance_show",e.MultiAnchorEntranceClick="multi_anchor_entrance_click"}(C||(C={}));const T=()=>({page_name:S.W.commonParams.page_name,anchor_type:"live_event"}),P=e=>{S.W.event("livesdk_live_event_card_show",Object.assign(Object.assign({},e),T()))};var I=i(5909),O=i(59271);const D="undefined"!=typeof window,M=e=>{var t;const{eventList:i,displayMultiEvents:d,isBrowserMode:c}=e,u=i.length,{eventId:p,groupId:C,eventStartTime:M,authorId:R}=i[0],L=(0,a.Q)(),{pathname:B}=(0,I.TH)(),A=(0,n.useMemo)((()=>"video"===(0,r.Xq)(B)?"landing_page":(0,r.Xq)(B)),[B]),{language:F}=null!==(t=(0,s.Lh)((()=>["language","user"]),[]))&&void 0!==t?t:{},E=null!=F?F:"en",Z=D?(0,l.wk)(Number(M),E,"MMM D, h:mm A"):(0,o.jsx)(j.LP,{width:130},void 0),z=`/live/event/${p}`,[U,W]=(0,n.useState)(!1),V=(0,n.useRef)(!0),N=(0,n.useCallback)((({visible:e})=>{var t;setTimeout((()=>W(e))),e&&(t={live_event_id:p,author_id:R||""},S.W.event("livesdk_live_event_card_more_click",Object.assign(Object.assign({},t),T())),V.current&&i.length&&(i.forEach(((e,t)=>{P({live_event_id:e.eventId,author_id:e.authorId||"",impr_position:1+t})})),V.current=!1))}),[R,p,i]);(0,n.useEffect)((()=>{d&&P({live_event_id:p,author_id:R||"",impr_position:1})}),[R,d,p]),(0,n.useEffect)((()=>{var e;d||(e={live_event_id:p,author_id:R||"",group_id:C||"",video_show_mode:c?"browser_mode":A},S.W.event("multi_anchor_entrance_show",Object.assign(Object.assign({},e),T())))}),[R,d,p,C,A]);const $=(e,t,i,o="",n)=>{var a;e.stopPropagation(),d?(a={live_event_id:i,author_id:o,impr_position:1+t},S.W.event("livesdk_live_event_card_click",Object.assign(Object.assign({},a),T()))):(e=>{S.W.event("multi_anchor_entrance_click",Object.assign(Object.assign({},e),T()))})({live_event_id:i,author_id:o||"",group_id:C||"",video_show_mode:c?"browser_mode":A}),window.open((0,O.stringifyUrl)({url:n,query:{enter_from:d?"personal_live_event_card":"anchor"}}),"_blank")},q=(0,o.jsx)(x,{children:i.map(((e,t)=>{const{eventId:i,eventStartTime:n,authorId:a}=e,r=(0,l.wk)(Number(n),E,"MMM D, h:mm A"),s=`/live/event/${i}`;return(0,o.jsx)(w,{children:(0,o.jsx)(k,Object.assign({onClick:e=>$(e,t,i,a,s),style:{textDecoration:"none"}},{children:(0,o.jsxs)(h,{children:[(0,o.jsx)(y,{},void 0),(0,o.jsx)("span",{children:L("event_dm_share_message_card")},void 0),"  · ",r]},void 0)}),void 0)},i)}))},void 0);return(0,o.jsx)(m,{children:(0,o.jsx)(k,Object.assign({onClick:e=>$(e,0,p,R,z),style:{textDecoration:"none"}},{children:(0,o.jsxs)(h,{children:[(0,o.jsx)(v,{},void 0),(0,o.jsxs)(g,{children:[(0,o.jsx)("span",{children:L("event_dm_share_message_card")},void 0),(0,o.jsx)("span",{children:" · "},void 0),(0,o.jsx)("span",{children:Z},void 0),D&&d&&u>1&&(0,o.jsx)(j.Zm,Object.assign({maxWidth:1e3,background:"BGPrimary",content:q,position:"Bottom",onVisibleChange:N},{children:(0,o.jsxs)(_,{children:[(0,o.jsx)(b,{children:"|"},void 0)," ",u,(0,o.jsx)(f,{style:U?{transform:"rotate(180deg)"}:{}},void 0)]},void 0)}),void 0)]},void 0)]},void 0)}),void 0)},void 0)}},42645:(e,t,i)=>{"use strict";i.d(t,{l:()=>p});var o=i(71030),n=i(99333),a=i(31738),r=i(87317),s=i(13680),l=i(83480),d=i(92742),c=i(81039);var u=i(40461);function p(e){const t=function(t){const i=function({onClose:e}={}){const{hideModal:t}=(0,s.J)(),[i,r]=(0,n.b)(l.bg,{selector:({showing:e})=>e,dependencies:[]}),d=(0,a.useCallback)((()=>{null==e||e(),t(),r.hideReport()}),[r,t,e]);return(0,o.jsx)(u.y,{onClose:d,visible:i},void 0)}(),r=function({onClose:e}={}){const{hideModal:t}=(0,s.J)(),[i,r]=(0,n.b)(d.mg,{selector:({showing:e})=>e,dependencies:[]}),l=(0,a.useCallback)((()=>{null==e||e(),t(),r.hideReport()}),[r,t,e]);return(0,o.jsx)(c.Z,{onClose:l,visible:i},void 0)}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e,Object.assign({},t),void 0),i,r]},void 0)};return t.displayName=`WithReport(${(0,r.i)(e)})`,t}},33148:(e,t,i)=>{"use strict";i.d(t,{$B:()=>a,G2:()=>n,PA:()=>o,xN:()=>r});const o={0:{forceMute:!1,defaultMute:!1},1:{forceMute:!1,defaultMute:!0},2:{forceMute:!1,defaultMute:!1},3:{forceMute:!1,defaultMute:!1},4:{forceMute:!1,defaultMute:!1},6:{forceMute:!1,defaultMute:!1},5:{forceMute:!1,defaultMute:!1},7:{forceMute:!1,defaultMute:!1}},n=.8,a=.05,r=5},50297:(e,t,i)=>{"use strict";i.d(t,{$v:()=>k,DZ:()=>x,Fk:()=>_,Mz:()=>b,db:()=>j,ru:()=>C,s_:()=>f,vN:()=>S});var o=i(99333),n=i(6156),a=i(25879),r=i(31738),s=i(13413),l=i(2833),d=i(50097),c=i(98999),u=i(30036),p=i(45179),m=i(41115),h=i(33148),g=i(70068),v=i(35180),y=i(40362);function _({loadingThreshold:e=1e3,isCurrentVideo:t}){const[i,o]=(0,r.useState)(!1),n=(0,r.useRef)(0),a=(0,r.useCallback)((()=>{n.current&&window.clearTimeout(n.current),o(!1)}),[]),s=(0,r.useCallback)((()=>{e?(n.current&&window.clearTimeout(n.current),n.current=window.setTimeout((()=>{o(!0)}),e)):o(!0)}),[e]);return(0,r.useEffect)((()=>(t||(window.clearTimeout(n.current),o(!1)),()=>window.clearTimeout(n.current))),[t]),{loading:i,handleCanPlayWithLoading:a,handlePauseWithLoading:a,handlePlayingWithLoading:a,handleErrorWithLoading:a,handleWaitingWithLoading:s}}function b(){const[e,t]=(0,r.useState)(!0),i=(0,r.useCallback)((()=>{t(!1)}),[]),o=(0,r.useCallback)((()=>{t(!0)}),[]);return(0,r.useEffect)((()=>{const e=(0,c.Y8)(i,o);return()=>{null==e||e()}}),[o,i]),e}function f({playMode:e,itemMute:t=!1}){const i=(0,u.Q)(),[{mute:n,volume:a},d]=(0,o.b)(l.x,{selector:e=>({mute:t||e.mute,volume:e.volume}),dependencies:[t]}),c=(0,m.il)(),p=(0,r.useCallback)(((o,n="click",r)=>{if(t)return y.h.destroy(),y.h.open({content:i("music_detail_unavailable_1"),duration:3,widthType:"half"}),!1;if(s.$.handleSwitchSound(Object.assign(Object.assign({},r),{muted:o,playMode:e,enter_method:n})),s.$.handleVolumeChange({volume_to:a,click_mute:!0}),v.Bv.setItem("muted",o),d.setMute(o),!o&&0===v.Bv.getItem("volume")){let e=.6;"v2"===c?e=.7:"v3"===c?e=.75:"v4"===c?e=.5:"v5"===c&&(e=.4),v.Bv.setItem("volume",e),d.setVolume(e)}return!0}),[d,e,c,a,i,t]);return{mute:n,volume:a,setMute:p}}function x(){const[{mute:e,volume:t},i]=(0,o.b)(l.x,{selector:e=>({mute:e.mute,volume:e.volume}),dependencies:[]}),n=(0,r.useCallback)(((e,t)=>{v.Bv.setItem("volume",e),i.setVolume(e),0===e?(v.Bv.setItem("muted",!0),i.setMute(!0)):t&&(v.Bv.setItem("muted",!1),i.setMute(!1))}),[i]);return{mute:e,volume:t,setVolume:n}}function k(e){const{setMute:t,setVolume:i}=(0,o.q)(l.x),n=(0,m.il)();let a=.6;"v2"===n?a=.7:"v3"===n?a=.75:"v4"===n?a=.5:"v5"===n&&(a=.4),(0,r.useEffect)((()=>{var o,n;t(null!==(o=v.Bv.getItem("muted"))&&void 0!==o?o:h.PA[e].defaultMute),i(null!==(n=v.Bv.getItem("volume"))&&void 0!==n?n:a)}),[])}const w="video_playback_error";function C(){const e=(0,n.fz)(g.n);return(0,r.useCallback)((t=>{var i,o,n;const a=null!==(o=null===(i=null==t?void 0:t.nativeEvent)||void 0===i?void 0:i.target)&&void 0!==o?o:null===(n=null==t?void 0:t.nativeEvent)||void 0===n?void 0:n.srcElement;if(a){const{error:{code:t=-1,message:i="Empty message"}={},networkState:o,readyState:n,src:r="",currentTime:s=0}=a;e.emitEvent(w,{code:t},{errorMessage:i,errorCode:t,readyState:n,networkState:o,isXgPlayer:"0"});const l={errorCode:t,errorMessage:i,src:r,currentTime:s,networkState:o,readyState:n};e.captureMessage(`Video playback error: ${JSON.stringify(l)}`,4===t?"info":"error")}}),[e])}function j(){const e=(0,n.fz)(g.n);return(0,r.useCallback)((t=>{var i,o,n,a;if(t)try{const{error:r,readyState:s,networkState:l,currentTime:c=0,currentSrc:u="",codecType:p="h264"}=t,{code:m=-1,message:h="Empty message"}=null!=r?r:{};e.emitEvent(w,{code:m},{errorMessage:h,errorCode:String(m),readyState:String(s),networkState:String(l),hevcRobustness:null!==(i=d.Cm.isHevcSupportRobustness)&&void 0!==i?i:"-100",hevcBase:null!==(o=String(d.Cm.isSupportBase))&&void 0!==o?o:"-100",is_bytevc1:null!==(n=String(p.indexOf("h265")>-1?1:0))&&void 0!==n?n:"-100",cpu_core:null!==(a=String(null===navigator||void 0===navigator?void 0:navigator.hardwareConcurrency))&&void 0!==a?a:"0"});const g={errorCode:m,errorMessage:h,src:u,currentTime:c,networkState:l,readyState:s};e.captureMessage(`Video playback error: ${JSON.stringify(g)}`,4===m?"info":"error")}catch(e){}}),[e])}function S(e,t){const i=(0,a.m)(p.A);return(0,r.useMemo)((()=>e.map((e=>{var o,n,a,r,s,l,d,c,u,p,m,h;const g=null!==(o=e.id)&&void 0!==o?o:"",v=i[g],y=null!==(a=null===(n=null==v?void 0:v.video)||void 0===n?void 0:n.bitrateInfo)&&void 0!==a?a:[];return y.length>1?y.map((t=>{var i,o,n,a;return{id:null==e?void 0:e.id,url:null!==(o=null===(i=t.PlayAddr)||void 0===i?void 0:i.UrlList)&&void 0!==o?o:null===(n=null==v?void 0:v.video)||void 0===n?void 0:n.playAddr,definition:t.GearName,bitrate:t.Bitrate,duration:null===(a=null==v?void 0:v.video)||void 0===a?void 0:a.duration,codecType:t.CodecType,qualityType:t.QualityType}})):[{id:null==e?void 0:e.id,url:null===(r=null==v?void 0:v.video)||void 0===r?void 0:r.playAddr,definition:null!==(l=null===(s=y[0])||void 0===s?void 0:s.GearName)&&void 0!==l?l:t,bitrate:null===(d=y[0])||void 0===d?void 0:d.Bitrate,duration:null===(c=null==v?void 0:v.video)||void 0===c?void 0:c.duration,codecType:null!==(p=null===(u=y[0])||void 0===u?void 0:u.CodecType)&&void 0!==p?p:"h264",qualityType:null!==(h=null===(m=y[0])||void 0===m?void 0:m.QualityType)&&void 0!==h?h:"20"}]}))),[t,i,e])}},93697:(e,t,i)=>{"use strict";i.d(t,{x:()=>d,z:()=>l});var o=i(22403),n=i(99333),a=i(31738),r=i(7084);function s(e,t,i){const{direction:o="ltr",progressRef:n,circleRef:r,barRef:s,seekCallback:l,draggingPercentCb:d,draggingStateCb:c,progressReportCallback:u}=e,p=(0,a.useRef)(0),m=(0,a.useRef)(null),h=(0,a.useCallback)(((e,t="original")=>{if("number"!=typeof e)return;const o=Math.min(1,Math.max(0,e));i(o),("dragging"!==t&&"stop"!==t||o!==m.current)&&(null==d||d(o),m.current=o)}),[d,i]),g=(0,a.useCallback)(((e,t="original")=>{if(!r.current||!n.current||!s.current)return;let i;e.stopPropagation(),null==l||l();const a="vertical"===o?n.current.getBoundingClientRect().height:n.current.getBoundingClientRect().width,{x:d,y:c,width:m,height:g}=n.current.getBoundingClientRect();switch(o){case"vertical":i=c+g-e.clientY;break;case"rtl":i=d+m-e.clientX;break;default:i=e.clientX-d}if("start"===t)switch(o){case"vertical":{const e=s.current.getBoundingClientRect().height;p.current=Math.min(1,Math.max(0,e/a));break}default:{const e=s.current.getBoundingClientRect().width;p.current=Math.min(1,Math.max(0,e/a));break}}else{if("stop"===t){const e=Math.min(1,Math.max(0,i/a)),t=p.current;null==u||u(t,e)}h(i/a,t)}}),[r,n,s,l,o,h,u]),v=(0,a.useCallback)(((e,i=!1,o=null)=>{var n;const a=null!==o?o:null!==(n=m.current)&&void 0!==n?n:t,r=a+e;let s;s=r>1||r<0?i?r>1?r-1:r+1:Math.min(1,Math.max(0,a+e)):r,null==u||u(a,s),h(s,"original")}),[t,h,u]),y=(0,a.useCallback)((e=>{null==c||c(!0),e.preventDefault(),g(e,"dragging")}),[c,g]),_=(0,a.useCallback)((e=>{document.removeEventListener("mouseup",_),document.removeEventListener("mousemove",y),g(e,"stop"),null==c||c(!1)}),[c,y,g]);return{bindDrag:(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),g(e,"start"),document.addEventListener("mouseup",_),document.addEventListener("mousemove",y)}),[g,_,y]),seek:g,seekByDelta:v}}function l(e){const{videoId:t}=e,i=(0,o.__rest)(e,["videoId"]),[{duration:l,videoPercent:d,currentTime:c},{setVideoInfo:u}]=(0,n.b)(r.M,{selector:e=>e[t]?e[t]:{duration:0,videoPercent:0,currentTime:0},dependencies:[t]}),p=s(i,d,(0,a.useCallback)((e=>u({videoId:t,videoPercent:e,currentTime:l*e,duration:l})),[l,u,t]));return Object.assign(Object.assign({},p),{duration:l,videoPercent:d,currentTime:c,setVideoInfo:u})}function d(e){const{initialPercent:t=0}=e,i=(0,o.__rest)(e,["initialPercent"]),[n,r]=(0,a.useState)(t),l=s(i,n,r);return Object.assign(Object.assign({},l),{percent:n,update:r})}},17560:(e,t,i)=>{"use strict";i.d(t,{FU:()=>g,K$:()=>p,S1:()=>m,Ws:()=>y,g7:()=>h,kw:()=>u,mm:()=>v});var o=i(25879),n=i(19330),a=i(41115),r=i(45179),s=i(49888),l=i(23097),d=i(15137),c=i(66943);const u=e=>void 0!==(null==e?void 0:e.imagePost),p=e=>{var t,i;const o=u(e);return{aweme_type:o?150:0,pic_cnt:o?null===(i=null===(t=null==e?void 0:e.imagePost)||void 0===t?void 0:t.images)||void 0===i?void 0:i.length:void 0}},m=e=>{const{shouldUseAds:t}=(0,a.Ny)(),i=(0,c.m7)((0,o.m)(r.A,{selector:t=>t[e],dependencies:[e]}));if(!t)return{};const{isTT4BAds:n=!1}=(0,c.m7)(i);return{isAds:n?1:0,adsType:n?"in_feed_ads":void 0}},h=(e,t)=>{const{currentCategory:i}=(0,o.m)(s.F);return 19!==t?null:{enter_method:"category_video_display",enter_tab:i,diversify_id:null==e?void 0:e.diversificationId}},g=e=>{var t;const i=(0,l.g)(e),{width:o,height:n,duration:a}=null!==(t=null==i?void 0:i.video)&&void 0!==t?t:{};return{video_width:o,video_height:n,video_duration:a}},v=({id:e,play_mode:t="one_column"})=>{var i;const{wid:o}=null!==(i=(0,d.Lh)((()=>["wid"]),[]))&&void 0!==i?i:{},a=(0,l.g)(e),r=null==a?void 0:a.ad_info;if(r){const e=(0,n.H)({ad_info:r,play_mode:t});return e.ad_extra_data={user_session:o},e}},y=(e,t)=>{var i;if(t)return null!==(i=null==e?void 0:e.isPinnedItem)&&void 0!==i&&i}},51832:(e,t,i)=>{"use strict";i.d(t,{N:()=>s,q:()=>r});var o=i(6156),n=i(31738),a=i(70068);function r({pid:e}){const t=(0,o.fz)(a.n);(0,n.useEffect)((()=>{t.config({pid:e}),t.start(e)}),[e,t])}function s(){return(0,o.fz)(a.n)}},63705:(e,t,i)=>{"use strict";i.d(t,{j:()=>c});var o=i(31223),n=i.n(o);const a="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},r=[],s=[];let l;function d(e,t){var i;let o;const{defaultView:n}=e.ownerDocument;let a=t;return(null==n?void 0:n.getComputedStyle)?(a=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(e,null).getPropertyValue(a)):e.currentStyle?(a=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()})),o=null===(i=e.currentStyle)||void 0===i?void 0:i[a],o):""}const c={bind:function(e,t){if(a(e))if("undefined"!=typeof ResizeObserver){const i=new ResizeObserver(t);i.observe(e),s.push({el:e,observer:i})}else{const i={el:e,callback:t,style:{width:d(e,"width"),height:d(e,"height")}};r.push(i),l||(l&&clearInterval(l),l=setInterval((function(){var e;for(const t of r){const i=t.el,o={width:d(i,"width"),height:d(i,"height")};n()(o,t.style)||(t.style={width:o.width,height:o.height},null===(e=t.callback)||void 0===e||e.call(t))}}),200))}},remove:function(e,t){if("undefined"==typeof ResizeObserver){for(let i=0;i<r.length;i++)if(r[i].el===e&&r[i].callback===t){r.splice(i,1);break}0===r.length&&(l&&clearInterval(l),l=null)}else for(let t=0;t<s.length;t++)if(s[t].el===e){s[t].observer.unobserve(e),s[t].observer.disconnect(),s.splice(t,1);break}}}},36995:(e,t,i)=>{"use strict";i.d(t,{s:()=>o});const o=()=>({filter:"drop-shadow(0px 1px 1px rgba(0 0 0 / 12%))"})},67051:(e,t,i)=>{"use strict";i.d(t,{Yr:()=>r,mB:()=>o,xo:()=>n});const o=e=>10229===e||10230===e,n=e=>{if(isNaN(e))return"00:00";const t=Math.floor(e/3600),i=(t<10?"0":"")+t.toString(),o=`0${Math.floor(e/60%60)}`.slice(-2),n=`0${Math.floor(e%60)}`.slice(-2);return 0===t?`${o}:${n}`:`${i}:${o}:${n}`},a=new Map([[2,"adapt_lowest_1080p"],[3,"adapt_lower_1080p"],[4,"adapt_1080p"],[7,"adapt_lowest_1440p"],[10,"normal_720p"],[11,"low_720p"],[12,"adapt_high_720p"],[13,"adapt_higher_720p"],[14,"adapt_lower_720p"],[15,"adapt_lowest_720p"],[16,"higher_720p"],[17,"highest_720p"],[18,"adapt_720p"],[19,"adapt_low_720p"],[191,"lower_720p"],[20,"normal_540p"],[21,"adapt_lower_540p"],[22,"adapt_high_540p"],[23,"adapt_higher_540p"],[24,"lower_540p"],[25,"lowest_540p"],[26,"higher_540p"],[27,"highest_540p"],[28,"adapt_540p"],[29,"adapt_lowest_540p"],[291,"adapt_low_540p"],[30,"normal_480p"],[31,"low_480p"],[32,"high_480p"],[33,"medium_480p"],[34,"lower_480p"],[35,"lowest_480p"],[36,"higher_480p"],[37,"highest_480p"],[38,"adapt_480p"],[39,"adapt_lower_480p"],[391,"adapt_high_480p"],[40,"normal_360p"],[41,"low_360p"],[42,"high_360p"],[43,"medium_360p"],[44,"lower_360p"],[45,"lowest_360p"],[46,"higher_360p"],[47,"highest_360p"],[48,"adapt_360p"],[49,"adapt_lowest_360p"],[50,"adapt_high_360p"]]),r=(e,t)=>{if(!e)return t;if(String(e).indexOf("xgpreload_config")>-1)return e;if(!a.has(Number(e))){const t=String(e).match(/^([a-zA-Z]*)+_([0-9]+)_0$/i);return t?`${t[1]}_${t[2]}p`:`unknown_${e}`}return a.get(Number(e))}},10206:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ae});var o=i(71030),n=i(31738),a=i(74195),r=i(68561),s=i(99333),l=i(5909),d=i(3781),c=i(47652),u=i(98999),p=i(66943),m=i(18031),h=i(15137),g=i(22403),v=i(98279),y=i(3312),_=i(82790),b=i(35380),f=i(67080),x=i(82941),k=i(55823),w=i(28952),C=i(17620),j=i(80986),S=i(11580),T=i(49724),P=i(43549),I=i(32565);let O=class{constructor(e){this.fetch=e}getPoiDetail(e){return this.fetch.get("/api/poi/detail/",{query:e,baseUrlType:2})}};O=(0,g.__decorate)([(0,P.G)(),(0,g.__metadata)("design:paramtypes",[I.r])],O);let D=class extends v.D{constructor(e){super(),this.service=e,this.defaultState={poi:{}}}setPoiInfo(e,t){t&&(e.poi[t.id]=t)}getPoiInfo(e){return e.pipe((0,b.M)(this.state$),(0,C.z)((([{poiId:e="",language:t,teaParams:i,callback:o},{poi:n}])=>n[e]?(i&&(T.W.handleEnterPoi(Object.assign(Object.assign({},i),n[e])),null==o||o()),f.E):this.service.getPoiDetail({poiId:e,language:t}).pipe((0,j.K)((()=>(0,x.of)({statusCode:-1}))),(0,k.U)((e=>{var t,n;const{statusCode:a,poiInfo:r}=e;return 0===a?(i&&(T.W.handleEnterPoi(Object.assign(Object.assign({},i),null!==(t=null==r?void 0:r.poi)&&void 0!==t?t:{id:"",name:""})),null==o||o()),this.getActions().setPoiInfo(null===(n=null==e?void 0:e.poiInfo)||void 0===n?void 0:n.poi)):this.noop()})),(0,S.R)(this.dispose$)))))}};(0,g.__decorate)([(0,y.cQ)(),(0,g.__metadata)("design:type",w.y)],D.prototype,"dispose$",void 0),(0,g.__decorate)([(0,y.lF)(),(0,g.__metadata)("design:type",Function),(0,g.__metadata)("design:paramtypes",[Object,Object]),(0,g.__metadata)("design:returntype",void 0)],D.prototype,"setPoiInfo",null),(0,g.__decorate)([(0,y.Qm)(),(0,g.__metadata)("design:type",Function),(0,g.__metadata)("design:paramtypes",[w.y]),(0,g.__metadata)("design:returntype",void 0)],D.prototype,"getPoiInfo",null),D=(0,g.__decorate)([(0,_.Y)("PoisModule"),(0,g.__metadata)("design:paramtypes",[O])],D);var M=i(59822),R=i(85093),L=i(74293);const B=(0,R.Z)(L.v,{target:"e65hkrg0"})({display:"inline-flex",alignItems:"center",textDecoration:"none",":hover":{textDecoration:"none"},minWidth:0},"label:StyledLink;"),A=function({info:e,playMode:t,teaParams:i,target:a="_self",onLinkClick:r,isInTooltip:g,noWrapper:v}){const{id:y,name:_,fatherPoiName:b}=(0,p.m7)(e),{language:f}=(0,p.m7)((0,h.Lh)((()=>["language"]),[])),x=(0,s.q)(D),k=(0,l.k6)(),w=(0,m.iz)(y,_),C=Boolean(e),j=(0,n.useMemo)((()=>0===t?"one_column":4===t?"video_detail":"browser_mode"),[t]),S=(0,n.useMemo)((()=>({enter_method:j,anchor_id:y,anchor_name:_,author_id:i.author_id})),[y,_,j,i]);(0,n.useEffect)((()=>{C&&c.B8.handlePoiAnchorShow(S)}),[C]);const T=(0,n.useCallback)((e=>{(0,u.NS)(e),c.B8.handlePoiAnchorClick(S),null==r||r(e,w,"poi"),x.getPoiInfo({poiId:y,language:f,teaParams:Object.assign(Object.assign({},i),{enter_method:"click_caption",play_mode:j}),callback(){"_blank"===a?window.open(w,"_blank"):k.push(w)}})}),[S,x,j,k,y,f,w,i,a,r]),P=(0,o.jsxs)(B,Object.assign({rel:"opener",replace:2===t,target:a,to:w,onClick:T},{children:[(0,o.jsx)(d.N,{size:14},void 0),(0,o.jsxs)(M.mV,Object.assign({isInTooltip:g},{children:[_,b&&` · ${b}`]}),void 0)]}),void 0);return v?P:(0,o.jsx)(M.Yj,Object.assign({"data-e2e":"poi-anchor",playMode:t,isInTooltip:g,noWrapper:v,shouldOptProfile:!0},{children:P}),void 0)};var F,E,Z=i(3979);!function(e){e.CapCutAnchorShow="multi_anchor_entrance_show",e.CapCutAnchorClick="multi_anchor_entrance_click"}(F||(F={})),function(e){e.OneColumn="one_column",e.BrowserMode="browser_mode",e.VideoDetail="video_detail",e.VideoAnchor="video_anchor",e.CommentAnchor="comment_anchor",e.ClickCaption="click_caption"}(E||(E={}));const z=(0,R.Z)("img",{target:"e1t3ukaq1"})({width:"14px",height:"14px",objectFit:"cover"},"label:ImgLogo;"),U=(0,R.Z)("a",{target:"e1t3ukaq2"})({display:"inline-flex",alignItems:"center",textDecoration:"none",":hover":{textDecoration:"none"}},"label:ACapCutLink;"),W=function({noWrapper:e,info:t,playMode:i,teaParams:a,isInTooltip:r}){var s;const{schema:l,icon:d,keyword:c,logExtra:u}=(0,p.m7)(null==t?void 0:t[0]),m=(0,p.m7)(null===(s=null==d?void 0:d.urlList)||void 0===s?void 0:s[0]),h=Boolean(null==t?void 0:t[0]),g=(0,n.useMemo)((()=>0===i?"one_column":4===i?"video_detail":"browser_mode"),[i]),v=(0,n.useMemo)((()=>{let e={};try{e=u&&JSON.parse(u)}catch(e){console.error(e)}return Object.assign(Object.assign(Object.assign({},a||{}),{enter_from:g}),e||{})}),[g,u,a]);(0,n.useEffect)((()=>{var e;h&&(e=v,Z.W.event("multi_anchor_entrance_show",e))}),[h]);const y=(0,n.useCallback)((()=>{var e;e=v,Z.W.event("multi_anchor_entrance_click",e)}),[v]),_=(0,n.useMemo)((()=>(0,o.jsxs)(U,Object.assign({target:"_blank",href:l,onClick:y},{children:[(0,o.jsx)(z,{alt:c,src:m},void 0),(0,o.jsx)(M.mV,Object.assign({isInTooltip:r},{children:c}),void 0)]}),void 0)),[y,r,c,m,i,l]);return e?_:(0,o.jsx)(M.Yj,Object.assign({"data-e2e":"capcut-anchor",isInTooltip:r,noWrapper:e,shouldOptProfile:!0},{children:_}),void 0)};var V=i(12318),N=i(96111),$=i(30036);const q=(0,n.memo)((function({item:e,playMode:t}){var i,n;const a=(0,$.Q)(),r=null!==(n=null===(i=e.ad_info)||void 0===i?void 0:i.tag_text)&&void 0!==n?n:"Tag Text Placeholder";return(0,o.jsx)(M.Yj,Object.assign({shouldOptProfile:!0,playMode:t,isTag:!0},{children:a(r)}),void 0)}));var G,H,Q;!function(e){e.AigcAnchorShow="view_creator_label_aigc",e.AigcAnchorClick="click_creator_label_aigc"}(G||(G={})),function(e){e.None="0",e.Manual="1",e.Auto="2"}(H||(H={})),function(e){e.WebFyp="web_fyp",e.BrowserMode="browser",e.VideoDetail="video_detail",e.WebMobileFyp="web_mobile_fyp"}(Q||(Q={}));var Y=i(41115),K=i(43340);const J=(0,R.Z)("a",{target:"evbdqjo0"})({textDecoration:"none",":hover":{textDecoration:"none"}},"label:AigcLink;"),X=(0,R.Z)("p",{target:"evbdqjo1"})((({theme:e,theme:{colors:t}})=>[(0,K.GI)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"-4px",marginBottom:"8px",fontSize:"12px",fontWeight:500},{padding:"1px 3px",background:t.ConstBGMat,borderRadius:"2px",fontWeight:600,textShadow:"0 0 16px rgba(0, 0, 0, .34)"}]),"label:AigcTagMobile;");var ee=i(17471);const te={1:{teaLabelType:"1",i18nKey:"syntheticMedia_feed_bottomBanner_AIGCLabel"},2:{teaLabelType:"2",i18nKey:"AIGC_FYP_descSection_label"},0:{teaLabelType:"0",i18nKey:""}},ie=(0,n.memo)((function({item:e,playMode:t}){var i,a,r;const s=(0,$.Q)(),l=Number(null!==(i=e.aigcLabelType)&&void 0!==i?i:0),d=te[l].i18nKey,c=te[l].teaLabelType,u=(0,Y.Kp)(),p=0!==l&&u,{language:g="",region:v=""}=null!==(a=(0,h.Lh)((()=>["language","region"]),[]))&&void 0!==a?a:{},{isMobile:y}=null!==(r=(0,ee.h)((()=>["isMobile"]),[]))&&void 0!==r?r:{},_=(0,n.useMemo)((()=>y?"web_mobile_fyp":2===t?"browser":4===t?"video_detail":"web_fyp"),[t,y]),b=(0,n.useMemo)((()=>({aigc_label_type:c,enter_from:_,country_code:v})),[_,c,v]),f=(0,m.Bp)(_,g),x=(0,n.useCallback)((()=>{var e;e=b,Z.W.event("click_creator_label_aigc",e)}),[b]),k=(0,n.useCallback)((e=>y?(0,o.jsx)(X,{children:e},void 0):(0,o.jsx)(M.Yj,Object.assign({shouldOptProfile:!0,playMode:t,isTag:!0},{children:e}),void 0)),[y,t]);return(0,n.useEffect)((()=>{var e;p&&(e=b,Z.W.event("view_creator_label_aigc",e))}),[p,b]),p?(0,o.jsx)(J,Object.assign({target:"_blank",href:f,onClick:x},{children:k(s(d))}),void 0):null})),oe=[{id:"0",type:54,keyword:"CapCut | Edit like a pro",icon:{uri:"tiktok-obj/capcut_logo_64px_bk.png",urlList:["https://p16-sg.tiktokcdn.com/obj/tiktok-obj/capcut_logo_64px_bk.png"]},schema:"https://www.capcut.com/editor?scenario=tiktok&utm_campaign=70361230&utm_medium=tiktok_anchor&utm_source=tiktok_anchor_tool",logExtra:'{"anchor_id":0,"anchor_name":"CapCut | Edit like a pro","anchor_type":"TT_CAPCUT","capability_key":"effect;effect_13090155,effect_13566886,effect_15452450,effect_15608083,effect_7033800","template_id":"none","tutorial_id":"none","video_source":0,"video_type_id":1}',description:"CapCut · Video Editor",thumbnail:{uri:"tiktok-obj/64x_Capcut3x.png",urlList:["https://p16-sg.tiktokcdn.com/obj/tiktok-obj/64x_Capcut3x.png"],width:64,height:64},extraInfo:{subtype:""}}];var ne=i(62064);const ae=function({target:e,item:t,playMode:i,capcapAnchorTeaParams:s,poiTeaParams:l,poiOnLinkClick:d,noSubOnlyTag:c,noPaidPartnerTag:u}){const{poi:m,capcutAnchorsOriginal:h,ad_info:g}=(0,p.m7)(t),v=Boolean(m),y=!!g,{isDesktopUiOptDebugOn:_}=(0,Y.CY)();let b=h;_&&(b=oe);const f=Boolean(null==b?void 0:b[0]),x=(0,n.useCallback)(((t,n)=>v?(0,o.jsx)(A,{onLinkClick:d,target:e,info:m,playMode:i,teaParams:l,isInTooltip:t,noWrapper:n},void 0):null),[v,i,m,d,l,e]),k=(0,n.useCallback)(((e,t)=>f?(0,o.jsx)(W,{info:b,playMode:i,teaParams:s,isInTooltip:e,noWrapper:t},void 0):null),[s,b,f,i]),w=(0,n.useMemo)((()=>(0,o.jsxs)("div",{children:[(0,o.jsx)(M.RP,{children:x(!0)},void 0),(0,o.jsx)(a.Sp,{color:"LineSecondary"},void 0),(0,o.jsx)(M.RP,{children:k(!0)},void 0)]},void 0)),[k,x]),C=k(!1,!0),j=x(!1,!0),S=f&&v,T=!v&&!f,P=u?null:(0,o.jsx)(V.C,{target:e,item:t,playMode:i},void 0),I=c?null:(0,o.jsx)(N.v,{item:t,playMode:i},void 0),O=y?(0,o.jsx)(q,{item:t,playMode:i},void 0):null,D=u||!y?(0,o.jsx)(ie,{item:t,playMode:i},void 0):null;return(0,o.jsxs)(M.Gq,{children:[T||(0,ne.yF)()?null:(0,o.jsx)(a.Zm,Object.assign({content:w,disabled:!f||!v,position:"Bottom",background:"BGPrimary"},{children:(0,o.jsxs)(M.Yj,Object.assign({playMode:i,shouldOptProfile:!0},{children:[v?j:C,S&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(M.Zg,{},void 0),(0,o.jsxs)(M.rF,{children:[2,(0,o.jsx)(r.Z,{},void 0)]},void 0)]},void 0)]}),void 0)}),void 0),I,P,O,D]},void 0)}},59822:(e,t,i)=>{"use strict";i.d(t,{Gq:()=>l,RP:()=>d,Yj:()=>m,Zg:()=>c,mV:()=>p,rF:()=>u});var o=i(85093),n=i(43340);const a={0:"4px",2:"8px",4:"12px"},r={0:"0px",2:"-2px",4:"-6px"},s={0:"2px",2:"8px",4:"8px"},l=(0,o.Z)("div",{target:"e1sksq2r0"})({display:"flex",columnGap:"6px",rowGap:"2px",flexWrap:"wrap",marginLeft:"-2px"},"label:DivAnchorTagWrapper;"),d=(0,o.Z)("div",{target:"e1sksq2r1"})((({theme:{colors:e}})=>({height:"41px",display:"flex",alignItems:"center",":hover":{background:e.BGView}})),"label:DivToolTipWrapper;"),c=(0,o.Z)("span",{target:"e1sksq2r2"})((({theme:{colors:e}})=>({borderLeft:"0.5px solid green",height:"12px",marginLeft:"4px",marginRight:"4px",alignSelf:"center",borderColor:e.LineSecondary})),"label:SpanDivider;"),u=(0,o.Z)("span",{target:"e1sksq2r3"})({width:"19px",display:"flex",alignItems:"center"},"label:SpanNum;"),p=(0,o.Z)("p",{target:"e1sksq2r4"})((({isInTooltip:e,theme:{direction:t}})=>[{fontSize:"13px",fontWeight:400,"&:hover":{textDecoration:"underline"}},e&&{fontSize:"14px"},n.wj,(0,n.YJ)({direction:t,marginStart:"8px"})]),"label:PAnchorTagName;"),m=(0,o.Z)("div",{target:"e1sksq2r5"})((({isTag:e,isInTooltip:t,shouldOptProfile:i,playMode:o=0,theme:{colors:n}})=>[{height:"24px",marginTop:a[o],marginBottom:r[o],minWidth:0},i&&[{height:"22px",padding:"1px 6px 1px 4px",background:t?"":n.BGView,display:"inline-flex",borderRadius:"4px",alignItems:"center",color:n.TextPrimary,marginTop:s[o]},t&&{marginTop:0,marginBottom:0},e&&{color:n.TextTertiaryAlt}]]),"label:DivAnchorTag;")},17184:(e,t,i)=>{"use strict";i.d(t,{l:()=>k});var o=i(71030),n=i(71928),a=i(20143),r=i(31738),s=i(85093),l=i(43340);const d=(0,s.Z)("div",{target:"etnnns70"})((({theme:{colors:e},useLargeToggle:t})=>({width:t?"64px":"36px",height:t?"40px":"16px",background:e.ConstBGInverse4,borderRadius:"21px",backdropFilter:"blur(25px)",":hover":{background:e.ConstBGInverse3},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"})),(({theme:{direction:e}})=>(0,l.YJ)({direction:e,end:"66px"})),"label:DivAutoScrollToggleContainer;"),c=(0,s.Z)("div",{target:"etnnns71"})((({theme:{colors:e},useLargeToggle:t,isAutoScrollOn:i})=>({width:t?"42px":"36px",height:t?"20px":"16px",borderRadius:"44px",background:e.ConstBGMat,display:"flex",alignItems:"center",justifyContent:i?"flex-end":"flex-start"})),"label:DivAutoScrollToggleInnerBar;"),u=(0,s.Z)("div",{target:"etnnns72"})((({useLargeToggle:e,isAutoScrollOn:t})=>({width:e?24:20,height:e?24:20,backgroundColor:t?"rgba(255, 255, 255, 1)":"rgba(153, 153, 153, 0.97)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"})),"label:DivAutoScrollToggleCircle;"),p=(0,s.Z)("div",{target:"etnnns73"})((({theme:{colors:e},useLargeToggle:t})=>({width:t?"40px":"24px",height:t?"40px":"24px",background:t?e.ConstBGInverse4:"transparent",borderRadius:t?"50%":"unset",":hover":{background:t?e.ConstBGInverse3:"transparent"},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"})),(({theme:{direction:e}})=>(0,l.YJ)({direction:e,end:"66px"})),"label:DivAutoScrollButtonContainer;");var m,h=i(98999),g=i(81530),v=i(99333),y=i(41115),_=i(10250),b=i(91440),f=i(30036),x=i(3979);!function(e){e.AutoScrollOn="autoscroll_on",e.AutoScrollOnShow="autoscroll_on_show",e.AutoScrollOff="autoscroll_off",e.AutoScrollOffShow="autoscroll_off_show"}(m||(m={}));const k=(0,r.memo)((function(e){const{useLargeToggle:t=!1,tooltipOffset:i=-11,videoId:s,playMode:l,isVideoEnded:m,handleNextVideo:k}=e,{colors:w}=(0,n.u)(),{useToggle:C}=(0,y.rr)(),j=(0,f.Q)(),[{isAutoScroll:S},T]=(0,v.b)(g.f),P="rgba(255, 255, 255, 1)",I=(0,r.useMemo)((()=>({background:t?w.ConstBGInverse3:w.ConstBGInverse1,paddingInlineStart:"12px",paddingInlineEnd:"12px",fontWeight:500,fontSize:"14px",lineHeight:"18px"})),[t,w.ConstBGInverse3,w.ConstBGInverse1]),O=(0,r.useCallback)((()=>{((e,t)=>{t?x.W.event("autoscroll_on",e):x.W.event("autoscroll_off",e)})({play_mode:l,group_id:s},!S),T.toggleAutoScroll(),m&&k&&k()}),[l,s,S,T,k]),D=(0,r.useCallback)((()=>{((e,t)=>{t?x.W.event("autoscroll_on_show",e):x.W.event("autoscroll_off_show",e)})({play_mode:l,group_id:s},null!=S&&S)}),[l,s,S]);return(0,o.jsx)(a.u,Object.assign({fullscreenAdjust:!0,overlay:j(S?"pcWeb_autoScroll_on":"pcWeb_autoScroll_off"),overlayInnerStyle:I,arrow:!1,align:{offset:[0,i]}},{children:C?(0,o.jsx)(d,Object.assign({onClick:O,onMouseDown:h.UW,onMouseEnter:D,useLargeToggle:t},{children:(0,o.jsx)(c,Object.assign({useLargeToggle:t,isAutoScrollOn:null!=S&&S},{children:(0,o.jsx)(u,Object.assign({useLargeToggle:t,isAutoScrollOn:null!=S&&S},{children:S?(0,o.jsx)(_.Z,{fontSize:13,style:{fill:"rgba(0, 0, 0, 0.65)"}},void 0):(0,o.jsx)(b.Z,{fontSize:13,style:{fill:P}},void 0)}),void 0)}),void 0)}),void 0):(0,o.jsx)(p,Object.assign({onClick:O,onMouseDown:h.UW,onMouseEnter:D,useLargeToggle:t},{children:S?(0,o.jsx)(_.Z,{fontSize:t?20:21,style:{fill:P}},void 0):(0,o.jsx)(b.Z,{fontSize:t?20:21,style:{fill:P}},void 0)}),void 0)}),void 0)}))},94163:(e,t,i)=>{"use strict";i.d(t,{Q:()=>ae});var o=i(71030),n=i(71928),a=i(25879),r=i(99333),s=i(31738),l=i(5909),d=i(53292),c=i(3979),u=i(49724),p=i(46996),m=i(59310),h=i(40362),g=i(30036),v=i(98999),y=i(24651),_=i(66943),b=i(21622),f=i(69634),x=i(15137),k=i(8650),w=i(93988),C=i(62068),j=i(72078),S=i(25129),T=i(39543),P=i(41115),I=i(85093);const O=(0,I.Z)("span",{target:"efbd9f0"})((({isAds:e})=>({fontWeight:400,"&:hover":e&&{textDecoration:"underline",cursor:"pointer"}})),"label:SpanText;");var D,M=i(63931),R=i(47248);!function(e){e[e.User=0]="User",e[e.Challenge=1]="Challenge"}(D||(D={}));const L=(e,t,i={},n,a)=>{const r=!!n,s=null==n?void 0:n.web_url;return(0,o.jsx)(O,Object.assign({style:i,isAds:r,onClick:s?()=>(0,T.fY)({adInfo:n,refer:M._S.Title,tag:null!=a?a:M.pC.BrowserMode}):void 0},{children:e}),e+t)},B={fontWeight:700},A={fontWeight:600},F={},E=(0,s.memo)((e=>{const{item:t,DuetComp:i,LinkComp:n,QuestionComp:a,target:r="_self",renderText:s=L,shouldReport:d,reportParams:c,styleType:u,mode:p,textExtra:m,desc:h}=e,g=(0,l.TH)(),v=(0,P.F3)(),y=(0,R.YA)();if(!h)return null;const{authorId:b,id:f,ad_info:x}=(0,_.m7)(t);let k=F;switch(u){case"kep":k=B;break;case"explore":k=A;break;default:k=F}return(null==m?void 0:m.length)?(0,o.jsx)(o.Fragment,{children:[...m].sort(((e,t)=>e.start-t.start)).reduce(((t,l,m,_)=>{const{start:w,end:C,awemeId:T,userUniqueId:P,hashtagName:I,type:O,subType:D,userId:M,hashtagId:R,questionId:L="",questionContent:B=""}=l,A=0===m?0:_[m-1].end,F=w,E=h.substring(A,F);E&&t.push(s(E,t.length-1,k,x,null==c?void 0:c.ttamTag));const Z=7===(z=D)||5===z;var z;const U=h.substring(w,C);if(0===O&&Z){const i=(0,j.C)({to:{pathname:(0,S._9x)({questionId:L,questionContent:B})},location:g});t.push((0,o.jsx)(a,{href:i,text:null!=P?P:"",index:t.length-1,id:L,type:"question",target:r,authorId:b,groupId:f,shouldReport:d,reportParams:c,styleType:"question",inline:"compact"===p,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},U+m))}else if(0===O&&T){const n=(0,j.C)({to:{pathname:y({uniqueId:null!=P?P:"",videoId:T})},location:g});t.push((0,o.jsx)(i,{href:n,text:U,index:t.length-1,id:T,type:"video",target:r,authorId:b,groupId:f,shouldReport:d,reportParams:c,styleType:"duet",onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},U+m))}else if(0===O&&M){const i=(0,j.C)({to:{pathname:(0,S.ylP)({uniqueId:null!=P?P:""})},location:g});t.push((0,o.jsx)(n,{href:i,text:U,index:t.length-1,id:M,type:"user",target:r,authorId:b,groupId:f,shouldReport:d,reportParams:c,styleType:u,ariaLabel:`Watch more videos from user ${U}`,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,shouldHighlight:v,onBrowserModeClose:e.onBrowserModeClose},U+m))}else if(1===O&&I){const i=(0,j.C)({to:{pathname:(0,S.JDm)({tagName:I})},location:g});t.push((0,o.jsx)(n,{href:i,text:U,index:t.length-1,id:null!=R?R:"",type:"tag",target:r,authorId:b,groupId:f,shouldReport:d,reportParams:c,styleType:u,ariaLabel:`Watch more videos of the ${U} category`,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,shouldHighlight:v,onBrowserModeClose:e.onBrowserModeClose},U+m))}else t.push(s(U,t.length-1,k,x,null==c?void 0:c.ttamTag));return m===_.length-1&&t.push(s(h.substring(C),t.length,k,x,null==c?void 0:c.ttamTag)),t}),[])},void 0):s(h,0,k,x,null==c?void 0:c.ttamTag)})),Z=(0,s.memo)((e=>{const{item:t}=e,{desc:i,contents:n=[],textExtra:a}=(0,_.m7)(t),r=n.length,l=(0,b.Sf)("support_multiline_desc");return i?l&&0!==n.length?(0,o.jsx)(o.Fragment,{children:n.map(((t,n)=>(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(E,Object.assign({},e,{desc:t.desc,textExtra:t.textExtra}),void 0),n!==r-1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{},void 0)," "]},void 0)]},`${n}-${i}`)))},void 0):(0,o.jsx)(E,Object.assign({},e,{desc:i,textExtra:a}),void 0):null}));var z=i(67757),U=i(95771),W=i(43340),V=i(74293);const N="inline-block",$="break-word",q=(0,I.Z)("div",{target:"ejg0rhn0"})((({ellipsis:e,ellispsisLine:t,theme:i,theme:{direction:o,colors:n},styleType:a})=>[Object.assign(Object.assign({},i.typography.P2),{wordBreak:$}),e?(0,W.f1)({max:479,style:W.wj}):null,t?1===t?[W.wj,(0,W.YJ)({direction:o,display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre-line"})]:(0,W.FC)(t):null,"tag"===a||"question"===a?[(0,W.GI)({theme:i,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{lineHeight:"22px",color:n.TextPrimary,pointerEvents:"none","a:hover":[{textDecoration:"none"},(0,W.YJ)({direction:o,display:N,verticalAlign:"top",maxWidth:"100%"})],strong:{wordBreak:$,fontWeight:600}}]:null]),"label:DivContainer;"),G=(0,I.Z)("h1",{target:"ejg0rhn1"})((({ellipsis:e,ellispsisLine:t,theme:i,theme:{direction:o,colors:n},styleType:a})=>[Object.assign(Object.assign({},i.typography.P2),{wordBreak:$}),e?(0,W.f1)({max:479,style:W.wj}):null,t?1===t?[W.wj,(0,W.YJ)({direction:o,display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre-line"})]:(0,W.FC)(t):null,"tag"===a||"question"===a?[(0,W.GI)({theme:i,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{lineHeight:"22px",color:n.TextPrimary,pointerEvents:"none","a:hover":[{textDecoration:"none"},(0,W.YJ)({direction:o,display:N,verticalAlign:"top",maxWidth:"100%"})],strong:{wordBreak:$,fontWeight:600}}]:null]),"label:H1Container;"),H=(0,I.Z)("strong",{target:"ejg0rhn2"})((({theme:e,styleType:t="",color:i=""})=>({fontWeight:"kep"===t?e.fontWeights.bold:e.fontWeights.semiBold,color:i})),"label:StrongText;"),Q={top:"50%",marginTop:"-8px"},Y=(0,I.Z)(z.Z,{target:"ejg0rhn3"})((({theme:{direction:e}})=>[Object.assign({position:"absolute"},Q),(0,W.YJ)({direction:e,start:"5px"})]),"label:StyledPlayFill;"),K=(0,I.Z)(U.Z,{target:"ejg0rhn4"})((({theme:{direction:e}})=>[Object.assign({position:"absolute"},Q),(0,W.YJ)({direction:e,start:"5px"})]),"label:StyledQAFill;"),J=(0,I.Z)(V.v,{shouldForwardProp:e=>"styleType"!==e&&"inline"!==e,target:"ejg0rhn5"})((({styleType:e,inline:t,theme:{direction:i,colors:o}})=>[{background:o.BGPlaceholderDefault,display:t?"inline":N,padding:"1px 5px",position:"relative"},"tag"===e&&[{display:"initial",whiteSpace:"nowrap",fontSize:"14px",lineHeight:"20px"},(0,W.YJ)({direction:i,paddingStart:25})],("duet"===e||"question"===e)&&(0,W.YJ)({direction:i,paddingStart:25}),"kep"===e&&[{fontWeight:700}]]),"label:StyledLink;"),X=(0,I.Z)(V.v,{shouldForwardProp:e=>"shouldBreak"!==e&&"shouldInline"!==e,target:"ejg0rhn6"})((({shouldBreak:e=!1,shouldInline:t=!1})=>[{display:e||t?"inline":N,"&:focus-visible":{display:"inline"}},e?{wordBreak:"break-all"}:null]),"label:StyledCommonLink;");function ee({type:e,id:t,authorId:i,groupId:o,text:n,isDuet:a,reportParams:r,shouldReport:l,onSearchResultClick:d}){return(0,s.useCallback)((s=>{if(s.stopPropagation(),l)switch(e){case"tag":u.W.handleEnterTagDetail(Object.assign(Object.assign({},r),{tag_id:t,author_id:i,group_id:o,enter_method:a?"click_duet":"click_caption"})),null==d||d("tag");break;case"user":u.W.handleEnterUser(Object.assign(Object.assign({},r),{to_user_id:t,author_id:i,group_id:o,enter_method:a?"click_duet":"click_caption",to_user_name:n.substr(1)})),null==d||d("person");break;case"video":u.W.handleEnterVideo(Object.assign(Object.assign({},r),{author_id:i,group_id:o,to_group_id:t,enter_method:a?"click_duet":"click_caption"}));break;case"question":u.W.handleEnterQuestion(Object.assign(Object.assign({},r),{author_id:i,group_id:o,question_id:t,enter_method:"click_anchor"}))}}),[l,e,t,i,o,a,r,d,n])}const te=e=>{const{isQuestionMark:t=!1}=e,{colors:i}=(0,n.u)(),a=t?K:Y;return(0,o.jsx)(a,{fill:i.Primary2,width:16,height:16},void 0)},ie=e=>{const{href:t,text:i,index:n,id:a,type:r,target:l="_self",reportParams:d,shouldReport:c=!0,styleType:u,authorId:p,groupId:m,hasSpace:h=!0,onLinkClick:g,onSearchResultClick:v}=e,y=ee({type:r,id:a,text:i,isDuet:!0,reportParams:d,shouldReport:c,authorId:p,groupId:m,onSearchResultClick:v}),_=(0,s.useCallback)((e=>{y(e),null==g||g(e,t,"hashtag")}),[y,t,g]);return(0,o.jsxs)(J,Object.assign({to:t,target:l,rel:"opener",onClick:_,styleType:u},{children:[(0,o.jsx)(te,{},void 0),(0,o.jsxs)(H,{children:[i,h?" ":""]},void 0)]}),i+n)},oe=e=>{const{href:t,text:i,index:n,id:a,type:r,target:l="_self",reportParams:d,shouldReport:c=!0,styleType:u,inline:p,authorId:m,groupId:v,onLinkClick:y,onSearchResultClick:_}=e,b=(0,g.Q)(),f=ee({type:r,id:a,text:i,isDuet:!1,reportParams:d,shouldReport:c,authorId:m,groupId:v,onSearchResultClick:_}),x=(0,s.useCallback)((e=>{if(!a)return e.preventDefault(),h.h.destroy(),void h.h.open({content:b("qapage_webapp_error_title"),duration:3,widthType:"padding"});f(e),null==y||y(e,t)}),[f,t,a,y,b]);return(0,o.jsxs)(J,Object.assign({"data-e2e":"question-video-anchor",to:t,target:l,rel:"opener",onClick:x,styleType:u,inline:p},{children:[(0,o.jsx)(te,{isQuestionMark:!0},void 0),(0,o.jsx)(H,{children:i},void 0)]}),i+n)},ne=e=>{var t,i;const{href:u,text:h,index:g,id:f,type:S,target:T="_self",authorId:P,groupId:I,reportParams:O,shouldReport:D=!0,hasSpace:M=!0,styleType:R,ariaLabel:L,onLinkClick:B,onSearchResultClick:A,shouldHighlight:F,onBrowserModeClose:E}=e,Z=(0,s.useRef)(null),z=(0,n.u)(),U=ee({type:S,id:f,authorId:P,groupId:I,text:h,isDuet:!1,reportParams:O,shouldReport:D,onSearchResultClick:A}),W=(0,l.k6)(),V=(0,l.TH)(),N=null==V?void 0:V.pathname,$=(0,w.if)(y.n[N]),{abTestVersion:q}=(0,_.m7)((0,x.Lh)((()=>["abTestVersion"]),[])),{user:G}=(0,a.m)(k.G,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),[{currentKeyword:Q}]=(0,r.b)(C.t8,{selector:e=>{var t,i;return{currentKeyword:null!==(i=null===(t=e[y.n[N]])||void 0===t?void 0:t.keyword)&&void 0!==i?i:""}},dependencies:[N]}),Y=Boolean(G),K=null!==(t=(0,b.N8)(q,"it_or_us"))&&void 0!==t?t:"v1",J="v2"===(null!==(i=(0,b.N8)(q,"hashtag_to_top_search"))&&void 0!==i?i:"v1")&&!("v2"===K&&!Y),te=Boolean((0,l.LX)(N,{path:d.nT.searchHome})),ie=Boolean((0,l.LX)(u,{path:d.nT.challenge})),oe=(0,s.useCallback)((e=>{if(U(e),null==B||B(e,u,"hashtag"),p.xq.handleChallengeTitleClick({enter_from:c.W.commonParams.page_name,tag_id:f,group_id:I,author_id:P,is_from_video:"1"}),"tag"===S&&(null==O?void 0:O.is_ad_event)){const{log_extra:e,tag:t,value:i}=O;m.M.handleChallengeClick({log_extra:e,tag:t,value:i,is_ad_event:"1"})}let t;if(ie&&(t=decodeURI(u.split("/")[2])),J&&t){if((0,v.NS)(e),null==E||E(e,!0),te&&t===Q)return void $(!0,!0);const i=Date.now(),o=(0,j.C)({location:V,to:{pathname:"/search",search:{q:t,t:i}}});W.push(o,{searchSource:"video_title_challenge",enterMethod:"click_icon"})}}),[U,u,B,W,V,J,P,f,I,E,Q,te,ie,$,O,S]),ne=(0,s.useCallback)((e=>{var t;13===e.keyCode&&((0,v.NS)(e),null===(t=Z.current)||void 0===t||t.click())}),[]);return(0,o.jsx)(X,Object.assign({"data-e2e":"search-common-link",to:u,target:T,rel:"opener",onClick:oe,onKeyDown:ne,ref:Z,ariaLabel:L,shouldInline:"explore"===R,shouldBreak:"channel-break"===R},{children:(0,o.jsxs)(H,Object.assign({styleType:R,color:F?z.colors.AssistColorAzure:void 0},{children:[h,M?" ":""]}),void 0)}),`${h}${g}`)},ae=(0,s.memo)((function(e){const{item:t,ellispsisLine:i=0,ellipsisOnNarrow:n=!1,e2eTag:a,shouldReport:r=!0,reportParams:s,mode:l,target:d="_self",styleType:c="default",style:u={},wrapInContainer:p=!0}=e,m=(0,f.Y)(),h=()=>(0,o.jsx)(Z,{mode:l,item:t,DuetComp:ie,LinkComp:ne,QuestionComp:oe,reportParams:s,shouldReport:r,styleType:c,target:d,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,onBrowserModeClose:e.onBrowserModeClose},void 0);return p?m?(0,o.jsx)(G,Object.assign({style:u,ellipsis:n,ellispsisLine:i,styleType:c,"data-e2e":a},{children:h()}),void 0):(0,o.jsx)(q,Object.assign({style:u,ellipsis:n,ellispsisLine:i,styleType:c,"data-e2e":a},{children:h()}),void 0):(0,o.jsx)(Z,{mode:l,item:t,DuetComp:ie,LinkComp:ne,QuestionComp:oe,reportParams:s,shouldReport:r,styleType:c,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,onBrowserModeClose:e.onBrowserModeClose},void 0)}))},38435:(e,t,i)=>{"use strict";i.d(t,{B:()=>h});var o=i(31738),n=i(13489),a=i(71304),r=i(71030),s=i(61216),l=i(85093),d=i(52546);const c=(0,l.Z)("div",{target:"exhfy940"})({pointerEvents:"none",position:"fixed",zIndex:1e3},"label:DivDoubleTapContainer;"),u=(0,s.F4)({"0%":{opacity:"1",transform:"scale(1.18)"},"14%":{opacity:"1",transform:"scale(.9)"},"21%":{opacity:"1",transform:"scale(1)"},"58%":{opacity:"1",transform:"scale(1)"},"100%":{opacity:"0",transform:"scale(1.93)"}}),p=(0,l.Z)(d.Z,{target:"exhfy941"})({animation:`${u} 1400ms`,width:"120px",height:"120px"},"label:StyledLikeIcon;"),m=function({x:e,y:t}){const i=Math.floor(61*Math.random()-30);return(0,r.jsx)(c,Object.assign({style:{left:e-60,top:t-60,transform:`rotate(${i}deg)`}},{children:(0,r.jsx)(p,{},void 0)}),void 0)};class h{constructor(e,t){this.x=e,this.y=t,this.el=document.createElement("div")}emit(){var e;try{(null!==(e=document[null===a.H||void 0===a.H?void 0:a.H.fullscreenElement])&&void 0!==e?e:document.body).appendChild(this.el),(0,n.render)((0,o.createElement)(m,{x:this.x,y:this.y}),this.el),window.setTimeout((()=>{this.destroy()}),1400)}catch(e){console.error(e)}}destroy(){var e;try{(0,n.unmountComponentAtNode)(this.el),(null!==(e=document[null===a.H||void 0===a.H?void 0:a.H.fullscreenElement])&&void 0!==e?e:document.body).removeChild(this.el)}catch(e){console.error(e)}}}},28505:(e,t,i)=>{"use strict";i.d(t,{p:()=>_});var o=i(71030),n=i(31738),a=i(30036),r=i(98999),s=i(63705),l=i(41115),d=i(72975),c=i(85093),u=i(43340);const p=(0,c.Z)("div",{target:"e1mzilcj0"})((({paddingBottom:e})=>({display:"flex",width:"100%",overflow:"hidden",position:"relative",paddingBottom:e})),"label:DivWrapper;"),m=(0,c.Z)("div",{target:"e1mzilcj1"})((({shouldShow3Dot:e,shouldDesOnlyShow2Lines:t,isUnfold:i,lineClamp:o,lineHeight:n,marginTop:a,theme:{colors:r}})=>[{width:"100%",overflow:"hidden",textOverflow:"ellipsis",display:e?"-webkit-box":"box",WebkitLineClamp:o,WebkitBoxOrient:"vertical",span:{display:"inline"},"*":{fill:r.Primary2},":before":{content:'""',height:`calc(100% - ${n}px)`,float:"right",width:0,marginTop:`${a}px`}},!i&&t&&{br:{display:"none"}}]),"label:DivText;"),h=(0,c.Z)("button",{target:"e1mzilcj2"})((({theme:e})=>[(0,u.GI)({theme:e,typography:"P2",fontWeight:"semiBold",color:"TextPrimary"}),{border:"none",outline:"none",background:"none",cursor:"pointer"}]),"label:ButtonExpand;"),g=(0,c.Z)(h,{target:"e1mzilcj3"})((({bottomBtnLeftOffset:e,isRightSide:t,theme:{direction:i},shouldAdjustLeftBtn:o})=>[(0,u.YJ)({direction:i,end:t?e:"",start:t?"":e}),{position:"absolute",bottom:o?16:0}]),"label:StyledButtonBottom;"),v=(0,c.Z)("div",{target:"e1mzilcj4"})((({moreBtnBottom:e,isMobileUiOptimize:t,btnShow:i,lineHeight:o,theme:{direction:n}})=>[{float:"rtl"===n?"left":"right",clear:"both",cursor:"pointer",display:i?"flex":"none",alignItems:"center",lineHeight:`${o}px`},t&&{position:"relative",bottom:e}]),"label:DivBtnWrapper;"),y=(0,c.Z)("div",{target:"e1mzilcj5"})((({isUnfold:e,maxHeight:t})=>e?{overflowY:"auto",maxHeight:t,scrollbarWidth:"none","::-webkit-scrollbar":{width:4}}:{}),"label:DivOverflowContainer;"),_=(0,n.memo)((({children:e,lineClamp:t=2,overflowLineNum:i=0,onlyKey:c="",maxLine:u=999,btnOnClick:_,lineHeight:b=21,fontSize:f,showExpandButton:x=!0,btnStyle:k,expandBtnText:w,isMobile:C=!1})=>{const j=(0,a.Q)(),[S,T]=(0,n.useState)(!1),[P,I]=(0,n.useState)(!1),[O,D]=(0,n.useState)(!1),[M,R]=(0,n.useState)(t),[L,B]=(0,n.useState)("unset"),[A,F]=(0,n.useState)(!1),{isMobileUiOptimize:E}=(0,l.HJ)(),Z=(0,n.useRef)(null),z=(0,n.useRef)(null),U=(0,n.useCallback)((()=>{setTimeout((()=>{var e,i,o,n,a,r,s;if(null==Z?void 0:Z.current)if(P)B("unset"),(null!==(a=null===(n=z.current)||void 0===n?void 0:n.scrollHeight)&&void 0!==a?a:0)>(null!==(s=null===(r=z.current)||void 0===r?void 0:r.clientHeight)&&void 0!==s?s:0)&&F(!0);else{const n=null!==(e=Z.current.scrollHeight)&&void 0!==e?e:0,a=null!==(i=Z.current.clientHeight)&&void 0!==i?i:0,r=null!==(o=Z.current.offsetHeight)&&void 0!==o?o:0;F(!1);const s=n-a>15||n>=b*t+15||r>=b*t+15;T(s),s&&B(t*b+2+"px")}}),0)}),[P,b,t]),W=(0,n.useCallback)((e=>{(0,r.NS)(e),R((e=>e===t?u:t)),I((e=>!e)),_&&_(P)}),[_,P,t,u]),V=(0,n.useMemo)((()=>f?(b-f)/2:0),[f,b]);(0,n.useEffect)((()=>(Z.current&&s.j.bind(Z.current,U),()=>{Z.current&&s.j.remove(Z.current,U)})),[U]);const N=j(P?"pc_web_less_btn":"pc_web_more_btn");(0,n.useEffect)((()=>{I(!1),R(t),T(!1),U()}),[c]),(0,n.useEffect)((()=>{(0,r.G6)()||D(!0)}),[]);let $=b*i+"px";E&&($="42vh");const q=null!=w?w:N,G={shouldShow3Dot:!C&&O};let H=C?"26px":"55px";P||(H="unset");const Q=C?"0":"-4px";let Y="3px";return C||(Y=G.shouldShow3Dot?"1px":"6px"),(0,o.jsxs)(p,Object.assign({paddingBottom:H},{children:[(0,o.jsxs)(m,Object.assign({isUnfold:P,ref:Z,lineClamp:M,lineHeight:b,marginTop:V,style:{maxHeight:L}},G,{shouldDesOnlyShow2Lines:!C},{children:[(0,o.jsx)(v,Object.assign({btnShow:S,lineHeight:b,isMobileUiOptimize:E,moreBtnBottom:Y},{children:x&&!P&&(0,o.jsx)(h,Object.assign({style:k,type:"button",onClick:W},{children:q}),void 0)}),void 0),i>0?(0,o.jsx)(y,Object.assign({lineClamp:t,ref:z,isUnfold:P,maxHeight:$,isMobileUiOptimize:E,className:P&&E&&A?d.j0:""},{children:e}),void 0):e]}),void 0),P&&(0,o.jsx)(g,Object.assign({style:k,type:"button",onClick:W,isRightSide:C&&E,shouldAdjustLeftBtn:!C,bottomBtnLeftOffset:Q},{children:q}),void 0)]}),void 0)}))},48716:(e,t,i)=>{"use strict";i.d(t,{_:()=>M});var o,n=i(22403),a=i(71030),r=i(71928),s=i(31738),l=i(59310),d=i(49724),c=i(30036),u=i(25129),p=i(98999),m=i(28147),h=i(66943),g=i(41115),v=i(45179),y=i(85093),_=i(29931),b=i(43340),f=i(74293),x=i(51553);!function(e){e[e.OneColumn=0]="OneColumn",e[e.BrowserMode=1]="BrowserMode",e[e.KEP=2]="KEP",e[e.OnColumnWithAds=3]="OnColumnWithAds",e[e.VideoDetail=4]="VideoDetail",e[e.Channel=5]="Channel"}(o||(o={}));const k=e=>[(0,b.GI)({theme:e,typography:"P2",fontWeight:"semiBold"}),{marginTop:"2px",marginLeft:"2px"},{fontWeight:"400",fontSize:"14px"},(0,b.f1)({max:767,style:{maxWidth:"250px"}})],w={0:e=>[...k(e)],3:e=>[...k(e),{"a:link, a:active, a:visited, a:hover":{textDecoration:"none"}}],1:e=>[(0,b.GI)({theme:e,typography:"P2",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontWeight:"400",fontSize:"14px"},{marginTop:"8px",flex:"0 0 auto",marginLeft:"1px"}],4:e=>[(0,b.GI)({theme:e,typography:"P2",fontFamily:"TikTokFont",fontWeight:"normal"}),{fontWeight:"400",fontSize:"14px"},{marginTop:"8px",flex:"0 0 auto",marginLeft:"1px"}],2:e=>[(0,b.GI)({theme:e,typography:"P3",fontFamily:"TikTokFont",fontWeight:"normal"}),{display:"inline",color:e.colors.TextSecondary},{a:{color:e.colors.TextSecondary}},(0,b.YJ)({direction:e.direction,marginStart:12})],5:e=>[(0,b.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",color:"TextPrimary"}),{fontSize:"17px",lineHeight:"20px",display:"inline-box",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:"8px"}]},C=(0,y.Z)("h4",{target:"epjbyn0"})((({styleType:e,theme:t})=>w[e](t)),"label:H4Link;"),j={0:{marginRight:"5px"},3:{marginRight:"5px"},1:{marginRight:"8px"},2:{marginRight:"4px"},4:{marginRight:"4px"},5:{marginRight:"7px"}},S=(0,y.Z)(f.v,{target:"epjbyn1"})({display:"flex",alignItems:"center"},"label:StyledLink;"),T=(0,y.Z)("div",{target:"epjbyn3"})({WebkitLineClamp:"1",overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical"},"label:DivMusicText;"),P=(0,y.Z)(_.Z,{shouldForwardProp:e=>"styleType"!==e,target:"epjbyn4"})((({styleType:e,theme:{direction:t}})=>[{flexShrink:0},(0,b.YJ)({direction:t,marginEnd:j[e].marginRight})]),"label:MusicNoteIcon;"),I=(0,y.Z)(x.Z,{shouldForwardProp:e=>"styleType"!==e,target:"epjbyn5"})((({styleType:e,theme:{direction:t}})=>[{flexShrink:0},(0,b.YJ)({direction:t,marginEnd:j[e].marginRight})]),"label:MusicUnavailableIcon;");var O=i(99333),D=i(40362);const M=(0,s.memo)((function(e){var t,i,o,y,{item:_,styleType:b,e2eTag:f,teaParams:x={},onLinkClick:k,target:w="_self"}=e,j=(0,n.__rest)(e,["item","styleType","e2eTag","teaParams","onLinkClick","target"]);const{music:M,id:R,authorId:L,itemMute:B=!1,ad_info:A,item_control:F}=(0,h.m7)(_),E=!!A,Z=(null==A?void 0:A.is_promotional_music)||!1===(null==F?void 0:F.can_music_redirect),z=Z?3:b,U=null!==(t=null==M?void 0:M.title)&&void 0!==t?t:"",W=null!==(i=null==M?void 0:M.authorName)&&void 0!==i?i:"",V=(0,c.Q)();let N="Promoted Music"===U?V(U):U.replace(`- ${W}`,"")+(W?` - ${W}`:"");const $=B?"":(0,u.MB)({musicId:null!==(o=null==M?void 0:M.id)&&void 0!==o?o:"",musicName:null!==(y=null==M?void 0:M.title)&&void 0!==y?y:""}),q=(0,s.useRef)(null),{isDesktopUiOptDebugOn:G}=(0,g.CY)();G&&(N="TAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANGTAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANGTAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANGTAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANG");const H=(0,O.q)(v.A),Q=(0,s.useCallback)((e=>{if(B)(0,p.NS)(e);else{if(Z)return(0,p.NS)(e),D.h.destroy(),void D.h.open({content:V("ad_not_support"),duration:3});E&&l.M.handleMusicClick(x),d.W.handleEnterMusicDetail(Object.assign(Object.assign({},x),{music_id:null==M?void 0:M.id,group_id:R,author_id:L,enter_method:"click_caption"})),H.addMlModelTrainData({id:R,action:"cover"}),null==k||k(e,$,"music")}}),[B,x,null==M?void 0:M.id,R,L,k,$,H,Z,V,E]),Y=(0,s.useCallback)((e=>{var t;13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),Q(e),null===(t=q.current)||void 0===t||t.click())}),[Q]),{colors:K}=(0,r.u)(),J=[1,4].includes(z);if(!M&&!E)return(0,m.G)(["music"]);let X,ee;return B?(X=V("music_detail_unavailable_1"),ee=(0,a.jsx)(I,{fill:K.Primary2,styleType:z},void 0)):(X=(0,a.jsx)(T,{children:N},void 0),ee=(0,a.jsx)(P,{fill:K.Primary2,styleType:z},void 0)),(0,a.jsx)(C,Object.assign({styleType:z,"data-e2e":f},{children:(0,a.jsxs)(S,Object.assign({target:w,to:$,replace:J,disabled:B,onClick:Q,onKeyDown:Y,ref:q,rel:"opener",ariaLabel:B?V("music_detail_unavailable_1"):`Watch more videos with music ${N}`},j,{children:[ee,X]}),void 0)}),void 0)}))},12318:(e,t,i)=>{"use strict";i.d(t,{C:()=>b});var o,n=i(71030),a=i(31738),r=i(5909),s=i(3979);!function(e){e.ClickPartnershipTag="click_partnership_tag"}(o||(o={}));var l=i(49724),d=i(30036),c=i(25129),u=i(15137),p=i(72078),m=i(74293),h=i(17471),g=i(59822),v=i(85093),y=i(43340);const _=(0,v.Z)("p",{target:"ejymp3n0"})((({theme:e,theme:{colors:t},isMobile:i})=>i?[(0,y.GI)({theme:e,fontFamily:"TikTokFont",typography:"P3"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"-4px",marginBottom:"8px",fontSize:"15px",fontWeight:400},{padding:"1px 5px",background:"rgba(255, 255, 255, 0.34)",borderRadius:"2px",fontWeight:600,textShadow:"0 0 16px rgba(0, 0, 0, .34)"}]:[(0,y.GI)({theme:e,fontFamily:"TikTokFont",typography:"P2"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"8px",marginBottom:"unset",fontSize:"16px",padding:"1px 4px",background:t.BGPlaceholderDefault,borderRadius:"2px",color:t.TextTertiaryAlt,fontWeight:600}]),"label:PPaidPartnership;"),b=(0,a.memo)((function({item:e,style:t,target:i="_self",isSharing:o=!1,playMode:v}){var y,b,f;const x=(0,d.Q)(),{region:k=""}=null!==(y=(0,u.Lh)((()=>["region"]),[]))&&void 0!==y?y:{},{id:w,authorId:C,BAInfo:j,adLabelVersion:S,brandOrganicType:T=0,isECVideo:P}=e,I=j&&!o,O=2===S,D=Number(T)>0,{isMobile:M}=null!==(b=(0,h.h)((()=>["isMobile"]),[]))&&void 0!==b?b:{},R=(0,a.useCallback)((()=>{var e;e={group_id:null!=w?w:"",author_id:null!=C?C:"",partnership_tag:null!=j?j:""},s.W.event("click_partnership_tag",e),l.W.handleEnterUser({to_user_name:null!=j?j:"",enter_method:"click_partnership_tag"})}),[w,C,j]),L=!M,B=(0,r.TH)(),A=(0,p.C)({to:{pathname:(0,c.ylP)({uniqueId:null!==(f=null==e?void 0:e.BAInfo)&&void 0!==f?f:""})},location:B}),F=(0,a.useMemo)((()=>{if(O&&P){if("US"===k)return"bc_disclosure_tag_ecommerce_us";if("GB"===k)return"bc_disclosure_tag_ecommerce_uk"}return O?"bc_new_disclosure":"tcm_closedLoop_commercialContent_brandOrganic_videoTag"}),[O,P,k]),E=(0,a.useCallback)((e=>L?(0,n.jsx)(g.Yj,Object.assign({shouldOptProfile:L,playMode:v,isTag:!0},{children:e}),void 0):(0,n.jsx)(_,Object.assign({isMobile:M,style:t},{children:e}),void 0)),[M,v,L,t]);if(O&&P&&"US"!==k&&"GB"!==k)return null;if(O&&I){const e=`${x(F)} @${j}`;return(0,n.jsx)(m.v,Object.assign({target:i,rel:"opener",to:A,onClick:R,style:{textDecoration:"none",color:"inherit"}},{children:E(e)}),void 0)}return O&&!I||D?E(x(F)):null}))},96111:(e,t,i)=>{"use strict";i.d(t,{v:()=>p});var o=i(71030),n=i(31738),a=i(45020),r=i(30036),s=i(41115),l=i(59822),d=i(85093),c=i(43340);const u=(0,d.Z)("span",{target:"e13ee5sf1"})((({theme:{direction:e}})=>[(0,c.YJ)({direction:e,marginStart:"4px"})]),"label:SpanText;"),p=(0,n.memo)((function({item:e,playMode:t}){const i=(0,r.Q)(),{isDesktopUiOptDebugOn:n}=(0,s.CY)();if(!(null==e?void 0:e.subVideoMeta)&&!n)return null;const d=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.H,{},void 0),(0,o.jsx)(u,{children:i("subVideo_viewing_lable")},void 0)]},void 0);return(0,o.jsx)(l.Yj,Object.assign({playMode:t,isTag:!0,shouldOptProfile:!0},{children:d}),void 0)}))},56315:(e,t,i)=>{"use strict";i.d(t,{C:()=>Y});var o,n,a=i(71030),r=i(31738),s=i(58839),l=i(83607),d=i(58413),c=i(70717),u=i(3979),p=i(59271);!function(e){e.PhotoSlide="multi_photo_slide"}(o||(o={})),function(e){e.ManualClick="manual_click",e.Auto="auto",e.Keyboard="keyboard"}(n||(n={}));const m=(e,t)=>{const{itemId:i,authorId:o,autoplayStatus:n=0,searchId:a="",searchKeyword:r,searchResultId:s,questionId:l,isMute:d=!1,fromTab:c,collectionId:m,collectionName:h,isPaidPartnership:g=!1,poiId:v,duration:y,awemeType:_,picCnt:b,tab_name:f}=t,x=Object.assign({group_id:i,author_id:o,autoplay_status:n,search_id:a,search_keyword:r,search_result_id:s,question_id:l,from_tab:c,collection_id:m,collection_name:h,poi_id:v,duration:y,aweme_type:null!=_?_:0,pic_cnt:b,tab_name:f},(()=>{var e;const{href:t,search:i}=window.location;return{is_from_webapp:null!==(e=(0,p.parse)(i).is_from_webapp)&&void 0!==e?e:"0",page_url:t}})());x.is_mute=d?"1":"0",x.is_partnership=g?"1":"0",u.W.event(e,x)},h=e=>{u.W.event("multi_photo_slide",e)};var g=i(17471),v=i(52869),y=i(81530),_=i(2833),b=i(25879),f=i(6156),x=i(84033),k=i(22403),w=i(98279),C=i(3312),j=i(82790),S=i(28952),T=i(21249),P=i(35380),I=i(55823),O=i(22266);let D=class extends w.D{constructor(){super(...arguments),this.defaultState={currentVideo:null}}setCurrentVideo(e,t){e.currentVideo=t.currentVideo}updateVideo(e){return e.pipe((0,T.b)((e=>{const{currentVideo:{id:t}}=e;(0,O.Zn)(null!=t?t:"")})),(0,P.M)(this.state$),(0,I.U)((([e])=>this.getActions().setCurrentVideo(e))))}};(0,k.__decorate)([(0,C.lF)(),(0,k.__metadata)("design:type",Function),(0,k.__metadata)("design:paramtypes",[Object,Object]),(0,k.__metadata)("design:returntype",void 0)],D.prototype,"setCurrentVideo",null),(0,k.__decorate)([(0,C.Qm)(),(0,k.__metadata)("design:type",Function),(0,k.__metadata)("design:paramtypes",[S.y]),(0,k.__metadata)("design:returntype",void 0)],D.prototype,"updateVideo",null),D=(0,k.__decorate)([(0,j.Y)("SMobileVideoPlayer")],D);var M,R=i(50297),L=i(66943),B=i(33148),A=i(99333);!function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context"}(M||(M={}));const F=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}),E=(0,r.memo)((0,r.forwardRef)((function(e,t){var{playProgress:i,muteSetting:o,onUnmount:n,onEnded:s,onWaiting:l,onError:d,disableDownload:c=!1,itemMute:u=!1}=e,p=(0,k.__rest)(e,["playProgress","muteSetting","onUnmount","onEnded","onWaiting","onError","disableDownload","itemMute"]);const m=(0,r.useRef)(null),h=(0,r.useRef)(!1),[{mute:g,volume:v},{setMute:y}]=(0,A.b)(_.x,{selector:e=>({mute:o||e.mute,volume:e.volume}),dependencies:[o]}),f=(0,b.m)(_.x,{selector:e=>e.playing,dependencies:[]});(0,r.useImperativeHandle)(t,(()=>{const e=m.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",(()=>{var i,o;const n=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(o=e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>F(e)}}));const x=(0,r.useCallback)(((e=0)=>(0,k.__awaiter)(this,void 0,void 0,(function*(){var t,i,o;if(!(e>=3))try{yield null===(t=m.current)||void 0===t?void 0:t.play()}catch(t){const n=null!==(i=null==t?void 0:t.message)&&void 0!==i?i:"";(null!==(o=n.match("failed because the user didn't interact with the document first."))&&void 0!==o?o:n.match("The request is not allowed by the user agent or the platform in the current context"))?(y(!0),setTimeout((()=>{x(e+1)}),0)):x(e+1),null==d||d(t)}}))),[y]);(0,r.useEffect)((()=>{m.current&&(m.current.volume=v)}),[v]),(0,r.useEffect)((()=>{x(),m.current&&Math.abs(m.current.currentTime-i)>.2&&(m.current.currentTime=i)}),[i,x]),(0,r.useEffect)((()=>{var e;f?h.current&&(h.current=!1,x()):(h.current=!0,null===(e=m.current)||void 0===e||e.pause())}),[f,x]),(0,r.useEffect)((()=>{const e=m.current;return()=>{null==n||n(F(e))}}),[]),(0,r.useEffect)((()=>{c&&(m.current.oncontextmenu=e=>(e.preventDefault(),!1))}),[c,m]);const w=(0,r.useCallback)((e=>{null==l||l(e)}),[l]),C=(0,r.useCallback)((e=>{null==s||s(e),x()}),[s,x]);return(0,a.jsx)("audio",Object.assign({ref:m},p,{muted:u||g,playsInline:!0,autoPlay:!0,onEnded:C,onWaiting:w}),void 0)})));let Z=class extends w.D{constructor(){super(...arguments),this.defaultState={mobileDefaultMute:!1,forcePause:!1,forcePlay:!1,canRetry:!0,muteSettingChangedByUser:!1}}setMobileDefaultMute(e,t){e.mobileDefaultMute=t}setForcePause(e,t){e.forcePause=t}setForcePlay(e,t){e.forcePlay=t}setCanRetry(e,t){e.canRetry=t}setMuteSettingChangedByUser(e,t){e.muteSettingChangedByUser=t}};var z;(0,k.__decorate)([(0,C.lF)(),(0,k.__metadata)("design:type",Function),(0,k.__metadata)("design:paramtypes",[Object,Boolean]),(0,k.__metadata)("design:returntype",void 0)],Z.prototype,"setMobileDefaultMute",null),(0,k.__decorate)([(0,C.lF)(),(0,k.__metadata)("design:type",Function),(0,k.__metadata)("design:paramtypes",[Object,Boolean]),(0,k.__metadata)("design:returntype",void 0)],Z.prototype,"setForcePause",null),(0,k.__decorate)([(0,C.lF)(),(0,k.__metadata)("design:type",Function),(0,k.__metadata)("design:paramtypes",[Object,Boolean]),(0,k.__metadata)("design:returntype",void 0)],Z.prototype,"setForcePlay",null),(0,k.__decorate)([(0,C.lF)(),(0,k.__metadata)("design:type",Function),(0,k.__metadata)("design:paramtypes",[Object,Boolean]),(0,k.__metadata)("design:returntype",void 0)],Z.prototype,"setCanRetry",null),(0,k.__decorate)([(0,C.lF)(),(0,k.__metadata)("design:type",Function),(0,k.__metadata)("design:paramtypes",[Object,Boolean]),(0,k.__metadata)("design:returntype",void 0)],Z.prototype,"setMuteSettingChangedByUser",null),Z=(0,k.__decorate)([(0,j.Y)("SMobileBasicPlayer")],Z),function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context"}(z||(z={}));const U=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}),W=(0,r.memo)((0,r.forwardRef)((function(e,t){var{playProgress:i,muteSetting:o,onUnmount:n,onEnded:s,onWaiting:l,onError:d,disableDownload:c=!1,itemMute:u=!1}=e,p=(0,k.__rest)(e,["playProgress","muteSetting","onUnmount","onEnded","onWaiting","onError","disableDownload","itemMute"]);const m=(0,r.useRef)(null),[{mute:h},{setMobileDefaultMute:g,setForcePause:v}]=(0,A.b)(Z,{selector:e=>({mute:e.muteSettingChangedByUser||e.mobileDefaultMute,forcePause:e.forcePause,canRetry:e.canRetry}),dependencies:[]});(0,r.useImperativeHandle)(t,(()=>{const e=m.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",(()=>{var i,o;const n=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(o=e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>U(e)}}));const y=(0,r.useCallback)((()=>(0,k.__awaiter)(this,void 0,void 0,(function*(){var e,t,i;try{yield null===(t=null===(e=m.current)||void 0===e?void 0:e.play)||void 0===t?void 0:t.call(e)}catch(e){return null==d||d(e),null!==(i=e.message)&&void 0!==i?i:""}return""}))),[d]),_=(0,r.useCallback)((()=>{y().then((e=>{(e.match("failed because the user didn't interact with the document first.")||e.match("The request is not allowed by the user agent or the platform in the current context"))&&(v(!1),g(!0))}))}),[v,g,y]);(0,r.useEffect)((()=>{m.current&&_()}),[_]),(0,r.useEffect)((()=>{const e=m.current;return()=>{null==n||n(U(e))}}),[]),(0,r.useEffect)((()=>{c&&(m.current.oncontextmenu=e=>(e.preventDefault(),!1))}),[c,m]);const b=(0,r.useCallback)((e=>{null==l||l(e)}),[l]),f=(0,r.useCallback)((e=>{null==s||s(e),y()}),[s,y]);return(0,a.jsx)("audio",Object.assign({ref:m},p,{muted:u||h,playsInline:!0,autoPlay:!0,onEnded:f,onWaiting:b}),void 0)}))),V=(0,r.memo)((0,r.forwardRef)((function({playUrl:e,id:t,teaParams:i,index:o,mode:n,itemMute:s,onAudioPause:l,onAudioPlaying:d,onAudioPlay:u,onAudioEnded:p,onAudioError:m,onTimeUpdate:h},v){var _;const{isAndroid:k=!1,isMobile:w=!1}=null!==(_=(0,g.h)((()=>["isMobile","isAndroid"]),[]))&&void 0!==_?_:{},{currentVideo:C,playProgress:j}=(0,b.m)(y.f),{currentVideo:S}=(0,b.m)(D),T=(0,r.useRef)(null),P=(0,r.useRef)(null),I=(0,f.fz)(c.ec),M=new O.k,A=(0,f.fz)(x.KF),[F,Z]=(0,r.useState)(!1),z=(0,r.useCallback)((()=>{var e,t;null===(t=null===(e=T.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}),[]),U=(0,r.useCallback)((()=>{var e,t;null===(t=null===(e=T.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)}),[]),V=(0,r.useMemo)((()=>{if(w){if(!S)return!1;const{id:e,index:i}=S;return!k||e===t&&i===o}if(!C)return!1;const{id:e,index:i,mode:a}=C;return e===t&&i===o&&a===n}),[w,C,t,o,n,S,k]);(0,r.useImperativeHandle)(v,(()=>({play:()=>{z(),P.current=!0},pause:()=>{U(),P.current=!1},onTimeUpdate:e=>{var t;null===(t=T.current)||void 0===t||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!==(t=null===(e=T.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=T.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return V&&F}})),[z,U,V,F]),(0,r.useEffect)((()=>{V||Z(!1)}),[V]);const N=(0,R.Mz)();(0,r.useEffect)((()=>{const e=null===P.current||P.current;N&&e?z():U()}),[N,z,U,I,V,n]);const $=(0,r.useCallback)((()=>{var o;const a=(0,L.m7)(null===(o=T.current)||void 0===o?void 0:o.getPlayerAttributes()),{bitrate:r,author_id:s,format:l,encodedType:d,videoQuality:c,encodeUserTag:u,codecType:p,definition:m,secret:h,forFriend:g,aweme_type:v,pic_cnt:y}=i;return Object.assign({id:t,authorId:s,playMode:n,bitrate:r,format:l,encodedType:d,videoQuality:c,encodeUserTag:u,codecType:p,definition:m,secret:h,forFriend:g,play_url:e,awemeType:v,picCnt:y},null!=a?a:{})}),[t,n,i,e]),{handlePauseWithLoading:q,handlePlayingWithLoading:G}=(0,R.Fk)({isCurrentVideo:V}),H=(0,r.useCallback)((()=>{M.handleLoadStart($())}),[M,$]),Q=(0,r.useCallback)((e=>{null==u||u(e)}),[u]),Y=(0,r.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,L.m7)(null===(e=T.current)||void 0===e?void 0:e.getPlayerAttributes());M.handleTimeUpdate($()),null==h||h(t/i)}),[M,$,h]),K=(0,r.useCallback)((e=>{null==l||l(e),q()}),[l,q]),J=(0,r.useCallback)((t=>{null==d||d(t),G(),A.reportVideoInteract({endTime:Date.now(),videoSource:e})}),[d,G,A,e]),X=(0,r.useCallback)((e=>{null==p||p(e),M.handleEnded()}),[p,M]);return(0,r.useEffect)((()=>()=>{M.resetWhenSlideChange(Object.assign({},$()))}),[e]),V?w?(0,a.jsx)(W,{ref:T,c:!0,muteSetting:s||B.PA[n].forceMute,defaultMute:B.PA[n].defaultMute,playProgress:null!=j?j:0,src:e,onTimeUpdate:Y,onError:m,onPause:K,onPlay:Q,onPlaying:J,onEnded:X,onLoadStart:H},void 0):(0,a.jsx)(E,{ref:T,c:!0,muteSetting:s||B.PA[n].forceMute,defaultMute:B.PA[n].defaultMute,playProgress:null!=j?j:0,src:e,onTimeUpdate:Y,onError:m,onPause:K,onPlay:Q,onPlaying:J,onEnded:X,onLoadStart:H},void 0):null})));var N=i(85093);const $=(0,N.Z)("div",{target:"e10jea830"})((({isMobile:e})=>e?{position:"absolute",top:"0",width:"100vw",height:"100%",pointerEvents:"none",opacity:"1"}:{width:"100%",height:"100%",objectFit:"cover",backgroundColor:"black"}),"label:DivPhotoVideoContainer;"),q=(0,N.Z)("div",{target:"e10jea831"})({width:"100%",height:"100%"},"label:DivSwiperContainer;"),G=(0,N.Z)("img",{target:"e10jea832"})({height:"100%",width:"100%",objectFit:"contain"},"label:ImgPhotoSlide;");var H=i(17560);const Q={delay:1700,disableOnInteraction:!1},Y=(0,r.memo)((0,r.forwardRef)((function({show:e=!0,item:t,mode:i=4,index:o,teaParams:n,onAudioPlay:u,onAudioError:p,onTimeUpdate:x,handleNext:k},w){var C,j,S,T,P;const{isMobile:I=!1}=null!==(C=(0,g.h)((()=>["isMobile"]),[]))&&void 0!==C?C:{},{isRTL:O}=(0,v.Y)(),D=O?"rtl":"ltr",M=(0,r.useRef)(!1),R=(0,r.useRef)(0),B=(0,r.useRef)(0),A=(0,f.fz)(c.ec),{isAutoScroll:F}=(0,b.m)(y.f),E=null!==(S=null===(j=null==t?void 0:t.music)||void 0===j?void 0:j.playUrl)&&void 0!==S?S:"",Z=null!==(P=null===(T=null==t?void 0:t.imagePost)||void 0===T?void 0:T.images)&&void 0!==P?P:[],{video:{duration:z,volumeInfo:U},id:W,itemMute:N=!1,authorId:Y=""}=(0,L.m7)(t),K=(0,r.useMemo)((()=>[""]),[]),J=(0,r.useRef)(null),X=(0,r.useRef)(null),ee=(0,r.useRef)(!1),te=(0,r.useRef)([]),{aweme_type:ie,pic_cnt:oe}=(0,H.K$)(t),ne=(0,r.useCallback)((()=>{var e;const t=null===(e=X.current)||void 0===e?void 0:e.autoplay;null==t||t.start(),A.triggerPlay()}),[A]),ae=(0,r.useCallback)((e=>{var t;const o=null===(t=X.current)||void 0===t?void 0:t.autoplay;null==o||o.stop(),A.triggerPause({aweme_type:ie,pic_cnt:oe,enter_method:e,playMode:i})}),[ie,i,oe,A]);(0,r.useImperativeHandle)(w,(()=>({audio:{play:()=>{var e,t;null===(t=null===(e=J.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)},pause:()=>{var e,t;null===(t=null===(e=J.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)},onTimeUpdate:e=>{var t,i;null===(i=null===(t=J.current)||void 0===t?void 0:t.onTimeUpdate)||void 0===i||i.call(t,e)},get currentTime(){var e,t;return null!==(t=null===(e=J.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=J.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get currentCanPlay(){var e,t;return null!==(t=null===(e=J.current)||void 0===e?void 0:e.currentCanPlay)&&void 0!==t&&t}},swiper:{play:ne,pause:ae,slidePrev:e=>{var t,i,o;if(ee.current)return;const n=null!==(i=null===(t=X.current)||void 0===t?void 0:t.activeIndex)&&void 0!==i?i:0;null===(o=X.current)||void 0===o||o.slidePrev(),B.current===R.current&&(B.current=Number(new Date)),h({group_id:W,author_id:Y,enter_method:e,aweme_type:150,pic_cnt:Z.length,pic_location:n-2,action_type:"left",first_manual_click_duration:B.current-R.current})},slideNext:e=>{var t,i,o;if(ee.current)return;const n=null!==(i=null===(t=X.current)||void 0===t?void 0:t.activeIndex)&&void 0!==i?i:0;null===(o=X.current)||void 0===o||o.slideNext(),B.current===R.current&&(B.current=Number(new Date)),h({group_id:W,author_id:Y,enter_method:e,aweme_type:150,pic_cnt:Z.length,pic_location:n===Z.length?0:n,action_type:"right",first_manual_click_duration:B.current-R.current})},slideToLoop:e=>{var t;null===(t=X.current)||void 0===t||t.slideToLoop(e)},onActiveIndexChange:e=>{te.current.push(e)},get paused(){var e,t;return!(null===(t=null===(e=X.current)||void 0===e?void 0:e.autoplay)||void 0===t?void 0:t.running)}}})));const{mute:re}=(0,b.m)(_.x),se=(0,r.useMemo)((()=>Object.assign(Object.assign({},n),{aweme_type:ie,pic_cnt:oe})),[ie,oe,n]),le=(0,r.useMemo)((()=>{const{group_id:e="",author_id:t="",is_scheduled:o,search_id:a,search_keyword:r,search_result_id:s,question_id:l,collection_id:d,collection_name:c,isPaidPartnership:u,poi_id:p,tab_name:m}=n||{};return{itemId:e,authorId:t,isScheduled:Boolean(o),autoplayStatus:1,searchId:a,searchKeyword:r,searchResultId:s,questionId:l,playMode:i,isMute:re,collectionId:d,collectionName:c,isPaidPartnership:Boolean(u),poiId:p,awemeType:ie,picCnt:oe,tab_name:m}}),[ie,i,re,oe,n]),de=(0,r.useMemo)((()=>Object.assign(Object.assign({},le),{currentTime:0,duration:0})),[le]),ce=(0,r.useCallback)((()=>{R.current=Number(new Date),B.current=R.current,m("video_play",de),A.handleAudioPlay(W),A.triggerPlay()}),[W,de,A]),ue=(0,r.useCallback)((()=>{const e=Number(new Date)-R.current;de.duration=e,m("play_time",de)}),[de]),pe=(0,r.useCallback)((e=>{var t,i,o,n,a,r;if(M.current){if(F&&k){null===(i=null===(t=J.current)||void 0===t?void 0:t.pause)||void 0===i||i.call(t);const e=null===(o=X.current)||void 0===o?void 0:o.autoplay;null==e||e.stop(),k()}}else if(e.activeIndex===Z.length&&(m("video_play_finish",de),M.current=!0,F&&k)){null===(a=null===(n=J.current)||void 0===n?void 0:n.pause)||void 0===a||a.call(n);const e=null===(r=X.current)||void 0===r?void 0:r.autoplay;null==e||e.stop(),k()}}),[Z.length,de,F,k]),me=(0,r.useCallback)((()=>{ee.current=!0}),[]),he=(0,r.useCallback)((()=>{ee.current=!1}),[]),ge=(0,r.useCallback)((e=>{h({group_id:W,author_id:Y,enter_method:"auto",aweme_type:150,pic_cnt:Z.length,pic_location:e.activeIndex===Z.length+1?0:e.activeIndex-1,action_type:"right"})}),[Y,W,Z]),[ve,ye]=(0,r.useState)(!1);return(0,r.useEffect)((()=>ye(!0)),[]),ve?(0,a.jsxs)($,Object.assign({isMobile:I},{children:[(0,a.jsx)("link",{rel:"stylesheet",href:l},void 0),e&&(0,a.jsx)(q,{children:Z.length>0?(0,a.jsx)(d.tq,Object.assign({loop:!0,onSwiper:e=>{X.current=e,te.current.forEach((t=>e.on("activeIndexChange",t)))},style:{height:"100%",zIndex:0},speed:800,dir:D,modules:[s.pt],autoplay:Q,preventClicks:!1,preventClicksPropagation:!1,onAfterInit:ce,onDestroy:ue,onSlideNextTransitionEnd:pe,onSlideChangeTransitionStart:me,onSlideChangeTransitionEnd:he,onAutoplay:ge},{children:Z.map((e=>{var t,i;return(0,a.jsx)(d.o5,Object.assign({style:{height:"100%"}},{children:(0,a.jsx)(G,{src:(null!==(t=e.imageURL.urlList)&&void 0!==t?t:K)[0]},void 0)}),(null!==(i=e.imageURL.urlList)&&void 0!==i?i:K)[0])}))}),void 0):null},void 0),(0,a.jsx)(V,{ref:J,index:o,id:W,mode:i,duration:z,playUrl:E,teaParams:se,volumeInfo:U,itemMute:N,onAudioPlay:u,onAudioError:p,onTimeUpdate:x,preload:"metadata",playsInline:!0},void 0)]}),void 0):null})))},38771:(e,t,i)=>{"use strict";i.d(t,{V:()=>a});var o=i(31738),n=i(24138);const a=()=>{const e=(0,o.useRef)(-1),[t,i]=(0,o.useState)(!1),a=(0,n.HX)();return{showing:t&&!a,handleItemEnter:(0,o.useCallback)((()=>{e.current=window.setTimeout((()=>{i(!0)}),1e3)}),[]),handleItemLeave:(0,o.useCallback)((()=>{window.clearTimeout(e.current),i(!1)}),[]),handleCardEnter:(0,o.useCallback)((()=>{window.clearTimeout(e.current),i(!0)}),[]),handleCardLeave:(0,o.useCallback)((()=>{e.current=window.setTimeout((()=>{i(!1)}),500)}),[])}}},59025:(e,t,i)=>{"use strict";i.d(t,{C:()=>f});var o=i(71030),n=i(99333),a=i(31738),r=i(41573),s=i(30036),l=i(98999),d=i(83480),c=i(92742),u=i(85093);const p="400px",m="240px",h=(0,u.Z)("div",{target:"e1wwf12u0"})((({theme:e})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary,position:"absolute",zIndex:2})),"label:DivMask;"),g=(0,u.Z)("div",{target:"e1wwf12u1"})({position:"absolute",top:"50%",transform:"translate(0, -50%)",width:"100%"},"label:DivMaskContainer;"),v=(0,u.Z)("div",{target:"e1wwf12u2"})((({theme:e,smallMask:t=!1})=>({width:t?"48px":"106px",height:t?"48px":"106px",padding:t?"16px":"33px",margin:"0 auto 0",borderRadius:"50%",backgroundColor:e.colors.BGCreation5,color:e.colors.Positive})),"label:DivMaskIcon;"),y=(0,u.Z)("div",{target:"e1wwf12u3"})((({theme:e,smallMask:t=!1})=>({maxWidth:t?m:p,margin:t?"8px auto 0":"24px auto 0",fontSize:t?"16px":"24px",lineHeight:t?"24px":"32px",textAlign:"center",color:e.colors.ConstTextInverse,fontWeight:"600"})),"label:DivMaskTitle;"),_=(0,u.Z)("div",{target:"e1wwf12u4"})((({theme:e,smallMask:t=!1})=>({maxWidth:t?m:p,margin:t?"2px auto 0":"16px auto 0",fontSize:t?"14px":"18px",lineHeight:t?"22px":"24px",textAlign:"center",color:e.colors.ConstTextInverse})),"label:DivMaskDetail;"),b=(0,u.Z)("button",{target:"e1wwf12u5"})((({theme:e})=>({width:p,height:"56px",cursor:"pointer",margin:"56px auto 0",borderRadius:"2px",backgroundColor:e.colors.ConstBGContainer,color:e.colors.ConstTextInverse,padding:"16px",fontSize:"18px",lineHeight:"24px",textAlign:"center",border:"none",display:"block"})),"label:ButtonMask;"),f=(0,a.memo)((({item:e,zIndex:t=2,children:i,onReportMaskVisibleChange:u,onClickShowVideo:p,smallMask:m,styleContainer:f={},styleMaskIcon:x={},styleMaskTitle:k={},styleMaskDetail:w={},styleButtonMask:C={},tickIconDimension:j})=>{var S,T;const P=(0,s.Q)(),I=P("Web_report_thanks_for_report"),O=P("Web_report_hide_video"),D=P("Web_report_show_video"),[M,R]=(0,n.b)(d.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),[L,B]=(0,n.b)(c.mg,{selector:e=>e.blockedVideos||[],dependencies:[]}),A=M.includes(null!==(S=null==e?void 0:e.id)&&void 0!==S?S:"")||L.includes(null!==(T=null==e?void 0:e.id)&&void 0!==T?T:"");(0,a.useEffect)((()=>{null==u||u(A)}),[A]);const F=(0,a.useCallback)((t=>{(0,l.NS)(t),e&&(R.removeBlockVideo(e.id),B.removeBlockVideo(e.id)),p&&p()}),[R,B,e,p]);if(!A)return null;const E=m?16:null!=j?j:40;return(0,o.jsxs)(h,Object.assign({style:Object.assign(Object.assign({},f),{zIndex:t})},{children:[(0,o.jsxs)(g,{children:[(0,o.jsx)(v,Object.assign({style:x,smallMask:m},{children:(0,o.jsx)(r.Z,{width:E,height:E},void 0)}),void 0),(0,o.jsx)(y,Object.assign({style:k,smallMask:m},{children:I}),void 0),(0,o.jsx)(_,Object.assign({style:w,smallMask:m},{children:O}),void 0),!m&&(0,o.jsx)(b,Object.assign({style:C,onClick:F},{children:D}),void 0)]},void 0),i]}),void 0)}))},87185:(e,t,i)=>{"use strict";i.d(t,{W:()=>m});var o=i(71030),n=i(71928),a=i(51722),r=i(31738),s=i(38725),l=i(30036),d=i(85093),c=i(43340);const u=(0,d.Z)("div",{target:"e4cyjsy0"})((({theme:e,justifyContent:t})=>[(0,c.GI)({theme:e,fontFamily:"TikTokFont",color:"ConstTextInverse"}),{background:e.colors.BGInverse3,display:"flex",justifyContent:t,alignItems:"center"}]),"label:DivScheduleItemWarn;");function p(e){const t=(0,a.unix)(e).format("YYYY-M-D-H:mm"),[i,n,r,s]=t.split("-");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:" "},void 0),(0,o.jsx)("span",{children:i},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:n},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:r},void 0),(0,o.jsx)("span",{children:" "},void 0),(0,o.jsx)("span",{children:s},void 0)]},void 0)}const m=(0,r.memo)((function({height:e,fontSize:t,scheduledTime:i,iconSize:a,iconMargin:r,className:d,isTextAlignStart:c=!1}){const{direction:m}=(0,n.u)(),h=(0,l.Q)();return(0,o.jsxs)(u,Object.assign({justifyContent:c?"center":void 0,className:d,style:{fontSize:t,height:e,lineHeight:e}},{children:[(0,o.jsx)(s.Z,{width:a,height:a,style:{["ltr"===m?"marginRight":"marginLeft"]:r}},void 0),h("scheduled_for"),p(i)]}),void 0)}))},64752:(e,t,i)=>{"use strict";i.d(t,{O:()=>m});var o=i(71030),n=i(31738),a=i(30036),r=i(72142);const s=JSON.parse('{"v":"5.6.2","fr":60,"ip":0,"op":81,"w":29,"h":22,"nm":"ic_playing now","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":1,"nm":"s 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":1,"nm":"s","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[27.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":1,"nm":"m 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[8.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":-14,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":10,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":30,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":50,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":70,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":90,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"t":130}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":-2,"op":83,"st":-14,"bm":0},{"ddd":0,"ind":4,"ty":1,"nm":"m","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[21.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":-9,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":11,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":31,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":51,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":71,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":91,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":111,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"t":151}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":-9,"op":126,"st":7,"bm":0},{"ddd":0,"ind":5,"ty":1,"nm":"l","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[14.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0}],"markers":[]}'),l=(0,n.memo)((({width:e=29,height:t=22,autoplay:i=!0})=>(0,o.jsx)(r.L,{width:e,height:t,autoplay:i,loop:!0,animationData:s},void 0)));var d=i(85093);const c=(0,d.Z)("div",{target:"e1ahl3210"})({background:"rgba(0, 0, 0, 0.2)",backdropFilter:"blur(15px)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0},"label:DivPlayingMaskContainer;"),u=(0,d.Z)("div",{target:"e1ahl3211"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"label:DivPlayingMaskWrapper;"),p=(0,d.Z)("span",{target:"e1ahl3212"})((({theme:e})=>({marginTop:"4px",fontSize:"13px",lineHeight:"17px",color:e.colors.ConstTextInverse})),"label:SpanText;"),m=(0,n.memo)((()=>{const e=(0,a.Q)();return(0,o.jsx)(c,{children:(0,o.jsxs)(u,{children:[(0,o.jsx)(l,{},void 0),(0,o.jsx)(p,{children:e("pc_web_playing_now")},void 0)]},void 0)},void 0)}))},41716:(e,t,i)=>{"use strict";i.d(t,{MQ:()=>b,Qx:()=>w,SZ:()=>x,oA:()=>f,s6:()=>j});var o=i(71030),n=i(71928),a=i(99333),r=i(31738),s=i(83791),l=i(67757),d=i(11372),c=i(51553),u=i(44233),p=i(23328),m=i(25798),h=i(95028),g=i(30244),v=i(30036),y=i(50297),_=i(17914);const b=()=>{const[{dimmer:e},t]=(0,a.b)(_._F,{selector:e=>({dimmer:e.dimmer}),dependencies:[]}),i=(0,r.useRef)(0);return{dimmer:e,handleLightenVideoControls:(0,r.useCallback)((()=>{window.clearTimeout(i.current),t.setDimmer(!1),i.current=window.setTimeout((()=>{t.setDimmer(!0)}),3e3)}),[t])}},f=({isActive:e=!1,group_id:t,author_id:i,playModeForTea:o})=>{const[n,a]=(0,r.useState)(1),s=(0,r.useCallback)((e=>()=>{e!==n&&(a(e),g.O.handleVideoControlChange({group_id:t,author_id:i,play_mode:o,click_section:"speed",enter_method:"click",change_params:e}))}),[i,t,o,n]),l=(0,r.useCallback)((()=>{a(1)}),[]);return(0,r.useEffect)((()=>{e||a(1)}),[e]),{playbackRate:n,handleChangePlaybackRate:s,handleResetPlayBack:l}},x=()=>{const[e,t]=(0,r.useState)(!1),i=(0,r.useRef)(0),o=(0,r.useCallback)((()=>{clearTimeout(i.current),e||t(!0)}),[e]),n=(0,r.useCallback)((()=>{i.current=window.setTimeout((()=>{t(!1)}),50)}),[]),a=(0,r.useCallback)((()=>{clearTimeout(i.current),t(!1)}),[]);return{active:e,handleDismissPanel:a,handleMouseMouseEnter:o,handleMouseLeave:n}},k={width:24,height:24,fill:"#fff"},w=({pause:e,fullscreen:t,playMode:i,ended:n,itemMute:a})=>{const{mute:g}=(0,y.s_)({playMode:i,itemMute:a});return{playIcon:(0,r.useMemo)((()=>n?(0,o.jsx)(s.Z,Object.assign({},k),void 0):e?(0,o.jsx)(l.Z,Object.assign({},k),void 0):(0,o.jsx)(d.Z,Object.assign({},k),void 0)),[e,n]),muteIcon:(0,r.useMemo)((()=>g?(0,o.jsx)(c.Z,Object.assign({},k),void 0):(0,o.jsx)(u.Z,Object.assign({},k),void 0)),[g]),fullscreenIcon:t?(0,o.jsx)(p.Z,Object.assign({},k),void 0):(0,o.jsx)(m.Z,{width:18,height:18,fill:"#fff"},void 0),settingIcon:(0,o.jsx)(h.Z,Object.assign({},k),void 0)}},C={.75:"0.75x",1:"1.0x",1.25:"1.25x",1.5:"1.5x",2:"2.0x"},j=({playbackRate:e})=>{const{colors:t}=(0,n.u)(),i=(0,v.Q)();return{fullScreenText:i("pc_web_fullscreen_btn"),speedText:1===e?i("pc_web_speed_btn"):C[e],tooltipStyle:(0,r.useMemo)((()=>({background:t.BGCreation2,paddingInlineStart:"20px",paddingInlineEnd:"20px",fontWeight:600,fontSize:"16px",lineHeight:"24px"})),[t.BGCreation2]),volumeStyle:(0,r.useMemo)((()=>({background:t.BGCreation2,marginBottom:"27px"})),[t.BGCreation2])}}},7084:(e,t,i)=>{"use strict";i.d(t,{M:()=>s});var o=i(22403),n=i(98279),a=i(3312),r=i(82790);let s=class extends n.D{constructor(){super(...arguments),this.defaultState={}}setVideoInfo(e,t){var i;const{videoId:o,videoPercent:n,duration:a,currentTime:r}=t,s=Object.assign({},null!==(i=e[o])&&void 0!==i?i:{},{videoPercent:n,duration:a,currentTime:r});e[o]?Object.keys(s).forEach((t=>{e[o][t]=s[t]})):(Object.keys(e).forEach((t=>delete e[t])),e[o]=s)}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],s.prototype,"setVideoInfo",null),s=(0,o.__decorate)([(0,r.Y)("SeekBarModule")],s)},66116:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});const o=e=>{if(!e)return 0;const t=e.split("?")[0];return t.endsWith(".avif")?2:t.endsWith(".webp")?1:0}},19341:(e,t,i)=>{"use strict";i.d(t,{y:()=>f});var o=i(22403),n=i(71030),a=i(31738),r=i(43226),s=i.n(r),l=i(85093),d=i(37743),c=i(34067),u=i(15137),p=i(17471),m=i(79371),h=i(66116);const g=["240","480","720","960"],v=l.Z.div`
  width: 100%;
  height: 100%;
  position: relative;
  & img {
    object-fit: ${e=>{var t;return null!==(t=e.objectFit)&&void 0!==t?t:"cover"}};
  }
`,y=l.Z.img`
  width: 100%;
  height: 100%;
  object-fit: ${e=>{var t;return null!==(t=e.objectFit)&&void 0!==t?t:"cover"}};
`,_=(()=>{let e=0;return()=>e++})(),b=(0,a.forwardRef)((function(e,t){var i,r,{className:l,objectFit:m,style:y,video:b,imagexSsrMode:f=!0,onLoad:x=s()}=e,k=(0,o.__rest)(e,["className","objectFit","style","video","imagexSsrMode","onLoad"]);const{zoomCover:w,cover:C="",quality:j}=b,S=(0,h.a)(null==w?void 0:w[240]),{userAgent:T}=null!==(i=(0,u.Lh)((()=>["userAgent"]),[]))&&void 0!==i?i:{},{isIOS:P,videoCoverSettings:I}=null!==(r=(0,p.h)((()=>["isIOS","videoCoverSettings"]),[]))&&void 0!==r?r:{},O=/^((?!chrome|android).)*safari/i.test(null!=T?T:""),D="undefined"==typeof window,M=f&&D&&I;M&&I._ssrCount++;const R=D?0:_(),[L,B,A]=(0,d.Ay)("video-cover-viewer-ssr-count"),F=!!f&&(D||R<Number(L)),E=(0,a.useCallback)((e=>{e.target.currentSrc.startsWith("data:image")||x(e)}),[x]);return(0,n.jsxs)(v,Object.assign({className:l,style:y,objectFit:m,ref:t},{children:[M&&(0,n.jsx)(A,{data:I._ssrCount},void 0),(0,n.jsx)(c.A,Object.assign({ssr:F,ua:T,src:C,formats:2===S?["avif"]:1===S?["webp"]:[],imageSizes:g.map((e=>Number(e))),layout:"fill",loader:e=>{if("image"===e.format&&0!==S)return C;let t;return t=j?null==w?void 0:w[j]:null==w?void 0:w[e.width||"720"],t||(t=C,t.startsWith("http://")&&(t=t.replace("http://","https://"))),t},loading:O||P?"eager":"lazy",error:(0,n.jsx)("div",{},void 0),onLoad:E},k),void 0)]}),void 0)})),f=(0,a.memo)((0,a.forwardRef)((function(e,t){const{useDynamic:i,video:r,loading:s="lazy"}=e,l=(0,o.__rest)(e,["useDynamic","video","loading"]),{dynamicCover:d}=r,[c,u]=(0,a.useState)(!!d);return(0,a.useEffect)((()=>{if(i&&1===(0,h.a)(d)){const{supportWebp:e}=(0,m.g$)();u(e)}}),[]),i&&c?(0,n.jsx)(y,Object.assign({loading:s,src:d,ref:t},l),void 0):(0,n.jsx)(b,Object.assign({},e,{ref:t}),void 0)})),((e,t)=>e.video.cover===t.video.cover&&e.video.quality===t.video.quality&&e.objectFit===t.objectFit))},73632:(e,t,i)=>{"use strict";i.d(t,{R:()=>n,i:()=>o});const o=3,n=-3},69634:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});var o=i(67221);function n(){var e;const t=(0,o.HT)();return"v2"===(null===(e=null==t?void 0:t.parameters.video_non_tdk_phase2)||void 0===e?void 0:e.vid)}},63820:(e,t,i)=>{"use strict";i.d(t,{wk:()=>l});var o=i(51722),n=i.n(o),a=i(83623),r=i.n(a);n().extend(r());const s={ar:"ar","bn-IN":"bn","ceb-PH":"en","cs-CZ":"cs","de-DE":"de","el-GR":"el",en:"en",es:"es","fi-FI":"fi","fil-PH":"en",fr:"fr","he-IL":"he","hi-IN":"hi","hu-HU":"hu","id-ID":"id","it-IT":"it","ja-JP":"ja","jv-ID":"jv","km-KH":"km","ko-KR":"ko","ms-MY":"ms","my-MM":"my","nl-NL":"nl","pl-PL":"pl","pt-BR":"pt","ro-RO":"ro","ru-RU":"ru","sv-SE":"sv","th-TH":"th","tr-TR":"tr","uk-UA":"uk",ur:"ur","vi-VN":"vi","zh-Hans":"zh","zh-Hant-TW":"zh-tw"};function l(e,t,i="MM-DD-YYYY HH:mm"){return n().unix(e).locale(s[t]).format(i)}},67490:(e,t,i)=>{"use strict";i.d(t,{AZ:()=>r,SD:()=>s,cl:()=>l,ky:()=>d,no:()=>u,qf:()=>p,wu:()=>a,z5:()=>c});var o=i(85093),n=(i(2412),i(43340));const a=(0,o.Z)("div",{target:"ehlq8k30"})({position:"relative",padding:"16px 0 0"},"label:DivContainer;"),r=(0,o.Z)("div",{target:"ehlq8k31"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivFlexCenterRow;"),s=(0,o.Z)(r,{target:"ehlq8k32"})((({shouldOptimizeCta:e})=>({justifyContent:"space-between",marginBottom:e?"11px":""})),"label:StyledWrapper;"),l=(0,o.Z)("div",{target:"ehlq8k33"})((({theme:e})=>[(0,n.GI)({theme:e,typography:"P3",color:"TextSecondary"}),{display:"flex",flexDirection:"row",marginTop:"16px",boxSizing:"border-box",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"8px",overflow:"hidden"}]),"label:DivCopyLinkContainer;"),d=(0,o.Z)("p",{target:"ehlq8k34"})(n.wj,(({theme:e})=>({flex:"1 1 auto",paddingTop:"7px",paddingBottom:"5px",backgroundColor:e.colors.BGInput})),(({theme:{direction:e}})=>(0,n.YJ)({direction:e,paddingStart:"12px",paddingEnd:"0"})),"label:PCopyLinkText;");d.defaultProps=Object.assign(Object.assign({},d.defaultProps),{"data-e2e":"browse-video-link"});const c=(0,o.Z)("button",{target:"ehlq8k36"})((({theme:e})=>[n.Ph,{color:e.colors.TextPrimary,fontWeight:e.fontWeights.bold,flex:"0 0 auto",cursor:"pointer",backgroundColor:e.colors.BGInput2,padding:"7px 18px",":hover":{backgroundColor:e.colors.BGView},":active":{backgroundColor:e.colors.BGInput},":focus-visible":{outline:`2px solid ${e.colors.Negative}`,outlineOffset:"-2px"}}]),"label:ButtonCopyLink;");c.defaultProps=Object.assign(Object.assign({},c.defaultProps),{"data-e2e":"browse-copy"});const u=(0,o.Z)("button",{target:"ehlq8k37"})((({theme:{colors:e}})=>[n.Ph,{position:"relative",display:"flex",width:"24px",height:"24px",justifyContent:"center",alignItems:"center",borderRadius:"50%",cursor:"pointer",color:e.TextPrimary,":focus-visible":{outline:`2px solid ${e.Negative}`},":hover":{backgroundColor:"rgba(22, 24, 35, 0.1)"},":active":{backgroundColor:"rgba(22, 24, 35, 0.1)"}}]),"label:ButtonShare;"),p=(0,o.Z)("div",{target:"ehlq8k38"})((({theme:e})=>[(0,n.GI)({theme:e,fontWeight:"semiBold",typography:"P2"}),{width:"280px",padding:"8px 0px",maxHeight:448,overflow:"auto","::-webkit-scrollbar":{width:"6px"},"::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"rgba(0, 0, 0, 0.15)"}}]),"label:DivShareWrapper;");p.defaultProps=Object.assign(Object.assign({},p.defaultProps),{"data-e2e":"feed-share-group"})},20832:(e,t,i)=>{"use strict";i.d(t,{Q:()=>m});var o=i(71030),n=i(31738),a=i(65453),r=i(30036),s=i(60801),l=i(85093),d=i(5535),c=i(43340);const u=(0,l.Z)("button",{target:"ef0ywbl0"})(c.Ph,(({theme:e})=>[(0,c.YJ)({direction:e.direction,end:"26px"}),(0,c.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"TextPrimary",typography:"P3"})]),{display:"flex",justifyContent:"center",alignItems:"center",height:"20px",cursor:"pointer",":hover":{textDecoration:"underline"}},"label:ButtonDelete;"),p=(0,l.Z)(d.Z,{target:"ef0ywbl1"})((({theme:{direction:e}})=>(0,c.YJ)({direction:e,marginEnd:6})),"label:StyledTrashBin;"),m=function({video:e}){const[t,i]=(0,n.useState)(!1),l=(0,r.Q)(),d=(0,n.useCallback)((()=>{i(!0),a.o.handleScheduleConfirm(e.id)}),[e.id]),c=(0,n.useCallback)((()=>{i(!1)}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u,Object.assign({type:"button",onClick:d},{children:[(0,o.jsx)(p,{width:18.33,height:18.33},void 0),l("delete")]}),void 0),(0,o.jsx)(s.Y,{visible:t,onClose:c,videoId:e.id,isScheduled:!0},void 0)]},void 0)}},86172:(e,t,i)=>{"use strict";i.d(t,{EN:()=>l,Fg:()=>u,G8:()=>c,Zg:()=>g,bq:()=>m,lO:()=>h,qY:()=>s,ut:()=>d});var o=i(85093),n=i(43340),a=i(80984),r=i(35991);const s=(0,o.Z)("div",{target:"evv7pft0"})({display:"flex",flexDirection:"row",alignItems:"center",padding:"0px",marginBottom:"15px",position:"relative",flex:"0 0 82px"},"label:DivInfoContainer;"),l=(0,o.Z)("span",{target:"evv7pft1"})((({theme:e,shouldAvatarShowNickName:t})=>[(0,n.GI)({theme:e,typography:"P1",fontWeight:"bold",fontFamily:"TikTokDisplayFont"}),t&&{size:"20px",lineHeight:"28px"}]),"label:SpanUniqueId;");l.defaultProps=Object.assign(Object.assign({},l.defaultProps),{"data-e2e":"browse-username"});const d=(0,o.Z)("span",{target:"evv7pft2"})(Object.assign(Object.assign({},(0,n.FC)(1)),{display:"inline"}),"label:SpanEllipsis;"),c=(0,o.Z)("span",{target:"evv7pft3"})((({theme:e,shouldAvatarShowNickName:t,isDetailPage:i})=>[(0,n.GI)({theme:e,typography:"P3",fontFamily:"TikTokFont",color:i?"TextSecondary":void 0}),t&&{color:e.colors.TextTertiaryAlt},{display:"flex",alignItems:"center"}]),"label:SpanOtherInfos;");c.defaultProps=Object.assign(Object.assign({},c.defaultProps),{"data-e2e":"browser-nickname"});const u=(0,o.Z)(a.D,{target:"evv7pft4"})(n.wj,n.gi,{flex:"1 1 auto",":hover":{[`${l}`]:{textDecoration:"underline"}}},(({theme:{direction:e}})=>(0,n.YJ)({direction:e,marginEnd:"12px"})),"label:StyledLink;"),p=({theme:{direction:e}})=>[{flex:"0 0 40px",":hover":{[`~ ${u} ${l}`]:{textDecoration:"underline"}}},(0,n.YJ)({direction:e,marginEnd:"12px"})];function m(e){return e?(0,o.Z)(r.G,{target:"evv7pft5"})(p):(0,o.Z)(a.D,{target:"evv7pft6"})(p)}const h=(0,o.Z)("div",{target:"evv7pft7"})({justifySelf:"flex-end"},"label:DivBtnWrapper;");h.defaultProps=Object.assign(Object.assign({},h.defaultProps),{"data-e2e":"browse-follow"});const g=(0,o.Z)("span",{target:"evv7pft8"})((({theme:e})=>({margin:"0px 4px",border:"0.5px",borderStyle:"solid",height:"13.5px",borderColor:e.colors.LinePrimary})),"label:SpanDivider;")},73142:(e,t,i)=>{"use strict";i.d(t,{C:()=>pe});var o=i(71030),n=i(71928),a=i(31738),r=i(65453),s=i(30036),l=i(6364),d=i(11753),c=i(43226),u=i.n(c),p=i(79176),m=i(35465),h=i(61216),g=i(85093),v=i(68561),y=i(43340);const _=(0,g.Z)("div",{target:"e1rwytmq0"})((({theme:e})=>[(0,y.GI)({theme:e,typography:"H6",fontFamily:"TikTokFont"}),{position:"relative",userSelect:"none"}]),"label:DivContainer;"),b=(0,g.Z)("div",{target:"e1rwytmq1"})((({theme:{colors:e}})=>({display:"flex",flexDirection:"row",alignItems:"center",padding:"12px",borderRadius:"2px",border:`1px solid ${e.LineSecondary2}`,cursor:"pointer"})),"label:DivSelectionContainer;"),f=(0,g.Z)("p",{target:"e1rwytmq2"})(y.wj,{flex:"1 1 auto"},"label:PSelected;"),x=(0,g.Z)(v.Z,{target:"e1rwytmq3"})({width:24,height:24,flex:"0 0 24px"},"label:StyledChevronDown;"),k=(0,g.Z)("div",{target:"e1rwytmq4"})({position:"fixed",left:0,right:0,top:0,bottom:0},"label:DivSelectMask;"),w=(0,h.F4)({from:{opacity:"0",transform:"scale(0.6, 0.6)"},"70%":{opacity:"1",transform:"scale(1.01, 1.01)"},to:{opacity:"1",transform:"scale(1, 1)",animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"}}),C=(0,g.Z)("ul",{target:"e1rwytmq5"})((({theme:{colors:e}})=>({position:"absolute",left:0,right:0,margin:0,padding:0,listStyle:"none",border:`1px solid ${e.LineSecondary}`,background:e.BGPrimary,boxShadow:`0px 2px 8px ${e.ShadowPrimary}`,animation:`${w} 100ms normal`,transformOrigin:"center top",zIndex:1})),"label:UlOptionsContainer;"),j=(0,g.Z)("li",{target:"e1rwytmq6"})((({theme:{colors:e}})=>({cursor:"pointer",padding:"8px 12px",":hover":{background:e.BGView}})),"label:LiOptionsItem;"),S=(0,g.Z)("p",{target:"e1rwytmq7"})(y.wj,"label:POptionsTitle;"),T=(0,g.Z)("p",{target:"e1rwytmq8"})(y.wj,(({theme:e})=>(0,y.GI)({theme:e,typography:"P4",color:"TextTertiary"})),"label:POptionsDesc;");function P({value:e,options:t,e2eData:i,itemE2eData:n,onChange:r,placeholder:s}){var l,d;const[c,u]=(0,a.useState)(!1),p=t.find((({value:t})=>t===e)),m=(0,a.useCallback)((()=>{u(!0)}),[]),h=(0,a.useCallback)((()=>{u(!1)}),[]),g=(0,a.useCallback)((e=>()=>{null==r||r(e),h()}),[h,r]);return(0,o.jsxs)(_,{children:[(0,o.jsxs)(b,Object.assign({"data-e2e":i,onClick:m},{children:[(0,o.jsx)(f,{children:null!==(d=null!==(l=null==p?void 0:p.title)&&void 0!==l?l:null==p?void 0:p.value)&&void 0!==d?d:s},void 0),(0,o.jsx)(x,{width:24,height:24},void 0)]}),void 0),c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k,{onClick:h},void 0),(0,o.jsx)(C,{children:t.map((({value:e,key:t,title:i,desc:a})=>{const r=String(null!=i?i:e);return(0,o.jsxs)(j,Object.assign({"data-e2e":n,title:r,onClick:g(e)},{children:[(0,o.jsx)(S,{children:i},void 0),a&&(0,o.jsx)(T,{children:a},void 0)]}),null!=t?t:String(e))}))},void 0)]},void 0)]},void 0)}var I,O,D=i(30329),M=i(23097),R=i(99333),L=i(22403),B=i(98279),A=i(3312),F=i(82790),E=i(28952),Z=i(21249),z=i(55823),U=i(17620),W=i(35380),V=i(14312),N=i(28147),$=i(56981),q=i(38974);!function(e){e[e.Show=0]="Show",e[e.CanNotModify=1]="CanNotModify",e[e.Hide=2]="Hide"}(I||(I={})),function(e){e[e.NoRestriction=0]="NoRestriction",e[e.Compliance=1]="Compliance",e[e.FamilyPairing=2]="FamilyPairing",e[e.PrivateAccount=3]="PrivateAccount"}(O||(O={}));let G=class extends B.D{constructor(e){super(),this.service=e,this.defaultState={isPrivateBannerShowing:!1,videoPrivateSetting:{duet:{show_type:0,res_type:0},stitch:{show_type:0,res_type:0}}}}setIsPrivateBannerShowing(e,t){e.isPrivateBannerShowing=t}handleShowPrivateBanner(e){return e.pipe((0,Z.b)((e=>{e&&V.q.handlePrivateBannerShow()})),(0,z.U)((e=>this.getActions().setIsPrivateBannerShowing(e))))}handlePrivateBannerClose(e){return e.pipe((0,Z.b)((()=>{V.q.handlePrivateBannerClick("ok")})),(0,U.z)((()=>this.service.postPrivateBannerAck())),(0,Z.b)((e=>{(0,N.k)(e.statusCode,[0])})),(0,z.U)((e=>0===e.statusCode?this.getActions().setIsPrivateBannerShowing(!1):this.noop())),(0,$.n)({}))}setVideoPrivateSetting(e,t){e.videoPrivateSetting=t}getVideoPrivateSetting(e){return e.pipe((0,W.M)(this.state$),(0,U.z)((([e,t])=>this.service.getVideoPrivateSetting().pipe((0,z.U)((e=>{var i,o,n,a;const{private_settings:r}=e;return this.getActions().setVideoPrivateSetting({duet:{show_type:null!==(i=null==r?void 0:r.video_privacy.duet.show_type)&&void 0!==i?i:t.videoPrivateSetting.duet.show_type,res_type:null!==(o=null==r?void 0:r.video_privacy.duet.res_type)&&void 0!==o?o:t.videoPrivateSetting.duet.res_type},stitch:{show_type:null!==(n=null==r?void 0:r.video_privacy.stitch.show_type)&&void 0!==n?n:t.videoPrivateSetting.stitch.show_type,res_type:null!==(a=null==r?void 0:r.video_privacy.stitch.res_type)&&void 0!==a?a:t.videoPrivateSetting.stitch.res_type}})}))))),(0,$.n)({}))}};(0,L.__decorate)([(0,A.lF)(),(0,L.__metadata)("design:type",Function),(0,L.__metadata)("design:paramtypes",[Object,Boolean]),(0,L.__metadata)("design:returntype",void 0)],G.prototype,"setIsPrivateBannerShowing",null),(0,L.__decorate)([(0,A.Qm)(),(0,L.__metadata)("design:type",Function),(0,L.__metadata)("design:paramtypes",[E.y]),(0,L.__metadata)("design:returntype",void 0)],G.prototype,"handleShowPrivateBanner",null),(0,L.__decorate)([(0,A.Qm)(),(0,L.__metadata)("design:type",Function),(0,L.__metadata)("design:paramtypes",[E.y]),(0,L.__metadata)("design:returntype",void 0)],G.prototype,"handlePrivateBannerClose",null),(0,L.__decorate)([(0,A.lF)(),(0,L.__metadata)("design:type",Function),(0,L.__metadata)("design:paramtypes",[Object,Object]),(0,L.__metadata)("design:returntype",void 0)],G.prototype,"setVideoPrivateSetting",null),(0,L.__decorate)([(0,A.Qm)(),(0,L.__metadata)("design:type",Function),(0,L.__metadata)("design:paramtypes",[E.y]),(0,L.__metadata)("design:returntype",void 0)],G.prototype,"getVideoPrivateSetting",null),G=(0,L.__decorate)([(0,F.Y)("Compliance"),(0,L.__metadata)("design:paramtypes",[q.n])],G);var H=i(15220);const Q=(0,g.Z)("div",{target:"e1i2llgv1"})({padding:"32px",width:"332px"},"label:DivContentWrapper;"),Y=(0,g.Z)("h2",{target:"e1i2llgv2"})((({theme:e})=>(0,y.GI)({theme:e,typography:"H4"})),{marginTop:"4px",textAlign:"center"},"label:H2Title;"),K=(0,g.Z)("p",{target:"e1i2llgv3"})((({theme:e})=>(0,y.GI)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"})),{marginTop:"24px",marginBottom:"8px"},"label:PDesc;"),J=(0,g.Z)("div",{target:"e1i2llgv4"})({marginTop:"16px"},"label:DivSwitchGroupContainer;"),X=(0,g.Z)("div",{target:"e1i2llgv5"})({display:"flex",flexDirection:"row",alignItems:"center",height:"40px"},"label:DivSwitchItemContainer;"),ee=(0,g.Z)("span",{target:"e1i2llgv6"})((({theme:e,disabled:t})=>[(0,y.GI)({theme:e,typography:"P2",fontWeight:"semiBold",color:t?"TextQuaternary":"TextPrimary"}),(0,y.YJ)({direction:e.direction,marginEnd:"12px"}),{flex:"1 1 auto"}]),"label:SpanSwitchText;"),te=(0,g.Z)("p",{target:"e1i2llgv7"})((({theme:e})=>(0,y.GI)({theme:e,fontFamily:"TikTokFont",typography:"P4",color:"TextQuaternary"})),{marginTop:"4px"},"label:PHint;"),ie=(0,g.Z)("button",{target:"e1i2llgv8"})(y.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer",color:e.TextPrimary})),"label:ButtonSave;"),oe=function(e){const{videoId:t,visible:i,onClose:n=u()}=e,r=(0,s.Q)(),l=(0,M.g)(t),d=(0,D.p)(null==l?void 0:l.author),{handleChange:c,optionsList:p,visibilityValue:h}=function({item:e,author:t}){const i=(0,s.Q)(),o=(0,H.zI)(),{forFriend:n,secret:r,id:l="",adAuthorization:d,adLabelVersion:c}=null!=e?e:{},{privateAccount:u}=null!=t?t:{};return{visibilityValue:(0,a.useMemo)((()=>n?"3":r?"2":"1"),[n,r]),optionsList:(0,a.useMemo)((()=>{if(d)return[{title:i("who_can_view_public"),desc:i("public_desc"),value:"1"},{title:i("new_video_status"),desc:i("pull_video_expl_available_for_ads"),value:"2"}];const e=[{title:i(u?"who_can_view_followers":"who_can_view_public"),desc:i(u?"followers_desc_for_private":"public_desc"),value:"1"},{title:i("who_can_view_friends"),desc:i("followers_desc"),value:"3"}];return 2!==c&&e.push({title:i("video_label_private"),desc:i("private_desc"),value:"2"}),e}),[d,c,u,i]),handleChange:(0,a.useCallback)((e=>{o.postModifyVisibility({aweme_id:l,type:e})}),[o,l])}}({item:l,author:d}),{comment:g,duet:v,stitch:y,hintTextKey:_}=function({item:e}){const[{isEnableDuet:t,isEnableStitch:i,isShowSafetyHint:o},n]=(0,R.b)(G,{selector:e=>({isEnableDuet:0===e.videoPrivateSetting.duet.show_type,isEnableStitch:0===e.videoPrivateSetting.stitch.show_type,isShowSafetyHint:1===e.videoPrivateSetting.duet.res_type||1===e.videoPrivateSetting.stitch.res_type}),dependencies:[]}),r=1===(null==e?void 0:e.duetDisplay)||1===(null==e?void 0:e.stitchDisplay),s=3!==(null==e?void 0:e.itemCommentStatus),l=Boolean(null==e?void 0:e.duetEnabled)&&!r,d=Boolean(null==e?void 0:e.stitchEnabled)&&!r,c=Number(null==e?void 0:e.video.duration)>=61,u=(0,H.zI)(),p=(0,a.useMemo)((()=>o?"setting_disabled_16":r?"duet_stitch_minor":c?"hint2":"hint1"),[c,o,r]);(0,a.useEffect)((()=>{n.getVideoPrivateSetting()}),[n]);const m=(0,a.useCallback)((t=>{var i;u.postUserSetting({field:"item_comment",aweme_id:null!==(i=null==e?void 0:e.id)&&void 0!==i?i:"",private_setting:t?0:3})}),[null==e?void 0:e.id,u]),h=(0,a.useCallback)((t=>i=>{var o;u.postDuetOrStitchChange({aweme_id:null!==(o=null==e?void 0:e.id)&&void 0!==o?o:"",type:t,enable:i?0:1})}),[null==e?void 0:e.id,u]);return{comment:{checked:s,onChange:m},duet:{checked:l,disabled:c||!t||r,onChange:h("item_duet")},stitch:{checked:d,disabled:c||!i||r,onChange:h("item_stitch")},hintTextKey:p}}({item:l,author:d});return(0,o.jsxs)(m.d,Object.assign({e2eData:"video-setting-list",compact:!0,isOpen:i,onClose:n,closeOnBackdropClick:!0,closeOnEsc:!0},{children:[(0,o.jsxs)(Q,{children:[(0,o.jsx)(Y,{children:r("privacy_set")},void 0),(0,o.jsx)(K,{children:r("view_access")},void 0),(0,o.jsx)(P,{e2eData:"video-setting-choose",itemE2eData:"video-watch-list",value:h,options:p,onChange:c},void 0),(0,o.jsxs)(J,{children:[(0,o.jsx)(ne,Object.assign({e2eData:"video-setting-comment",text:r("allow_comment")},g),void 0),(0,o.jsx)(ne,Object.assign({e2eData:"video-setting-duet",text:r("allow_duet")},v),void 0),(0,o.jsx)(ne,Object.assign({e2eData:"video-setting-stitch",text:r("allow_stitch")},y),void 0)]},void 0),(0,o.jsx)(te,{children:r(_)},void 0)]},void 0),(0,o.jsx)(ie,Object.assign({"data-e2e":"video-setting-down",onClick:e.onClose},{children:r("privacy_settings_done")}),void 0)]}),void 0)},ne=function(e){const{disabled:t,checked:i,text:n,e2eData:a}=e;return(0,o.jsxs)(X,{children:[(0,o.jsx)(ee,{children:n},void 0),(0,o.jsx)(p.r,{e2eData:a,checked:i,onChange:e.onChange,disabled:t},void 0)]},void 0)};var ae=i(95028);const re=(0,g.Z)("div",{target:"e161jvwg0"})({position:"relative",flex:"0 0 24px",width:"24px",height:"24px"},"label:DivActionContainer;"),se=(0,g.Z)(ae.Z,{target:"e161jvwg1"})({width:24,height:24,cursor:"pointer"},"label:StyledEllipsisHorizontal;"),le=(0,g.Z)("ul",{target:"e161jvwg2"})((({theme:e})=>(0,y.GI)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"})),{listStyle:"none",margin:"0",padding:"8px 16px",whiteSpace:"nowrap",minWidth:"200px"},"label:UlPopupContainer;"),de=(0,g.Z)("li",{target:"e161jvwg3"})((({theme:{colors:e}})=>({position:"relative",padding:"13px",":last-of-type::before":{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"1px",background:e.LineSecondary,transform:"scaleY(0.5)"}})),"label:LiPopupItem;"),ce=(0,g.Z)("button",{target:"e161jvwg4"})(y.Ph,(({theme:{colors:e}})=>({cursor:"pointer",color:e.TextPrimary,":hover":{color:e.Primary}})),"label:ButtonAction;");var ue=i(60801);const pe=function({videoId:e}){const{direction:t}=(0,n.u)(),i="ltr"===t?"bottomRight":"bottomLeft",c=(0,s.Q)(),{active:u,handleMouseEnter:p,handleMouseLeave:m}=(0,l.R)(),[h,g]=(0,a.useState)(!1),v=(0,a.useCallback)((()=>{g(!0)}),[]),y=(0,a.useCallback)((()=>{g(!1)}),[]),[_,b]=(0,a.useState)(!1),f=(0,a.useCallback)((()=>{b(!0),r.o.handleClickDeleteVideo({group_id:e})}),[e]),x=(0,a.useCallback)((()=>{b(!1)}),[]),{colors:k}=(0,n.u)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(re,Object.assign({"data-e2e":"video-setting",onMouseEnter:p,onMouseLeave:m},{children:[(0,o.jsx)(se,{},void 0),(0,o.jsx)(d.G,Object.assign({backgroundColor:k.BGSecondary,placement:i,active:u,margin:-11,arrowMargin:10},{children:(0,o.jsxs)(le,{children:[(0,o.jsx)(de,Object.assign({"data-e2e":"video-privacy-settings"},{children:(0,o.jsx)(ce,Object.assign({onClick:v,type:"button"},{children:c("privacy_set")}),void 0)}),void 0),(0,o.jsx)(de,Object.assign({"data-e2e":"video-delete"},{children:(0,o.jsx)(ce,Object.assign({onClick:f,type:"button"},{children:c("delete")}),void 0)}),void 0)]},void 0)}),void 0)]}),void 0),(0,o.jsx)(oe,{videoId:e,visible:h,onClose:y},void 0),(0,o.jsx)(ue.Y,{visible:_,onClose:x,videoId:e},void 0)]},void 0)}},60801:(e,t,i)=>{"use strict";i.d(t,{Y:()=>v});var o=i(71030),n=i(43226),a=i.n(n),r=i(31738),s=i(65453),l=i(30036),d=i(35465),c=i(85093),u=i(43340);const p=(0,c.Z)("p",{target:"e1qpteip0"})((({theme:e})=>(0,u.GI)({theme:e,typography:"H4",fontWeight:"bold"})),{padding:"36px 32px",textAlign:"center",width:"332px"},"label:PDeleteTitle;"),m=(0,c.Z)("button",{target:"e1qpteip1"})(u.Ph,(({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer",color:e.TextSecondary})),"label:ButtonConfirm;"),h=(0,c.Z)(m,{target:"e1qpteip2"})((({theme:{colors:e}})=>({color:e.TextSecondary})),"label:StyledButtonCancel;");var g=i(15220);const v=function(e){const{visible:t,onClose:i=a(),videoId:n,isScheduled:c=!1}=e,u=(0,l.Q)(),v=(0,g.zI)(),y=(0,r.useCallback)((()=>{c?v.postScheduleDelete(n):v.postVideoDelete({aweme_id:n,target:n}),null==i||i()}),[c,v,i,n]),_=(0,r.useCallback)((()=>{c?s.o.handleScheduleDelete("cancel"):s.o.handleVideoDelete("cancel"),null==i||i()}),[c,i]);return(0,o.jsxs)(d.d,Object.assign({e2eData:"video-delete-modal",isOpen:t,compact:!0,onClose:i,closeOnBackdropClick:!0,closeOnEsc:!0},{children:[(0,o.jsx)(p,{children:u("delete_confirm")},void 0),(0,o.jsx)(m,Object.assign({"data-e2e":"video-modal-delete",type:"button",onClick:y},{children:u("delete")}),void 0),(0,o.jsx)(h,Object.assign({"data-e2e":"video-modal-cancel",type:"button",onClick:_},{children:u("cancel_settings")}),void 0)]}),void 0)}},41406:(e,t,i)=>{"use strict";i.d(t,{_:()=>Ee});var o=i(71030),n=i(99333),a=i(31738),r=i(5909),s=i(54724),l=i(24906),d=i(9538),c=i(7534),u=i(40362),p=i(20143),m=i(30036),h=i(98999),g=i(46405),v=i(41115),y=i(71304),_=i(35854),b=i(15137);const f=(0,i(43051).ZP)({resolved:{},chunkName:()=>"editor",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(9505),i.e(5932),i.e(4620),i.e(1483),i.e(1189)]).then(i.bind(i,17734)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>17734});var x=i(9819),k=i(85093),w=i(43340);const C=(0,k.Z)("div",{target:"exl80ic0"})((({theme:{colors:e}})=>({width:"100%",height:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:e.BGPrimary})),"label:DivEmojiSuggestionContainer;"),j=(0,k.Z)("ul",{target:"exl80ic1"})((({theme:{colors:e}})=>({listStyleType:"none",margin:0,padding:0,order:1,flex:"0 0 38px",borderTop:`1px solid ${e.LineSecondary}`,display:"flex",flexDirection:"row"})),"label:UlNavContainer;"),S=(0,k.Z)("div",{target:"exl80ic2"})((({theme:{colors:e}})=>({order:2,flex:"1 1 100%",overflowY:"scroll",scrollbarWidth:"none","::-webkit-scrollbar":{width:4},"::-webkit-scrollbar-track":{marginTop:8},"::-webkit-scrollbar-thumb":{borderRadius:2,backgroundColor:e.LineSecondary},":hover::-webkit-scrollbar-thumb":{backgroundColor:e.TextQuaternary}})),"label:DivPanelContainer;"),T=(0,k.Z)("ul",{target:"exl80ic3"})({listStyleType:"none",margin:0,padding:0,width:"100%",height:"100%",display:"flex",flexWrap:"wrap"},"label:UlPanelList;"),P=(0,k.Z)("li",{target:"exl80ic4"})((({theme:e,theme:{colors:t},isActive:i})=>[(0,w.GI)({theme:e,color:"ConstBGInverse",typography:"H4"}),{listStyleType:"none",flex:"0 0 auto",width:40,height:40,lineHeight:"46px",margin:"5px 6px",cursor:"pointer",textAlign:"center",backgroundColor:i?t.BGInput:t.BGPrimary,borderRadius:8,":hover":{backgroundColor:t.BGInput}}]),"label:LiItem;"),I=(0,a.memo)((function({emojis:e,onSelect:t}){const i=(0,a.useRef)(-1),n=(0,a.useCallback)((e=>{const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i.current=e?Number(e):-1}}),[]),r=(0,a.useCallback)((()=>{var e,t;if("li"===(null===(e=document.activeElement)||void 0===e?void 0:e.nodeName.toLocaleLowerCase())){const e=null===(t=document.activeElement)||void 0===t?void 0:t.getAttribute("data-index");i.current=e?Number(e):-1}}),[]),s=(0,a.useCallback)((o=>{(0,h.NS)(o);const n=i.current;-1!==n&&t(e[n].emoji)}),[e,t]),l=(0,a.useCallback)((o=>{if(13===o.keyCode||32===o.keyCode){o.stopPropagation(),o.preventDefault();const n=i.current;-1!==n&&t(e[n].emoji)}}),[e,t]);return(0,o.jsx)(T,Object.assign({onMouseOver:n,onClick:s,onKeyDown:l},{children:e.map(((e,t)=>(0,o.jsx)(P,Object.assign({"data-index":t,isActive:!1,tabIndex:0,onFocus:r},{children:e.emoji}),e.alias)))}),void 0)})),O=[{name:"basic",data:x.Z,iconIndex:11}],D=(0,a.memo)((function(e){const[t,i]=(0,a.useState)(0),n=(0,a.useCallback)((e=>{(0,h.NS)(e);const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i(e?Number(e):0)}}),[]);return(0,o.jsxs)(C,{children:[(0,o.jsx)(j,Object.assign({onClick:n,role:"tablist"},{children:O.map((({name:e,data:i,iconIndex:n},a)=>(0,o.jsx)(P,Object.assign({"data-index":a,isActive:a===t,role:"tab",tabIndex:0,"aria-selected":a===t,"aria-controls":"emoji-panel-container"},{children:i[n].emoji}),e)))}),void 0),(0,o.jsx)(S,Object.assign({"data-e2e":"comment-emoji-group"},{children:(0,o.jsx)(I,{emojis:O[t].data,onSelect:e.onSelect},O[t].name)}),void 0)]},void 0)}));var M=i(86374),R=i(22403),L=i(98279),B=i(3312),A=i(82790),F=i(82941),E=i(9082),Z=i(67080),z=i(28952),U=i(35380),W=i(17620),V=i(90950),N=i(8460),$=i(27503),q=i(4389),G=i(55823),H=i(80986),Q=i(56981),Y=i(66943),K=i(43549),J=i(32565);let X=class{constructor(e){this.fetch=e}fetchAtDefaultList(){return this.fetch.get("/api/at/default/list/",{query:{cursor:0,count:25},baseUrlType:2})}fetchRecentContactList(e){return this.fetch.get("/api/mention/recent/contact/list/v1/",{query:{mentionType:3,secUid:e},baseUrlType:2})}fetchSearchList(e,t){return this.fetch.get("/api/comment/search/sug/user/",{query:{keyword:e,count:30,mention_type:3,uid_filter_list:t},baseUrlType:2})}};X=(0,R.__decorate)([(0,K.G)(),(0,R.__metadata)("design:paramtypes",[J.r])],X);let ee=class extends L.D{constructor(e){super(),this.service=e,this.defaultState={keyword:"",loading:!1,isFetchError:!1,defaultResult:{list:[]},searchResult:{list:[],hasMore:!0,uidFilterList:""},activeList:[],activeItem:{index:null,isActivatedByMouse:!1},recentCount:0}}setKeyword(e,t){e.keyword=t}setLoading(e,t){e.loading=t}setFetchError(e,t){e.isFetchError=t,t&&(e.searchResult.hasMore=!1)}setActiveList(e,t){e.activeList=t}setActiveItem(e,t){const{index:i,isActivatedByMouse:o=!1}=t;e.activeItem.index=i,e.activeItem.isActivatedByMouse=o}activePrev(e){const{activeItem:t,activeList:i}=e,{index:o}=t;if(null===o)return;const{length:n}=i;0!==n&&(e.activeItem.index=Math.max(0,o-1),e.activeItem.isActivatedByMouse=!1)}activeNext(e){const{activeItem:t,activeList:i}=e,{index:o}=t;if(null===o)return;const{length:n}=i;0!==n&&(e.activeItem.index=Math.min(o+1,n-1),e.activeItem.isActivatedByMouse=!1)}setDefaultList(e,t){e.defaultResult.list=t,e.activeList=t}setSearchResult(e,t){e.searchResult=t,0===t.list.length?e.activeList=e.defaultResult.list:e.activeList=t.list}setRecentCount(e,t){e.recentCount=t}fetchDefaultResult(e){return e.pipe((0,U.M)(this.state$),(0,W.z)((([{secUid:e},t])=>t.defaultResult.list.length>0?(0,F.of)(this.getActions().setActiveItem({index:-1}),this.getActions().setKeyword(""),this.getActions().setActiveList(t.defaultResult.list)):(0,E.D)([this.service.fetchRecentContactList(e),this.service.fetchAtDefaultList()]).pipe((0,V.z)((([e,t])=>{const{statusCode:i,userList:o=[]}=e,{status_code:n,user_list:a=[],block_results:r=[]}=t;if(0===i||0===n){const e=a.map((e=>(0,Y.yk)(e))).map((e=>(r.some((t=>((e,t)=>{var i,o;if(e.uid===t.id)return t.blockType=null===(o=null===(i=e.user_blocked_results)||void 0===i?void 0:i[0])||void 0===o?void 0:o.block_type,!0})(t,e))),e)));return(0,F.of)(this.getActions().setRecentCount(o.length),this.getActions().setDefaultList(function(e,t){let i=t;return e.forEach((e=>{i=i.filter((t=>e.uniqueId!==t.uniqueId))})),[...e,...i]}(o,e)))}return(0,F.of)(this.getActions().setFetchError(!0))})),(0,N.O)(this.getActions().setLoading(!0),this.getActions().setFetchError(!1),this.getActions().setActiveItem({index:null})),(0,$.l)(this.getActions().setLoading(!1),this.getActions().setActiveItem({index:-1}),this.getActions().setKeyword("")),(0,Q.n)({})))))}fetchSearchResult(e){return e.pipe((0,U.M)(this.state$),(0,q.w)((([e,t])=>{const{keyword:i,searchResult:{uidFilterList:o,list:n,hasMore:a}}=t,r=e===i,s=r?o:"";return""===e||r&&!a?Z.E:this.service.fetchSearchList(e,s).pipe((0,G.U)((e=>{const{statusCode:t,userList:i=[],hasMore:o}=e;if(0===t||403===t||203===t){const e=r?[...n,...i]:i,t=encodeURIComponent(JSON.stringify(e.map((e=>e.id))));return this.getActions().setSearchResult({list:e,hasMore:1===o,uidFilterList:t})}return this.getActions().setFetchError(!0)})),(0,N.O)(this.getActions().setLoading(!r),this.getActions().setFetchError(!1),this.getActions().setActiveItem({index:r?t.activeItem.index:null})),(0,$.l)(this.getActions().setLoading(!1),this.getActions().setKeyword(e),this.getActions().setActiveItem({index:r?t.activeItem.index:-1})),(0,H.K)((()=>(0,F.of)(this.getActions().setLoading(!1),this.getActions().setFetchError(!0)))))})))}};(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,String]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setKeyword",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Boolean]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setLoading",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Boolean]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setFetchError",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Array]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setActiveList",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Object]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setActiveItem",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"activePrev",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"activeNext",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Array]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setDefaultList",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Object]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setSearchResult",null),(0,R.__decorate)([(0,B.lF)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[Object,Number]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"setRecentCount",null),(0,R.__decorate)([(0,B.Qm)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[z.y]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"fetchDefaultResult",null),(0,R.__decorate)([(0,B.Qm)(),(0,R.__metadata)("design:type",Function),(0,R.__metadata)("design:paramtypes",[z.y]),(0,R.__metadata)("design:returntype",void 0)],ee.prototype,"fetchSearchResult",null),ee=(0,R.__decorate)([(0,A.Y)("MentionSuggestionUserModule"),(0,R.__metadata)("design:paramtypes",[X])],ee);var te=i(71928),ie=i(76709),oe=i(95925),ne=i(59775),ae=i(72914);const re=(0,k.Z)("div",{target:"e16bf9xh0"})((({theme:{colors:e}})=>({width:"100%",height:"100%",overflowX:"hidden",overflowY:"scroll",backgroundColor:e.BGPrimary,scrollbarWidth:"none","::-webkit-scrollbar":{width:0}})),"label:DivContainer;"),se=(0,k.Z)("div",{target:"e16bf9xh1"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivNotItemContainer;"),le=(0,k.Z)("p",{target:"e16bf9xh2"})((({theme:e})=>(0,w.GI)({theme:e,color:"TextTertiary",typography:"H6"})),{flex:"1 1 auto",margin:"18px auto"},"label:PLoadingText;"),de=(0,k.Z)("p",{target:"e16bf9xh3"})((({theme:e})=>(0,w.GI)({theme:e,color:"TextTertiary",typography:"H5"})),{flex:"1 1 auto",marginTop:106},"label:PErrorText;"),ce=(0,k.Z)("p",{target:"e16bf9xh4"})((({theme:e})=>(0,w.GI)({theme:e,color:"Primary",typography:"H6"})),{flex:"1 1 auto",margin:"11px auto",cursor:"pointer"},"label:PRetryText;"),ue=(0,k.Z)("div",{target:"e16bf9xh5"})((({theme:{colors:e},isDisabled:t})=>({height:"100%",padding:"4px 0",margin:"0 16px",display:"flex",cursor:t?"default":"pointer",borderBottom:`1px solid ${e.LineSecondary}`})),"label:DivItemContainer;"),pe=(0,k.Z)("div",{target:"e16bf9xh6"})((({theme:{colors:e},isActive:t,isDisabled:i})=>({height:48,backgroundColor:t?e.BGView:e.BGPrimary,opacity:i?.34:1})),"label:DivItemBackground;"),me=(0,k.Z)("div",{target:"e16bf9xh7"})([{flex:"1 1 auto",overflow:"hidden"},({theme:{direction:e}})=>(0,w.YJ)({direction:e,marginStart:8})],"label:DivInfoContainer;"),he=(0,k.Z)("p",{target:"e16bf9xh8"})([{display:"flex",alignItems:"center"}],"label:PMentionInfoLine;"),ge=(0,k.Z)("span",{target:"e16bf9xh9"})((({theme:e})=>(0,w.GI)({theme:e,fontWeight:"semiBold",typography:"P3"})),w.wj,"label:SpanInfoNickname;"),ve=(0,k.Z)("span",{target:"e16bf9xh10"})((({theme:e})=>(0,w.GI)({theme:e,fontWeight:"normal",typography:"P4"})),w.wj,"label:SpanInfoUniqueId;"),ye=(0,k.Z)("span",{target:"e16bf9xh11"})({margin:"0px 4px"},"label:SpanInfoDot;"),_e=(0,k.Z)("span",{target:"e16bf9xh12"})({fontSize:"10px"},"label:SpanInfoVerify;"),be=(0,k.Z)("span",{target:"e16bf9xh13"})((({theme:e})=>(0,w.GI)({theme:e,color:"TextTertiary",fontWeight:"semiBold",typography:"P4"})),{verticalAlign:"middle",flexShrink:0},"label:SpanInfoFollowing;"),fe=(0,a.memo)((function({isActive:e,index:t,user:i}){var r;const s=(0,m.Q)(),{user:l}=null!==(r=(0,b.Lh)((()=>["user"]),[]))&&void 0!==r?r:{},{nickname:d,uniqueId:c,verified:u,relation:p,avatarThumb:h,blockType:g}=i,v=(0,a.useMemo)((()=>1===p||2===p),[p]),y=1===g||c===(null==l?void 0:l.uniqueId),{setActiveItem:_}=(0,n.q)(ee),f=(0,a.useCallback)((()=>{_({index:t,isActivatedByMouse:!0})}),[_,t]),x=(0,a.useCallback)((()=>{f()}),[f]);return(0,o.jsx)(pe,Object.assign({"data-e2e":"comment-at-list",isActive:e,isDisabled:y,onMouseEnter:f,tabIndex:0,onFocus:x},{children:(0,o.jsxs)(ue,Object.assign({isDisabled:y},{children:[(0,o.jsx)(ae.q,{size:40,src:h,style:{flex:"0 0 40px"}},void 0),(0,o.jsxs)(me,{children:[(0,o.jsxs)(he,{children:[(0,o.jsx)(ge,Object.assign({"data-e2e":"comment-at-nickname"},{children:d}),void 0),u&&(0,o.jsx)(_e,{children:(0,o.jsx)(ne.Q,{},void 0)},void 0),v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ye,{children:"·"},void 0),(0,o.jsx)(be,{children:s("Following")},void 0)]},void 0)]},void 0),(0,o.jsx)(he,{children:(0,o.jsx)(ve,Object.assign({"data-e2e":"comment-at-uniqueid"},{children:c}),void 0)},void 0)]},void 0)]}),void 0)}),void 0)}));var xe=i(12251);const ke=(0,a.memo)((function({keyword:e="",onSelect:t}){var i;const r=(0,m.Q)(),{colors:s}=(0,te.u)(),{user:l}=null!==(i=(0,b.Lh)((()=>["user"]),[]))&&void 0!==i?i:{},{secUid:c=""}=(0,Y.m7)(l),[{loading:u,isFetchError:p,activeList:g,activeItem:v,recentCount:y},{fetchDefaultResult:_,fetchSearchResult:f}]=(0,n.b)(ee),{index:x}=v,k=(0,a.useRef)(null),w=(0,a.useRef)([]);(0,a.useEffect)((()=>{_({secUid:c})}),[_,c]),(0,a.useEffect)((()=>{""===e?_({secUid:c}):f(e)}),[e,c,_,f]),(0,a.useEffect)((()=>{const{index:e,isActivatedByMouse:t}=v;t||function(e,t){if(null===t||-1===t||null===e.current)return;const i=48*t,o=48*(t+1),n=e.current.clientHeight,{scrollTop:a}=e.current;i<a?e.current.scrollTop=i:o>n+a&&(e.current.scrollTop=o-n)}(k,e)}),[v]);const C=(0,a.useCallback)((()=>""!==e&&f(e)),[f,e]);(0,oe.su)({elemRef:k,onHitBottom:C,bottomThreshold:96});const j=(0,a.useCallback)((t=>{(0,h.NS)(t),""===e?_({secUid:c}):f(e)}),[c,_,f,e]),S=(0,a.useCallback)((e=>{(0,h.NS)(e),null==t||t()}),[t]),T=(0,a.useCallback)((t=>{g.slice(t,t+5).forEach(((i,o)=>{if(w.current[t+o])return;const{blockType:n,uniqueId:a,id:r,relation:s}=i,c=1===n||a===(null==l?void 0:l.uniqueId);let u="all_user";!e&&t+o<y?u="recent":1===s?u="following":2===s&&(u="friends"),d.y.handleMentionItemShow({to_user_id:r,user_type:u,search_keyword:e,is_valid:c?"0":"1"}),w.current[t+o]=!0}))}),[g,null==l?void 0:l.uniqueId,e,y]),P=(0,ie.fB)((e=>{const{scrollTop:t}=e.target,i=Math.floor(t/48);T(i)}),[T],50);return(0,a.useEffect)((()=>{T(0)}),[T]),u?(0,o.jsx)(re,{children:(0,o.jsxs)(se,{children:[(0,o.jsx)(xe.$,{size:26,fill:s.TextTertiary,style:{marginTop:80,flex:"1 1 auto"}},void 0),(0,o.jsx)(le,{children:r("comment_at_search")},void 0)]},void 0)},void 0):p?(0,o.jsx)(re,{children:(0,o.jsxs)(se,{children:[(0,o.jsx)(de,{children:r("comment_at_load")},void 0),(0,o.jsx)(ce,Object.assign({onClick:j},{children:r("comment_at_tryagain")}),void 0)]},void 0)},void 0):(0,o.jsx)(re,Object.assign({ref:k,onClick:S,onScroll:P},{children:g.map(((e,t)=>(0,o.jsx)(fe,{user:e,index:t,isActive:x===t},t)))}),void 0)})),we=(0,k.Z)("div",{target:"e1rzzhjk0"})((({isReply:e})=>({display:"flex",flexDirection:"row",alignItems:"flex-end",marginBottom:e?"16px":""})),"label:DivCommentContainer;"),Ce=(0,k.Z)("div",{target:"e1rzzhjk1"})({flex:"1 1 auto"},"label:DivLayoutContainer;"),je="48px",Se="39px",Te=(0,k.Z)("div",{target:"e1rzzhjk2"})((({theme:{colors:e},isFocus:t,isInVideoDetail:i})=>({position:"relative",display:"flex",flexDirection:"row",alignItems:"flex-end",backgroundColor:e.BGInput,boxSizing:"border-box",border:"1px solid",borderColor:t?e.LinePrimary:"transparent",borderRadius:8,padding:i?"0 9px 0 16px":"0 9px"})),"label:DivInputAreaContainer;");Te.defaultProps=Object.assign(Object.assign({},Te.defaultProps),{"data-e2e":"comment-input"});const Pe=(0,k.Z)("div",{target:"e1rzzhjk3"})((({isInVideoDetail:e=!1})=>({flex:"1 1 auto",height:"auto",margin:e?"11px 0":"10px 0"})),(({theme:{direction:e}})=>(0,w.YJ)({direction:e,marginEnd:8})),"label:DivInputEditorContainer;");function Ie({theme:e,isActive:t=!1,isInVideoDetail:i=!1}){return[{flex:"0 0 32px",width:32,height:32,padding:5,margin:i?"7px 3px":3,cursor:"pointer",backgroundColor:t?e.colors.ShadowPrimary:"transparent",borderRadius:8,":hover":{backgroundColor:e.colors.ShadowPrimary},svg:{width:"100%",height:"100%"}}]}Pe.defaultProps=Object.assign(Object.assign({},Pe.defaultProps),{"data-e2e":"comment-text"});const Oe=(0,k.Z)("div",{target:"e1rzzhjk4"})(Ie,"label:DivMentionButton;");Oe.defaultProps=Object.assign(Object.assign({},Oe.defaultProps),{"data-e2e":"comment-at-icon"});const De=(0,k.Z)("div",{target:"e1rzzhjk5"})(Ie,"label:DivEmojiButton;");De.defaultProps=Object.assign(Object.assign({},De.defaultProps),{"data-e2e":"comment-emoji-icon"});const Me=(0,k.Z)("div",{target:"e1rzzhjk6"})((({theme:e,isActive:t,isInVideoDetail:i=!1})=>[(0,w.GI)({theme:e,color:t?"Primary":"TextQuaternary",typography:"H6",fontWeight:"semiBold"}),{cursor:t?"pointer":"default",flex:"0 0 48px",fontSize:i?"16px":"14px",lineHeight:i?je:Se,textAlign:(0,w.$K)(e.direction,"end")},({isReply:t})=>(0,w.YJ)({direction:e.direction,marginEnd:t?16:4})]),"label:DivPostButton;");Me.defaultProps=Object.assign(Object.assign({},Me.defaultProps),{"data-e2e":"comment-post"});const Re=(0,k.Z)("div",{target:"e1rzzhjk7"})((({display:e,theme:{colors:t,direction:i}})=>[{position:"absolute",zIndex:1,width:280,height:256,top:-256,borderRadius:8,overflow:"hidden",backgroundColor:t.BGPrimary,boxShadow:`${t.ShadowPrimary} 0px 4px 16px 0px`,display:e?"block":"none"},(0,w.YJ)({direction:i,start:44})]),"label:DivMentionSuggestionContainer;"),Le=(0,k.Z)("div",{target:"e1rzzhjk9"})((({theme:{colors:e,direction:t}})=>[{position:"absolute",width:368,height:300,top:-300,borderRadius:8,overflow:"hidden",backgroundColor:e.BGPrimary,boxShadow:`${e.ShadowPrimary} 0px 4px 16px 0px`,outline:0,zIndex:1},(0,w.YJ)({direction:t,end:12})]),"label:DivEmojiPanelContainer;"),Be=(0,k.Z)("div",{target:"e1rzzhjk10"})((({isInVideoDetail:e,theme:t})=>({cursor:"pointer",display:"flex",alignItems:"center",height:e?je:Se,color:t.colors.TextPrimary})),"label:DivCloseBtn;");var Ae=i(67850),Fe=i(26447);const Ee=(0,a.memo)((function({itemId:e,disable:t,teaParams:i,childInputRef:x,isReply:k,onBlur:w=(()=>{}),onFocus:C=(()=>{}),onClose:j=(()=>{})}){var S;const{user:T}=null!==(S=(0,b.Lh)((()=>["user"]),[]))&&void 0!==S?S:{},[{activeItem:P,activeList:I},{activePrev:O,activeNext:R}]=(0,n.b)(ee,{selector:({activeItem:e,activeList:t})=>({activeItem:e,activeList:t}),dependencies:[]}),{shouldOptimizeReply:L}=(0,v.CY)(),[B,A]=(0,a.useState)(!1),{index:F}=P,E=(0,Fe.fh)(k),Z=(0,Fe.SF)(),{publishComment:z,setNeedResetKeyword:U,setIsInputFocus:W}=(0,n.q)(M.p),[V,N]=(0,a.useState)(null),[$,q]=(0,a.useState)(!1),G=(0,a.useRef)(null),H=(0,a.useRef)(null),Q=null!=x?x:H,Y=(0,m.Q)(),[K,J]=(0,a.useState)(!1);(0,a.useEffect)((()=>{J(!0)}),[]);const X=(0,a.useCallback)((e=>{var t;(0,h.NS)(e),null===(t=Q.current)||void 0===t||t.handleInsertMentionTrigger(),d.y.handleSearchAt(Object.assign(Object.assign({},i),{enter_method:"button"}))}),[i]),te=(0,a.useCallback)((e=>{var t;13!==e.keyCode&&32!==e.keyCode||(e.stopPropagation(),e.preventDefault(),null===(t=Q.current)||void 0===t||t.handleInsertMentionTrigger(),d.y.handleSearchAt(Object.assign(Object.assign({},i),{enter_method:"button"})))}),[i]),ie=(0,a.useCallback)((e=>{"@"===e&&d.y.handleSearchAt(Object.assign(Object.assign({},i),{enter_method:"input"}))}),[i]),oe=(0,a.useCallback)((()=>{var e;if(null===V||null===F)return;const t=I[F];t&&(1!==t.blockType?t.uniqueId!==(null==T?void 0:T.uniqueId)?(null===(e=Q.current)||void 0===e||e.handleSelectUser(t),d.y.handleSelectAt(Object.assign(Object.assign({},i),{to_user_id:t.id}))):u.h.open({content:Y("no_at_me"),duration:3,widthType:"half",getContainer:y.Z,getContainerPosition:"fixed"}):u.h.open({content:Y("mention_privacy_toast_cant_mention"),duration:3,widthType:"half",getContainer:y.Z,getContainerPosition:"fixed"}))}),[F,I,V,Y,i,T]),ne=(0,a.useCallback)((e=>{var t,o,n;null===(t=Q.current)||void 0===t||t.handleSelectEmoji(e),q(!1),d.y.handleEmojiSelect(Object.assign(Object.assign({},i),{enter_method:"button",emoji_code:null===(n=e,o=[...n].map((e=>`${e.codePointAt(0)}`)))||void 0===o?void 0:o[0]}))}),[i]),ae=(0,a.useCallback)((e=>{var t;(0,h.NS)(e),q(!$),N(null),null===(t=Q.current)||void 0===t||t.focus()}),[$]),re=(0,a.useCallback)((e=>{13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),q(!$),N(null)):$&&27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),q(!1),N(null))}),[$]),se=(0,a.useCallback)((e=>{$&&27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),q(!1),N(null))}),[$]),le=(0,a.useCallback)((t=>()=>{var o,n;if(!E){const a=null!==(n=null===(o=Q.current)||void 0===o?void 0:o.getTextInfo())&&void 0!==n?n:{inputText:"",textExtra:[]};z(Object.assign(Object.assign({awemeId:e,isReplyComment:k,shouldOptimizeReply:L},a),{teaParams:Object.assign(Object.assign({},i),{enter_method:t})}))}}),[E,e,z,i]),de=null!==V&&!$,ce=(0,a.useCallback)((e=>t=>{E||13!==t.keyCode&&32!==t.keyCode||(t.stopPropagation(),t.preventDefault(),le(e)())}),[E,le]),ue=(0,a.useCallback)((e=>{L?A(e):W(e)}),[L]),pe=(0,a.useCallback)((()=>{ue(!0),C()}),[C]),me=(0,a.useCallback)((()=>{ue(!1),w(),c.V.handleCloseText({group_id:i.group_id})}),[w,i.group_id]),he=(0,a.useCallback)((()=>{c.V.handleEnterText({group_id:i.group_id})}),[i.group_id]),ge=(0,_.J)({upHandler:O,downHandler:R,confirmHandler:oe});(0,a.useEffect)((()=>{const e=()=>{$&&q(!1),U(!0)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[$,U]);const{pathname:ve}=(0,r.TH)(),ye=(0,g.cQ)(ve);return(0,o.jsxs)(we,Object.assign({isReply:k},{children:[(0,o.jsx)(Ce,{children:(0,o.jsxs)(Te,Object.assign({isInVideoDetail:ye,isFocus:L?B:Z,onKeyDown:ge,onFocus:pe,onBlur:me,onClick:he},{children:[(0,o.jsx)(Pe,Object.assign({isInVideoDetail:ye},{children:K?(0,o.jsx)(f,{isReply:k,ref:Q,disable:t,onKeywordChange:N,onPost:le("input"),onInputTrigger:ie},void 0):null}),void 0),(0,o.jsx)(p.u,Object.assign({fullscreenAdjust:!0,overlay:Y("comment_tray_at")},{children:(0,o.jsx)(Oe,Object.assign({"aria-label":Y("comment_tray_at"),"aria-expanded":de,role:"button",isInVideoDetail:ye,onClick:X,onKeyDown:te,tabIndex:0},{children:(0,o.jsx)(s.Z,{},void 0)}),void 0)}),void 0),(0,o.jsx)(p.u,Object.assign({fullscreenAdjust:!0,overlay:Y("comment_tray_emoji")},{children:(0,o.jsx)(De,Object.assign({"aria-label":Y("comment_tray_emoji"),"aria-expanded":$,role:"button",isInVideoDetail:ye,isActive:$,onClick:ae,onKeyDown:re,tabIndex:0},{children:(0,o.jsx)(l.Z,{},void 0)}),void 0)}),void 0),de&&(0,o.jsx)(Re,Object.assign({"data-e2e":"comment-at-user",display:I.length>0},{children:(0,o.jsx)(ke,{keyword:V,onSelect:oe},void 0)}),void 0),$&&(0,o.jsx)(Le,Object.assign({"data-e2e":"comment-emoji-list",ref:G,onKeyDown:se},{children:(0,o.jsx)(D,{onSelect:ne},void 0)}),void 0)]}),void 0)},void 0),(0,o.jsx)(Me,Object.assign({isReply:k,"aria-disabled":E,"aria-label":Y("comment_tray_btn"),role:"button",isInVideoDetail:ye,isActive:!E,onClick:le("button"),onKeyDown:ce("button"),tabIndex:0},{children:Y("comment_tray_btn")}),void 0),k&&(0,o.jsx)(Be,Object.assign({onClick:j,isInVideoDetail:ye},{children:(0,o.jsx)(Ae.l,{size:20},void 0)}),void 0)]}),void 0)}))},26447:(e,t,i)=>{"use strict";i.d(t,{SF:()=>d,cp:()=>l,fh:()=>c,m4:()=>r,v:()=>s});var o=i(99333),n=i(41115),a=i(86374);const r=e=>{const{shouldOptimizeReply:t}=(0,n.CY)(),[{isInputEmpty:i,isReplyInputEmpty:r,noReplyUser:s}]=(0,o.b)(a.p,{selector:({isInputEmpty:e,isReplyInputEmpty:t,reply:i})=>({isInputEmpty:e,isReplyInputEmpty:t,noReplyUser:0===i.nickname.length}),dependencies:[]});let l=!0,d=i;return t&&e&&(d=r),t||(l=d&&s),l},s=()=>{const[{needClearInput:e}]=(0,o.b)(a.p,{selector:({needClearInput:e})=>({needClearInput:e}),dependencies:[]});return e},l=()=>{const[{replyCid:e}]=(0,o.b)(a.p,{selector:({replyCid:e})=>({replyCid:e}),dependencies:[]});return e},d=()=>{const[{isInputFocus:e}]=(0,o.b)(a.p,{selector:({isInputFocus:e})=>({isInputFocus:e}),dependencies:[]});return e},c=e=>{const{shouldOptimizeReply:t}=(0,n.CY)(),[{isInputEmpty:i,isReplyInputEmpty:r}]=(0,o.b)(a.p,{selector:({isInputEmpty:e,isReplyInputEmpty:t})=>({isInputEmpty:e,isReplyInputEmpty:t}),dependencies:[]});let s=i;return t&&e&&(s=r),s}},86374:(e,t,i)=>{"use strict";i.d(t,{p:()=>P});var o=i(22403),n=i(98279),a=i(3312),r=i(82790),s=i(70517),l=i(82941),d=i(28952),c=i(35380),u=i(17620),p=i(21249),m=i(90950),h=i(9538),g=i(19330),v=i(59310),y=i(40362),_=i(56981),b=i(9597),f=i(71304),x=i(11597),k=i(43549),w=i(40589),C=i(32565);let j=class{constructor(e){this.fetch=e}publishRequest(e){return this.fetch.post("/api/comment/publish/",{query:e,baseUrlType:8,headers:{[w.eD]:this.fetch.csrfToken}})}};j=(0,o.__decorate)([(0,k.G)(),(0,o.__metadata)("design:paramtypes",[C.r])],j);var S=i(45179);const T={nickname:"",replyId:void 0,replyToReplyId:void 0,position:-1};let P=class extends n.D{constructor(e,t,i,o){super(),this.service=e,this.commentV2=t,this.itemModule=i,this.t=o,this.defaultState={reply:Object.assign({},T),replyToOtherComment:Object.assign({},T),mentionUserList:[],isInputEmpty:!0,isReplyInputEmpty:!0,isInputFocus:!1,needClearInput:!1,needResetKeyword:!1,replyCid:""}}setReplyCid(e,t){e.replyCid=t}setReply(e,t){e.reply=null===t?Object.assign({},T):t}setReplyOptimize(e,t){e.replyToOtherComment=t}setMentionUserList(e,t){e.mentionUserList=null===t?[]:t}setIsReplyInputEmpty(e,t){e.isReplyInputEmpty=t}setIsInputEmpty(e,t){e.isInputEmpty=t}setIsInputFocus(e,t){e.isInputFocus=t}setNeedClearInput(e,t){e.needClearInput=t}setNeedResetKeyword(e,t){e.needResetKeyword=t}publishComment(e){return e.pipe((0,c.M)(this.state$,this.itemModule.state$),(0,u.z)((([e,t,i])=>{const{awemeId:o,inputText:n,textExtra:a,teaParams:r,isReplyComment:s,shouldOptimizeReply:d}=e,{reply:c,replyToOtherComment:u}=t,b=s?u:c,{replyId:x,replyToReplyId:k,nickname:w,position:C}=b,j=i[o],S={aweme_id:o,text:n,reply_id:x,reply_to_reply_id:k,text_extra:JSON.stringify(a)},T=Boolean(w)&&!d||s;return this.service.publishRequest(S).pipe((0,p.b)((({status_code:e,comment:t})=>{if(0===e){const e=T?"0"===k?"reply":"reply_to_reply":"original",i=w?this.t("comment_reply_success"):this.t("comment_post_success");y.h.destroy(),y.h.open({content:i,duration:3,getContainer:f.Z,getContainerPosition:"fixed"}),h.y.handlePostComment(Object.assign(Object.assign({},r),{comment_category:e,comment_id:t.cid}));const o=null==j?void 0:j.ad_info;if(o){const e=(0,g.H)({ad_info:o,play_mode:"browser_mode"});v.M.handleComment(e)}}else 22===e?(y.h.destroy(),y.h.open({content:this.t("comment_banned_toast"),duration:3,getContainer:f.Z,getContainerPosition:"fixed"})):e?(y.h.destroy(),y.h.open({content:this.t("comment_post_failed"),duration:3,getContainer:f.Z,getContainerPosition:"fixed"})):(y.h.destroy(),y.h.open({content:this.t("comment_nointernet_toast"),duration:3,getContainer:f.Z,getContainerPosition:"fixed"}))})),(0,m.z)((({status_code:e,comment:t})=>0===e?s&&d?(0,l.of)(this.getActions().setReplyCid(""),this.commentV2.getActions().handleReplySuccess({comment:t,position:C}),this.itemModule.getActions().addMlModelTrainData({id:o,action:"post_comment"})):T?(0,l.of)(this.getActions().setNeedClearInput(!0),this.commentV2.getActions().handleReplySuccess({comment:t,position:C}),this.itemModule.getActions().addMlModelTrainData({id:o,action:"post_comment"})):(0,l.of)(this.getActions().setNeedClearInput(!0),this.commentV2.getActions().handlePostSuccess(t),this.itemModule.getActions().addMlModelTrainData({id:o,action:"post_comment"})):(0,l.of)(this.noop()))),(0,_.n)({}))})))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setReplyCid",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setReply",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setReplyOptimize",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setMentionUserList",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setIsReplyInputEmpty",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setIsInputEmpty",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setIsInputFocus",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setNeedClearInput",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],P.prototype,"setNeedResetKeyword",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.y]),(0,o.__metadata)("design:returntype",d.y)],P.prototype,"publishComment",null),P=(0,o.__decorate)([(0,r.Y)("CommentInputModule"),(0,o.__param)(3,(0,s.t)(b.s$)),(0,o.__metadata)("design:paramtypes",[j,x.x,S.A,Function])],P)},87054:(e,t,i)=>{"use strict";i.d(t,{r:()=>u});var o=i(22403),n=i(98279),a=i(3312),r=i(82790),s=i(72072),l=i.n(s),d=i(59245),c=i.n(d);let u=class extends n.D{constructor(){super(...arguments),this.defaultState={}}setItem(e,t){e[t.cid]=t}setItemDiggState(e,t){e[t.cid]&&(e[t.cid].user_digged=t.digged)}setItemDiggCount(e,t){e[t.cid]&&(e[t.cid].digg_count=t.count)}removeItem(e,t){e[t]=void 0}multiSetCommentItem(e,t){t.forEach((t=>{e[t.cid]=l()({},e[t.cid],t)}))}multiRemoveCommentItem(e,t){return t.forEach((t=>{e[t]=void 0})),e}reduceOrIncreaseCommentCount(e,{cid:t,isReduce:i}){var o,n;if(!e[t])return;const a=Number(null!==(n=null===(o=e[t])||void 0===o?void 0:o.reply_comment_total)&&void 0!==n?n:0);e[t].reply_comment_total=i?a-1:a+1}getProcessedCommentItem(e,t={}){var i;const o=c()(e,"user","reply_comment");return o.user=null!==(i=e.user.unique_id)&&void 0!==i?i:"",!e.reply_comment||t.ignoreReply?[o]:[o,...e.reply_comment.reduce(((e,t)=>(this.getProcessedCommentItem(t).forEach((t=>{e.push(t)})),e)),[])]}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItemDiggState",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setItemDiggCount",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"removeItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"multiSetCommentItem",null),(0,o.__decorate)([(0,a.j)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"multiRemoveCommentItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"reduceOrIncreaseCommentCount",null),u=(0,o.__decorate)([(0,r.Y)("CommentItem")],u)},73052:(e,t,i)=>{"use strict";i.d(t,{$:()=>Ut});var o=i(71030),n=i(25879),a=i(31738),r=i(5909),s=i(30036),l=i(37071),d=i(99333),c=i(59271),u=i(53292),p=i(3979),m=i(15137),h=i(2914),g=i(72078),v=i(8650),y=i(21622),_=i(41115),b=i(62068),f=i(46996),x=i(44310),k=i(88573),w=i(45179),C=i(87054),j=i(71928),S=i(9432),T=i(40362),P=i(98999),I=i(71304),O=i(6364),D=i(11753),M=i(62671),R=i(8593),L=i(85093),B=i(95028),A=i(43340);const F=(0,L.Z)("div",{target:"esns4rh0"})([({theme:{direction:e}})=>[(0,A.YJ)({direction:e,marginStart:"18px",paddingEnd:"2px"}),{width:"24px",flex:"0 0 24px",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"24px"}]],"label:DivActionContainer;"),E=(0,L.Z)("div",{target:"esns4rh1"})({position:"relative",display:"none"},"label:DivMoreContainer;"),Z=(0,L.Z)(B.Z,{target:"esns4rh2"})({width:"24px",height:"24px",cursor:"pointer",display:"block"},"label:StyledMoreIcon;");Z.defaultProps=Object.assign(Object.assign({},Z.defaultProps),{"data-e2e":"comment-more-icon"});const z=(0,L.Z)("div",{target:"esns4rh3"})((({theme:e})=>(0,A.GI)({theme:e,typography:"P2",fontWeight:"bold",fontFamily:"TikTokFont"})),{padding:"8px 16px",minWidth:"200px"},"label:DivPopupContainer;"),U=(0,L.Z)("p",{target:"esns4rh4"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"12px 0",whiteSpace:"nowrap",cursor:"pointer","&:not(:last-of-type)":{borderBottom:`1px solid ${e.LineSecondary}`},":hover":{color:e.Primary}})),"label:PActionItem;"),W=(0,L.Z)("span",{target:"esns4rh5"})((({theme:{direction:e}})=>(0,A.YJ)({direction:e,marginStart:"12px"})),"label:SpanActionText;"),V=(0,L.Z)("div",{target:"esns4rh6"})((({theme:e})=>(0,A.GI)({theme:e,typography:"H4",fontFamily:"TikTokDisplayFont",fontWeight:"bold"})),{padding:"28px 24px",textAlign:"center"},"label:DivModalContentContainer;"),N=(0,L.Z)("div",{target:"esns4rh7"})({display:"flex",flexDirection:"column"},"label:DivButtonContainer;"),$=(0,L.Z)("button",{target:"esns4rh8"})(A.Ph,(({primary:e,theme:t})=>[(0,A.GI)({theme:t,typography:"H6",color:e?"TextPrimary":"TextTertiary",fontWeight:e?"semiBold":"normal"}),{height:"48px",lineHeight:"48px",cursor:"pointer","::before":{content:'""',width:"100%",height:"1px",display:"block",background:t.colors.LineSecondary,transform:"scaleY(0,5)"}}]),"label:ButtonAction;"),q=(0,L.Z)("div",{target:"e1qi8jyk0"})((({theme:{direction:e}})=>[(0,A.YJ)({direction:e,marginStart:"8px"}),{width:"24px",flex:"0 0 24px",display:"flex",flexDirection:"column",alignItems:"center",marginLift:"auto"}]),"label:DivActionContainer;"),G=(0,L.Z)("div",{target:"e1qi8jyk1"})({width:"310px"},"label:DivModalContainer;"),H=function({wordId:e="",id:t="",word:i=""}){var n;const r=(0,s.Q)(),l=(0,I.Z)(),{direction:c}=(0,j.u)(),{active:u,handleMouseEnter:p,handleMouseLeave:h}=(0,O.R)(),[,g]=(0,d.b)(R.Eg),{user:v}=null!==(n=(0,m.Lh)((()=>["user"]),[]))&&void 0!==n?n:{},y=(0,a.useCallback)((e=>{13===e.keyCode||32===e.keyCode?((0,P.NS)(e),u?h():p()):27===e.keyCode&&u&&((0,P.NS)(e),h())}),[p,h,u]),_=(0,a.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||((0,P.NS)(t),e(t))}),[]),{handleShowReport:b,handleClickReport:x}={handleShowReport:(0,a.useCallback)((({id:e,word:t,wordId:i})=>{f.xq.handleCommentRelatedSearchBoardShow({enter_group_id:e,board_type:"pc",group_id:i,words_content:t})}),[]),handleClickReport:(0,a.useCallback)((({id:e,word:t,wordId:i,detail:o})=>{f.xq.handleCommentRelatedSearchBoardClick({enter_group_id:e,board_type:"pc",group_id:i,words_content:t,click_detail:o})}),[])},k="ltr"===c?"bottomRight":"bottomLeft",{colors:w}=(0,j.u)(),[C,L]=(0,a.useState)(!1),B=(0,a.useCallback)((()=>{b({id:t,word:i,wordId:e}),L(!0)}),[b,t,i,e]),A=(0,a.useCallback)((o=>{x({id:t,word:i,wordId:e,detail:o}),"cancel"!==o&&(g.setBlockListByUid({blockId:e,uid:null==v?void 0:v.uid,blockType:"wordIdList"}),T.h.open({content:r("Thank you for your feedback"),duration:3})),L(!1)}),[g,x,t,r,v,i,e]),F=(0,a.useMemo)((()=>[{key:"Not interested",i18nKey:"searchquerycomment_feedbackpanel_notinterested"},{key:"Unrelated content",i18nKey:"searchquerycomment_feedbackpanel_unrelated"},{key:"Inappropriate content",i18nKey:"searchquerycomment_feedbackpanel_inappropriate"},{key:"others",i18nKey:"searchquerycomment_feedbackpanel_others"},{key:"cancel",i18nKey:"comment_delete_cancel"}].map((e=>Object.assign(Object.assign({},e),{onClick:()=>A(e.key)})))),[A]);return(0,o.jsxs)(q,{children:[(0,o.jsxs)(E,Object.assign({"aria-label":r("pc_web_more_btn"),role:"button",onMouseEnter:p,onMouseLeave:h,tabIndex:0,onKeyDown:y},{children:[(0,o.jsx)(Z,{},void 0),(0,o.jsx)(D.G,Object.assign({backgroundColor:w.BGSecondary,active:u,placement:k,margin:-6},{children:(0,o.jsx)(z,{children:(0,o.jsxs)(U,Object.assign({"aria-label":r("Report"),role:"button",onClick:B,tabIndex:0,onKeyDown:_(B),"data-e2e":"comment-top-report"},{children:[(0,o.jsx)(S.Z,{width:24,height:24},void 0),(0,o.jsx)(W,{children:r("Report")},void 0)]}),void 0)},void 0)}),void 0)]}),void 0),(0,o.jsx)(M.u_,Object.assign({visible:C,parentRef:l},{children:(0,o.jsxs)(G,{children:[(0,o.jsx)(V,{children:r("searchquerycomment_feedbackpanel_header")},void 0),(0,o.jsx)(N,{children:F.map((({i18nKey:e,key:t,onClick:i})=>(0,o.jsx)($,Object.assign({primary:"cancel"!==t,onClick:i},{children:r(e)}),t)))},void 0)]},void 0)}),void 0)]},void 0)};var Q=i(83909),Y=i(22397);const K=(0,L.Z)("div",{target:"eej7vwn0"})((({theme:e})=>(0,A.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"})),{width:"100%",height:"64px",display:"flex",padding:"20px 42px 20px 32px",alignItems:"center",flexShrink:0,boxSizing:"border-box",lineHeight:"20px",position:"relative",fontSize:"16px"},(({onlyOptimizeCta:e})=>e&&{paddingRight:"34px"}),{":hover,:focus-within":{[`${E}`]:{display:"block"}}},(({allowRightPanelScroll:e})=>e&&{marginBottom:`-${Y.Yh}px`,paddingLeft:0,paddingRight:0}),"label:DivCommentTop;"),J=(0,L.Z)("span",{target:"eej7vwn1"})((({theme:{colors:e}})=>({color:e.TextTertiaryAlt})),"label:SpanHint;"),X=(0,L.Z)("span",{target:"eej7vwn2"})({cursor:"pointer",display:"flex",overflow:"hidden",flex:1},"label:SpanWordContainer;"),ee=(0,L.Z)("span",{target:"eej7vwn3"})((({theme:{colors:e}})=>({color:e.AssistColorAzure,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})),"label:SpanWord;"),te=(0,L.Z)(Q.Z,{target:"eej7vwn4"})((({theme:{colors:e}})=>({width:"10px",height:"10px",flexShrink:0,color:e.AssistColorAzure})),"label:StyledMagnifyingGlass;"),ie=(0,a.memo)((function({id:e,onClose:t}){var i;const{isBrowserModeShowing:s}=(0,a.useContext)(l._),{abTestVersion:x}=null!==(i=(0,m.Lh)((()=>["abTestVersion"]),[]))&&void 0!==i?i:{},k="v2"===(0,y.N8)(x,"search_entry_comment_top"),{wordList:w,hintText:C,logId:j}=(0,h.XB)(e,"comment_top"),{word:S,word_id:T}=(0,a.useMemo)((()=>{var e;return null!==(e=w[0])&&void 0!==e?e:{}}),[w]),P=(0,r.TH)(),{allowRightPanelScroll:I,onlyOptimizeCta:O}=(0,_.CY)(),D=(0,r.k6)(),{isOpenNewTab:M}=(0,_.EA)(),{handleShowReport:R,handleClickReport:L}={handleShowReport:(0,a.useCallback)((({word:e,id:t,wordId:i,logId:o,searchPosition:n,enterFrom:a})=>{const r={search_position:n,video_page_type:"browser_mode",enter_group_id:t,enter_from:a,words_source:"comment_related_search",previous_page:p.W.commonParams.previous_page,impr_id:null!=o?o:""};f.xq.handleTrendingShow(Object.assign({words_num:1,raw_query:""},r)),f.xq.handleTrendingWordsShow(Object.assign({words_content:e,words_position:0,group_id:i,words_type:""},r))}),[]),handleClickReport:(0,a.useCallback)((({word:e,id:t,wordId:i,logId:o,searchPosition:n,enterFrom:a})=>{f.xq.handleTrendingWordsClick({enter_from:a,words_source:"comment_related_search",words_content:e,previous_page:p.W.commonParams.previous_page,words_position:0,enter_group_id:t,group_id:i,impr_id:null!=o?o:"",words_type:"",search_position:n,video_page_type:"browser_mode"})}),[])},[{rootEnterFrom:B}]=(0,d.b)(b.t8,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),A=(0,a.useCallback)((i=>{L({word:S,id:e,wordId:T,logId:j,searchPosition:s?"video_detail":p.W.commonParams.page_name,enterFrom:B});const o=Date.now(),n=(0,g.C)({location:P,to:{pathname:u.SN.searchHome(),search:{q:S,t:o}}}),a={searchSource:"comment_related_search",enterMethod:"click_icon",videoPageType:"browser_mode"};M?window.open((0,c.stringifyUrl)({url:n,query:a})):(null==t||t(i,!0),D.push(n,a))}),[L,t,D,e,s,M,P,j,S,T,B]),F=(0,n.m)(v.G,{selector:e=>{var t,i;return null===(i=null===(t=e.appContext)||void 0===t?void 0:t.user)||void 0===i?void 0:i.uniqueId},dependencies:[]}),E=Boolean(F),Z=Boolean(S&&C&&k);return(0,a.useEffect)((()=>{Z&&R({word:S,id:e,wordId:T,logId:j,searchPosition:s?"video_detail":p.W.commonParams.page_name,enterFrom:B})}),[R,Z,e,j,S,T,s,B]),Z?(0,o.jsxs)(K,Object.assign({"data-e2e":"search-comment-top",allowRightPanelScroll:I,onlyOptimizeCta:O},{children:[(0,o.jsx)(J,{children:C},void 0)," ",(0,o.jsxs)(X,Object.assign({onClick:A},{children:[(0,o.jsx)(ee,Object.assign({"data-e2e":"search-comment-top-word"},{children:S}),void 0),(0,o.jsx)(te,{},void 0)]}),void 0),E&&(0,o.jsx)(H,{word:S,wordId:T,id:e},void 0)]}),void 0):null}));var oe=i(11597),ne=i(23739),ae=i(28147),re=i(34162),se=i(46500),le=i(9538),de=i(59775),ce=i(72914),ue=i(47248),pe=i(90407),me=i(55819),he=i(66943),ge=i(35180),ve=i(24138),ye=i(62591),_e=i(38771),be=i(87242),fe=i(86374),xe=i(5535),ke=i(26183),we=i(4146);const Ce=(0,L.Z)("div",{target:"ezxoskx0"})((({theme:e})=>(0,A.GI)({theme:e,typography:"P4",color:"TextTertiary"})),{width:"20px",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"},"label:DivLikeWrapper;"),je=(0,L.Z)(Ce,{target:"ezxoskx1"})((({theme:e})=>(0,A.YJ)({direction:e.direction,marginStart:"24px"})),{width:"unset",height:"20px",display:"inline-flex",flexDirection:"row",alignItems:"center",cursor:"pointer",verticalAlign:"bottom"},"label:StyledLikeWrapper;"),Se=(0,L.Z)("div",{target:"ezxoskx2"})({height:"20px"},"label:DivLikeIcon;"),Te=(0,L.Z)("span",{target:"ezxoskx3"})((({theme:e})=>(0,A.GI)({theme:e,typography:"P2"})),(({theme:e})=>(0,A.YJ)({direction:e.direction,marginStart:"4px"})),{height:"24px",display:"flex",alignItems:"center"},"label:SpanCount;");Te.defaultProps=Object.assign(Object.assign({},Te.defaultProps),{"data-e2e":"comment-like-count"});const Pe=(0,a.memo)((function(e){const{count:t,liked:i,onClick:n}=e,{colors:r}=(0,j.u)(),l=(0,s.Q)(),d=(0,a.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.stopPropagation(),e.preventDefault(),n())}),[n]),c=i?(0,o.jsx)(we.Z,{width:20,height:20,fill:r.Primary},void 0):(0,o.jsx)(ke.Z,{width:20,height:20},void 0);return(0,o.jsxs)(Ce,Object.assign({"aria-label":l("accessibilityLabels_forYou_btn_like",{number:(0,he.BT)(t)}),"aria-pressed":i,role:"button",onClick:n,tabIndex:0,onKeyDown:d},{children:[(0,o.jsx)(Se,Object.assign({"data-e2e":"comment-like-icon"},{children:c}),void 0),(0,o.jsx)(Te,Object.assign({style:{marginLeft:0,marginRight:0}},{children:(0,he.BT)(t)}),void 0)]}),void 0)})),Ie=(0,a.memo)((function(e){const{count:t,liked:i,isUIOptimization:n}=e,{colors:a}=(0,j.u)(),r=i?(0,o.jsx)(we.Z,{width:20,height:20,fill:a.Primary},void 0):(0,o.jsx)(ke.Z,{width:20,height:20},void 0);return(0,o.jsxs)(je,Object.assign({onClick:e.onClick},{children:[r,(0,o.jsx)(Te,Object.assign({style:{color:n?a.TextTertiaryAlt:a.TextPrimary,fontSize:"14px"}},{children:(0,he.BT)(t)}),void 0)]}),void 0)})),Oe=function(e){const{itemId:t,cid:i,count:r,liked:l,onDelete:d,isShowReport:c,isShowDelete:u,inDetailPage:p=!1}=e,m=(0,s.Q)(),{direction:h}=(0,j.u)(),{active:g,handleMouseEnter:y,handleMouseLeave:_}=(0,O.R)(),b=function({itemId:e,cid:t,onShow:i}){var o;const a=(0,n.m)(v.G,{selector:e=>e.lang,dependencies:[]}),r=(0,n.m)(w.A,{selector:t=>{var i,o;return null!==(o=null===(i=t[e])||void 0===i?void 0:i.author)&&void 0!==o?o:""},dependencies:[e]}),s=(0,n.m)(C.r,{dependencies:[t],selector:e=>e[t]}),l=(0,n.m)(k.z,{dependencies:[null==s?void 0:s.user],selector:e=>{var t,i;return null===(i=e.users[null!==(t=null==s?void 0:s.user)&&void 0!==t?t:""])||void 0===i?void 0:i.secUid}}),d=(0,n.m)(w.A,{selector:t=>t[e],dependencies:[e]}),c=(0,n.m)(k.z,{selector:e=>{var t;return e.users[null!==(t=null==d?void 0:d.author)&&void 0!==t?t:""]},dependencies:[null==d?void 0:d.author]}),{handleShowReport:u}=(0,x.Qi)({onShow:i,reportTarget:{lang:a,report_type:"comment",comment_with_emoji:/\[(\w+)\]/g.test(null!==(o=null==s?void 0:s.text)&&void 0!==o?o:"")?1:0,object_id:t,owner_id:null!=l?l:"",object_owner_id:null!=l?l:"",video_owner_id:r,video_id:e,video_owner:c}});return u}({itemId:t,cid:i,onShow:P.NS}),f=(0,a.useCallback)((e=>{13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),g?_():y()):27===e.keyCode&&g&&(e.stopPropagation(),e.preventDefault(),_())}),[y,_,g]),T=(0,a.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||(t.stopPropagation(),t.preventDefault(),e(t))}),[]),[R,L]=(0,a.useState)(!1),B=(0,a.useCallback)((()=>{L(!0)}),[]),A=(0,a.useCallback)((()=>{d(),L(!1)}),[d]),q=(0,a.useCallback)((()=>{L(!1)}),[]),G="ltr"===h?"bottomRight":"bottomLeft",{colors:H}=(0,j.u)(),Q=(0,I.Z)();return(0,o.jsxs)(F,{children:[(0,o.jsxs)(E,Object.assign({"aria-label":m("pc_web_more_btn"),role:"button",onMouseEnter:y,onMouseLeave:_,tabIndex:0,onKeyDown:f},{children:[(0,o.jsx)("div",Object.assign({"data-e2e":"comment-more-icon"},{children:(0,o.jsx)(Z,{},void 0)}),void 0),(0,o.jsx)(D.G,Object.assign({backgroundColor:H.BGSecondary,active:g,placement:G,margin:p?2:-6},{children:(0,o.jsxs)(z,{children:[c&&(0,o.jsxs)(U,Object.assign({"aria-label":m("Report"),role:"button",onClick:b,tabIndex:0,onKeyDown:T(b),"data-e2e":"comment-report"},{children:[(0,o.jsx)(S.Z,{width:24,height:24},void 0),(0,o.jsx)(W,{children:m("Report")},void 0)]}),void 0),u&&(0,o.jsxs)(U,Object.assign({"aria-label":m("comment_delete_btn"),role:"button","data-e2e":"comment-delete",onClick:B,onKeyDown:T(B),tabIndex:0},{children:[(0,o.jsx)(xe.Z,{width:24,height:24},void 0),(0,o.jsx)(W,{children:m("comment_delete_btn")},void 0)]}),void 0)]},void 0)}),void 0)]}),void 0),p?null:(0,o.jsx)(Pe,{count:r,liked:l,onClick:e.onLike},void 0),u&&(0,o.jsx)(M.u_,Object.assign({visible:R,keyboardCloseable:!1,maskCloseable:!1,parentRef:Q},{children:(0,o.jsxs)("div",Object.assign({"data-e2e":"comment-delete-modal",style:{width:310}},{children:[(0,o.jsx)(V,{children:m("comment_delete_des")},void 0),(0,o.jsxs)(N,{children:[(0,o.jsx)($,Object.assign({"data-e2e":"comment-modal-delete",primary:!0,onClick:A},{children:m("comment_delete_confirm")}),void 0),(0,o.jsx)($,Object.assign({"data-e2e":"comment-modal-cancel",onClick:q},{children:m("comment_delete_cancel")}),void 0)]},void 0)]}),void 0)}),void 0)]},void 0)};var De=i(82331),Me=i(61216),Re=i(80984);const Le="inline-block",Be={boxShadow:"0 2px 12px rgb(0 0 0 / 12%)",padding:"8px 16px",margin:"-8px -16px 8px",borderRadius:"8px"},Ae={boxShadow:"none",padding:"0",margin:"0 0 16px"},Fe=(0,Me.F4)({"0%":Ae,"10%":Be,"90%":Be,"100%":Ae}),Ee=(0,L.Z)("div",{target:"e1g2efjf0"})((({isUIOptimization:e})=>({display:"flex",flexDirection:"row",alignItems:"flex-start",marginBottom:e?"12px":"16px",position:"relative"})),(({shouldOptProfile:e})=>e&&{marginBottom:"8px"}),(({highlighted:e})=>e?{animationName:Fe,animationDuration:"3s"}:null),{":hover,:focus-within":{[`${F}`]:{paddingTop:0},[`${E}`]:{display:"block"}}},"label:DivCommentContentContainer;"),Ze=(0,L.Z)("div",{target:"e1g2efjf1"})({flex:"1 1 auto"},"label:DivContentContainer;"),ze=(0,L.Z)("span",{target:"e1g2efjf2"})((({theme:{colors:e},isCreator:t})=>({fontSize:"14px",color:t?e.Primary:e.TextTertiary})),"label:SpanIdentity;"),Ue=(0,L.Z)("span",{target:"e1g2efjf3"})((({theme:e})=>(0,A.GI)({theme:e,fontFamily:"TikTokFont"})),"label:SpanUserNameText;"),We=(0,L.Z)(Re.D,{target:"e1g2efjf4"})((({theme:e})=>(0,A.GI)({theme:e,typography:"P3",fontFamily:"TikTokDisplayFont",fontWeight:"semiBold"})),A.gi,{[`:hover ${Ue}`]:{textDecoration:"underline"}},"label:StyledUserLinkName;"),Ve=(0,L.Z)(Re.D,{shouldForwardProp:e=>"isInDetailPage"!==e,target:"e1g2efjf5"})((({theme:{direction:e},isInDetailPage:t})=>[{":hover":{[`~ ${Ze} ${We} ${Ue}`]:{textDecoration:"underline"}}},(0,A.YJ)({direction:e,marginEnd:t?"16px":"12px"})]),"label:StyledUserLinkAvatar;"),Ne=(0,L.Z)("p",{target:"e1g2efjf6"})((({theme:e})=>(0,A.GI)({theme:e,typography:"P2"})),{whiteSpace:"pre-line",wordBreak:"break-word",marginBottom:"6px"},"label:PCommentText;"),$e=(0,L.Z)("span",{target:"e1g2efjf8"})((({shouldOptBrowserMargin:e})=>e&&{display:Le,width:"64px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"top"}),"label:SpanCreatedTime;"),qe=(0,L.Z)("p",{target:"e1g2efjf9"})((({theme:e,isUIOptimization:t})=>(0,A.GI)({theme:e,typography:"P3",color:t?"TextTertiaryAlt":"TextTertiary"})),"label:PCommentSubContent;"),Ge=({inDetailPage:e,isUIOptimization:t})=>t?"TextTertiaryAlt":e?"TextPrimary":"TextTertiary",He=(0,L.Z)("span",{target:"e1g2efjf10"})({cursor:"pointer"},(({theme:e,inDetailPage:t=!1,isUIOptimization:i=!1})=>(0,A.GI)({theme:e,fontWeight:t?"semiBold":"normal",color:Ge({inDetailPage:t,isUIOptimization:i})})),(({inDetailPage:e,theme:{direction:t}})=>(0,A.YJ)({direction:t,marginStart:e?24:4})),"label:SpanReplyButton;"),Qe=e=>e.AssistColorAzure,Ye=(0,L.Z)(Re.D,{target:"e1g2efjf11"})((({theme:{colors:e}})=>({display:Le,direction:"ltr",color:Qe(e),cursor:"pointer",":hover":{color:Qe(e)},"&:-webkit-any-link":{color:Qe(e)},fontWeight:600})),"label:StyledUserLinkContent;"),Ke=(0,L.Z)("span",{target:"e1g2efjf12"})((({theme:{colors:e}})=>({cursor:"pointer",color:e.AssistColorAzure,fontSize:"16px",lineHeight:"20px",fontWeight:600})),"label:SpanWordContainer;"),Je=(0,L.Z)("span",{target:"e1g2efjf13"})({display:Le},"label:SpanWordWithIcon;"),Xe=(0,L.Z)(Q.Z,{target:"e1g2efjf14"})((({theme:{colors:e}})=>({position:"relative",top:"-4px",width:"10px",height:"10px",color:e.AssistColorAzure})),"label:StyledMagnifyingGlass;"),et=(0,a.memo)((function(e){const{teaParams:t,cid:i,word:n,searchKeyword:s,searchKeywordId:m,onClose:h,isRTL:v,isRTLComment:y}=e,[x,k]=(0,a.useState)(!1),w=(0,r.TH)(),C=(0,r.k6)(),{isOpenNewTab:j}=(0,_.EA)(),{isBrowserModeShowing:S}=(0,a.useContext)(l._),{handleClickReport:T,handleShowReport:P}={handleShowReport:(0,a.useCallback)((e=>{const{words_content:t,comment_id:i,enter_group_id:o,video_page_type:n,impr_id:a,group_id:r,search_position:s,enter_from:l}=e;f.xq.handleTrendingWordsShow({enter_from:l,search_position:s,words_source:"comment_highlighted_words",words_content:t,previous_page:p.W.commonParams.previous_page,comment_id:i,enter_group_id:o,video_page_type:n,page_name:p.W.commonParams.page_name,impr_id:a,group_id:r})}),[]),handleClickReport:(0,a.useCallback)((e=>{const{words_content:t,comment_id:i,enter_group_id:o,video_page_type:n,impr_id:a,group_id:r,search_position:s,enter_from:l}=e;f.xq.handleTrendingWordsClick({enter_from:l,search_position:s,video_page_type:n,words_source:"comment_highlighted_words",words_content:t,enter_group_id:o,previous_page:p.W.commonParams.previous_page,comment_id:i,page_name:p.W.commonParams.page_name,impr_id:a,group_id:r})}),[])},[{rootEnterFrom:I}]=(0,d.b)(b.t8,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]});(0,a.useEffect)((()=>{x||(P({search_position:S?"video_detail":p.W.commonParams.page_name,words_content:s,comment_id:i,enter_group_id:t.group_id,video_page_type:S?"browser_mode":"video_detail",impr_id:t.logId,group_id:m,enter_from:I}),k(!0))}),[i,P,x,S,s,m,t.group_id,t.logId,n,I]);const O=(0,a.useCallback)((e=>{const o=Date.now(),n=(0,g.C)({location:w,to:{pathname:u.SN.searchHome(),search:{q:s,t:o}}}),a={searchSource:"comment_highlighted_words",enterMethod:"click_icon",videoPageType:S?"browser_mode":"video_detail",preClickId:t.logId};S&&j?window.open(c.stringifyUrl({url:n,query:a})):(null==h||h(e,!0),C.push(n,a)),T({search_position:S?"video_detail":p.W.commonParams.page_name,video_page_type:S?"browser_mode":"video_detail",words_content:s,enter_group_id:t.group_id,comment_id:i,impr_id:t.logId,group_id:m,enter_from:I})}),[w,s,S,t.logId,t.group_id,j,T,i,m,h,C,I]),[D,M]=(0,a.useMemo)((()=>{if(y)return["",""];const e=n.trimEnd().lastIndexOf(" ")+1;return 0===e?["",n]:[n.slice(0,e),n.slice(e)]}),[n,y]);return y?(0,o.jsx)(Ke,Object.assign({"data-e2e":"search-comment-highlight-word",onClick:O,dir:"rtl"},{children:(0,o.jsxs)(Je,{children:[!v&&(0,o.jsx)(o.Fragment,{children:" "},void 0),n,(0,o.jsx)(Xe,{},void 0)]},void 0)}),void 0):(0,o.jsxs)(Ke,Object.assign({"data-e2e":"search-comment-highlight-word",onClick:O,dir:"ltr"},{children:[v&&(0,o.jsx)(o.Fragment,{children:" "},void 0),D,(0,o.jsxs)(Je,{children:[M,(0,o.jsx)(Xe,{},void 0)]},void 0)]}),void 0)})),tt=(0,L.Z)(Ne,{target:"exi6j8f0"})((({theme:e})=>(0,A.GI)({theme:e,typography:"P3"})),"label:StyledPCommentTextForSwiper;"),it=(0,a.memo)((e=>{const{isInVideoFeedRedesign:t}=(0,_.y7)(),i=t?tt:Ne;return(0,o.jsx)(i,Object.assign({},e),void 0)}));var ot;!function(e){e[e.PlainText=0]="PlainText",e[e.SearchWordText=6]="SearchWordText",e[e.User=7]="User"}(ot||(ot={}));const nt=(0,a.memo)((function({cid:e,commentItem:t,e2eTag:i,teaParams:n,hasSearchKeyword:r=!1,onClose:l,onLinkClick:d}){const{text:c,text_extra:u,comment_language:p=""}=t,m=((0,s.Q)(),(0,me.S)()),h=(0,a.useMemo)((()=>(0,De.v0)(p)),[p]),g=(0,a.useMemo)((()=>function(e){const{text:t,textExtra:i,hasSearchKeyword:o,isRTL:n,isRTLComment:a}=e;if(!i||0===i.length)return[{type:0,text:t}];const r=[];let s=0;return i.forEach((({start:e,end:i,sec_uid:n,user_id:a,type:l,search_keyword:d,search_keyword_id:c})=>{if(s!==e&&r.push({type:0,text:t.substring(s,e)}),6===l){const n=t.substring(e,i)===d;r.push({type:o&&n?6:0,text:t.substring(e,i),searchKeyword:d,searchKeywordId:c})}else r.push({type:7,text:t.substring(e,i),uid:a,secUid:n});s=i})),r.push({type:0,text:t.substring(s,t.length)}),n&&r.reverse(),a&&r.reverse(),r}({text:c,textExtra:u,hasSearchKeyword:r,isRTL:m,isRTLComment:h})),[c,u,r,m,h]);return(0,o.jsxs)(it,Object.assign({"data-e2e":i},{children:["",g.map((({text:t,type:i,uid:a,secUid:r,searchKeywordId:s,searchKeyword:c},u)=>0===i?(0,o.jsx)("span",Object.assign({dir:h?"rtl":""},{children:t}),u):6===i?(0,o.jsx)(et,{teaParams:n,word:t,searchKeyword:c,searchKeywordId:s,cid:e,onClose:l,isRTL:m,isRTLComment:h},s):7===i?(0,o.jsx)(Ye,Object.assign({uniqueId:null!=r?r:"",secUid:r,isInBrowserMode:!0,onLinkClick:d,teaParams:{to_user_id:null!=a?a:"",enter_method:"comment"}},{children:t}),u):null))]}),void 0)}));var at=i(26447),rt=i(41406),st=i(52187);const lt=(0,L.Z)("div",{target:"eo72wou0"})({marginBottom:"20px"},"label:DivCommentItemContainer;"),dt=(0,L.Z)("div",{target:"eo72wou1"})((({isLevel2:e,theme:{direction:t}})=>(0,A.YJ)({direction:t,paddingStart:e?35:52})),"label:DivReplyContainer;"),ct=(0,L.Z)("div",{target:"eo72wou2"})({display:"flex",flexDirection:"row",justifyContent:"space-between",position:"relative"},(({isUnfold:e,hasMore:t,theme:{direction:i,colors:o}})=>e?[t?(0,A.YJ)({direction:i,paddingStart:"52px"}):null,t?{"::before":Object.assign({content:'""',position:"absolute",top:"50%",width:"36px",height:"1px",background:o.LineSecondary,transform:"scaleY(0.5)"},(0,A.YJ)({direction:i,start:"0"}))}:{justifyContent:"right"}]:null),"label:DivReplyActionContainer;"),ut=(0,L.Z)(st.Z,{target:"eo72wou3"})((({reversed:e,theme:{direction:t}})=>[(0,A.YJ)({direction:t,marginStart:"6px"}),{width:"14px",height:"14px",verticalAlign:"middle",transform:e?"rotate(180deg)":"none"}]),"label:StyledChevronDownFill;"),pt=(0,L.Z)("p",{target:"eo72wou4"})((({theme:e})=>(0,A.GI)({theme:e,color:"TextTertiary",typography:"P3",fontWeight:"semiBold"})),{cursor:"pointer",":hover":{textDecoration:"underline"}},"label:PReplyActionText;");var mt;!function(e){e[e.Level1=1]="Level1",e[e.Level2=2]="Level2"}(mt||(mt={}));const ht={1:40,2:24};var gt;!function(e){e[e.Creator=1]="Creator",e[e.Following=2]="Following",e[e.Friends=8]="Friends"}(gt||(gt={}));const vt={1:"creator",2:"following_acc",8:"friends_acc"},yt={1:"comment-creator",2:"comment-following",8:"comment-friends"},_t=(0,a.memo)((function({parentCid:e,item:t,level:i,disableReply:s,index:l,subIndex:c,teaParams:u,onClose:p,onLinkClick:g,videoReportParams:b,inDetailPage:f=!1}){var x,j,S,P,O;const{t:D,timeTranslator:M}=(0,me.e)(),L=(0,ue.YA)(),B=(0,n.m)(C.r,{selector:e=>e[t.cid],dependencies:[t.cid]}),{shouldOptimizeReply:A}=(0,_.CY)(),F=(0,n.m)(k.z,{selector:e=>{var t;return e.users[null!==(t=null==B?void 0:B.user)&&void 0!==t?t:""]},dependencies:[null==B?void 0:B.user]}),E=(0,a.useRef)(null),{loginUserId:Z,loginUserUid:z,hasSearchPermission:U}=(0,n.m)(v.G,{selector:e=>{var t,i,o,n,a,r,s;return{loginUserId:null===(i=null===(t=e.appContext)||void 0===t?void 0:t.user)||void 0===i?void 0:i.uniqueId,loginUserUid:null===(n=null===(o=e.appContext)||void 0===o?void 0:o.user)||void 0===n?void 0:n.uid,hasSearchPermission:null===(s=null===(r=null===(a=e.appContext)||void 0===a?void 0:a.user)||void 0===r?void 0:r.hasSearchPermission)||void 0===s||s}},dependencies:[]}),[W]=(0,d.b)(w.A,{selector:e=>{var t;return e[null!==(t=null==B?void 0:B.aweme_id)&&void 0!==t?t:""]},dependencies:[null==B?void 0:B.aweme_id]}),{author:V,authorId:N,authorSecId:$}=null!=W?W:{},{videoIdList:q}=(0,n.m)(R.Eg,{selector:e=>{var t;return null!==(t=e.blockListMap[null!=z?z:R.tt])&&void 0!==t?t:{}},dependencies:[z]}),G=(0,d.q)(oe.x),H=(0,at.cp)(),{setReply:Q,setReplyOptimize:Y,setReplyCid:K}=(0,d.q)(fe.p),{showing:J,handleCardEnter:X,handleCardLeave:ee,handleItemEnter:te,handleItemLeave:ie}=(0,_e.V)(),ne=(0,a.useMemo)((()=>f&&1===i?48:ht[i]),[i,f]),xe=(0,a.useCallback)((()=>{if(!B)return;const{aweme_id:e,cid:t}=B;G.handleCommentLike({itemId:e,cid:t,teaAuthorId:N})}),[G,B,N]),ke=(0,ye.W)({actionWhenUserLoggedIn:xe,modalConfig:{query:{enter_method:"click_like_comment",group_id:null==u?void 0:u.group_id}},reportClickEvent:()=>{se._.handleGeneralClick("like_comment",{group_id:null==u?void 0:u.group_id,play_mode:"browser_mode"})}}),{region:we=""}=null!==(x=(0,m.Lh)((()=>["region"]),[]))&&void 0!==x?x:{},Ce=(0,a.useCallback)((()=>{if(!B)return;const{aweme_id:t,cid:i}=B;G.handleCommentDelete({itemId:t,cid:i,parentCid:e,index:l,subIndex:c})}),[G,B,l,c,e]),je=(0,a.useCallback)((()=>{K("")}),[K]),Se=(0,a.useCallback)((()=>{const{nickname:e=""}=null!=F?F:{},{cid:t="",reply_id:o=""}=null!=B?B:{};A&&(K(t),setTimeout((()=>{var e;null===(e=E.current)||void 0===e||e.focus()}),0)),(A?Y:Q)({nickname:e,replyId:1===i?t:o,replyToReplyId:1===i?"0":t,position:l})}),[F,B,A,Y,Q,i,l,K]),Te=(0,ye.W)({actionWhenUserLoggedIn:Se,modalConfig:{query:{enter_method:"click_reply_comment",group_id:null==u?void 0:u.group_id}},reportClickEvent:()=>{se._.handleGeneralClick("reply_comment",{group_id:null==u?void 0:u.group_id,play_mode:"browser_mode"})}}),Pe=(0,a.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.stopPropagation(),e.preventDefault(),Te())}),[Te]),De=(0,a.useCallback)((e=>{const t=re.SV.includes(we);if(!z||!t||!B)return;const{cid:i,aweme_id:o,text:n}=B;e.stopPropagation();const a=L(W),r=(0,pe.n)(i);if(!r)return;const s=`${window.location.host}${a}?cid=${r}`,l=document.createElement("input");l.style.fontSize="16px",document.body.appendChild(l),l.value=s,l.select(),l.setSelectionRange(0,s.length),document.execCommand&&document.execCommand("copy"),l.remove(),T.h.open({content:D("WebApp_comment_copyurl_id"),duration:1,style:{width:"560px"},getContainer:I.Z,getContainerPosition:"fixed"}),le.y.handleCopyCommentUrl({copy:i,comment:n,group_id:o,user_id:z})}),[we,z,V,$,B,D]),Me=(0,a.useMemo)((()=>{var e;return Object.assign(Object.assign({},u),{to_user_id:null!==(e=null==F?void 0:F.id)&&void 0!==e?e:"",enter_method:"comment",logId:t.logId})}),[null==F?void 0:F.id,u,t.logId]),{state:Re}=(0,r.TH)(),{id:Le}=(0,he.m7)(ge.To.getItem("highlight_comment")),Be=(0,ve.HX)(),Ae=(null==Re?void 0:Re.cid)===t.cid||Le===t.cid&&Be,{abTestVersion:Fe}=null!==(j=(0,m.Lh)((()=>["abTestVersion"]),[]))&&void 0!==j?j:{},Ne=(0,h.eI)(null!==(S=null==B?void 0:B.aweme_id)&&void 0!==S?S:"",q),Ge="v2"===(0,y.N8)(Fe,"search_entry_comment_word")&&U&&!Ne,{isUIOptimization:Qe}=(0,_.iA)();if(!B||!F)return(0,ae.G)(["commentItem","user"]);const{avatarThumb:Ye,nickname:Ke,verified:Je,uniqueId:Xe,secUid:et}=F,{label_type:tt,create_time:it,aweme_id:ot,cid:st,digg_count:lt,user_digged:ct}=B,ut=M(1e3*Number(it)),pt=Boolean(Z)&&V===Z,mt=Boolean(Z)&&Xe===Z,gt=!mt,_t=pt||mt;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Ee,Object.assign({isUIOptimization:Qe&&f,id:t.cid,highlighted:Ae,shouldOptProfile:!f},{children:[(0,o.jsx)(Ve,Object.assign({style:{flex:`0 0 ${ne}px`},uniqueId:Xe,secUid:et,isInDetailPage:f,onMouseEnter:te,onMouseLeave:ie,isInBrowserMode:!0,teaParams:Me,"data-e2e":`comment-avatar-${i}`,onLinkClick:g},{children:(0,o.jsx)(ce.q,{size:ne,src:Ye},void 0)}),void 0)," ",(0,o.jsxs)(Ze,{children:[(0,o.jsxs)(We,Object.assign({uniqueId:Xe,secUid:et,onMouseEnter:te,onMouseLeave:ie,isInBrowserMode:!0,teaParams:Me,onLinkClick:g},{children:[(0,o.jsxs)(Ue,Object.assign({"data-e2e":`comment-username-${i}`},{children:[Ke," ",Je&&(0,o.jsx)(de.Q,{"data-e2e":`comment-bluev-${i}`},void 0)]}),void 0),tt&&Boolean(vt[tt])&&(0,o.jsxs)(o.Fragment,{children:["·"," ",(0,o.jsx)(ze,Object.assign({isCreator:1===tt,"data-e2e":`${yt[tt]}-${i}`},{children:D(vt[tt])}),void 0)]},void 0)]}),void 0),(0,o.jsx)(nt,{teaParams:Me,cid:st,hasSearchKeyword:Ge,onClose:p,onLinkClick:g,commentItem:B,e2eTag:`comment-level-${i}`},void 0),(0,o.jsxs)(qe,Object.assign({isUIOptimization:Qe&&f},{children:[(0,o.jsx)($e,Object.assign({"data-e2e":`comment-time-${i}`,onClick:De,shouldOptBrowserMargin:!f},{children:ut}),void 0),f?(0,o.jsx)(Ie,{isUIOptimization:Qe,count:lt,liked:Boolean(ct),onClick:ke},void 0):null,!s&&(0,o.jsx)(He,Object.assign({"aria-label":D("comment_reply_btn"),role:"button",isUIOptimization:Qe&&f,inDetailPage:f,onClick:Te,"data-e2e":`comment-reply-${i}`,tabIndex:0,onKeyDown:Pe},{children:D("comment_reply_btn")}),void 0)]}),void 0)]},void 0),(0,o.jsx)(Oe,{itemId:ot,cid:st,inDetailPage:f,count:lt,liked:Boolean(ct),onLike:ke,onDelete:Ce,isShowDelete:_t,isShowReport:gt},void 0),J&&(0,o.jsx)(be.C,{uniqueId:Xe,onMouseEnter:X,onMouseLeave:ee},void 0)]}),void 0),A&&H===st&&(0,o.jsx)(dt,Object.assign({isLevel2:1!==i},{children:(0,o.jsx)(rt._,{childInputRef:E,onClose:je,isReply:!0,itemId:ot,teaParams:Object.assign(Object.assign({},b),{author_id:null!==(P=null==b?void 0:b.author_id)&&void 0!==P?P:"",group_id:null!==(O=null==b?void 0:b.group_id)&&void 0!==O?O:""})},void 0)}),void 0)]},void 0)})),bt=(0,a.memo)((function({item:e,disableReply:t,index:i,onHideReply:r,teaParams:l,onClose:c,onLinkClick:u,inDetailPage:p=!1}){var m,h,g,v;const y=(0,s.Q)(),_=(0,d.q)(oe.x),b=(0,n.m)(C.r,{selector:t=>t[e.cid],dependencies:[e.cid]}),f=(0,a.useCallback)((()=>{b&&_.handleShowMoreReply({itemId:b.aweme_id,cid:b.cid})}),[_,b]),x=(0,a.useRef)(null),k=(0,a.useCallback)((()=>{var e,t;b&&(null==r||r(null!==(t=null===(e=x.current)||void 0===e?void 0:e.scrollHeight)&&void 0!==t?t:0),_.handleCollapseReply({itemId:b.aweme_id,cid:b.cid}))}),[_,b,r]),w=(0,a.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||(t.stopPropagation(),t.preventDefault(),e?f():k())}),[f,k]),j=(0,a.useMemo)((()=>w(!0)),[w]),S=(0,a.useMemo)((()=>w(!1)),[w]),T=(0,a.useMemo)((()=>{var t,i,n,a,r,s,l;if(!b)return null;if(null===(t=e.replyCache)||void 0===t?void 0:t.loading)return(0,o.jsx)(ct,{children:(0,o.jsx)(ne.g,{center:!0,size:"small"},void 0)},void 0);const d=null!==(n=null===(i=e.reply_comment)||void 0===i?void 0:i.length)&&void 0!==n?n:0,c=Number(null!==(a=b.reply_comment_total)&&void 0!==a?a:0)-d;if(!c&&Number(null===(r=e.reply_comment)||void 0===r?void 0:r.length)>0)return(0,o.jsx)(ct,Object.assign({isUnfold:!0,hasMore:!1},{children:(0,o.jsxs)(pt,Object.assign({"aria-label":y("hide"),role:"button",onClick:k,onKeyDown:S,tabIndex:0,"data-e2e":"comment-hide"},{children:[y("hide"),(0,o.jsx)(ut,{reversed:!0},void 0)]}),void 0)}),void 0);if(!c)return null;const u=y("pcWeb_detailPage_comment_viewNumReply",{num:c,number:c}),p=y("pcWeb_detailPage_comment_viewNumMore",{number:c});if(!e.replyCache||!(null===(s=e.reply_comment)||void 0===s?void 0:s.length)){let e=y("view_more_replies",{num:c});return e=d>0?p:u,(0,o.jsx)(ct,{children:(0,o.jsxs)(pt,Object.assign({"aria-label":e,role:"button",onClick:f,onKeyDown:j,tabIndex:0,"data-e2e":"view-more-1"},{children:[e,(0,o.jsx)(ut,{},void 0)]}),void 0)},void 0)}const m=e.replyCache.hasMore||e.replyCache.comments.length>e.reply_comment.length;if(Number(null===(l=e.reply_comment)||void 0===l?void 0:l.length)>0){const e=p;return(0,o.jsxs)(ct,Object.assign({isUnfold:!0,hasMore:m},{children:[(0,o.jsx)(pt,Object.assign({"aria-label":e,role:"button",onClick:f,onKeyDown:j,tabIndex:0,"data-e2e":"view-more-2"},{children:Boolean(m)&&(0,o.jsxs)(o.Fragment,{children:[e,(0,o.jsx)(ut,{},void 0)]},void 0)}),void 0),(0,o.jsxs)(pt,Object.assign({"aria-label":y("hide"),role:"button",onClick:k,onKeyDown:S,tabIndex:0,"data-e2e":"comment-hide"},{children:[y("hide"),(0,o.jsx)(ut,{reversed:!0},void 0)]}),void 0)]}),void 0)}return null}),[k,S,j,f,b,e.replyCache,null===(m=e.reply_comment)||void 0===m?void 0:m.length,y]);return b?(0,o.jsxs)(lt,{children:[(0,o.jsx)(_t,{inDetailPage:p,item:e,disableReply:t,index:i,level:1,teaParams:l,videoReportParams:Object.assign(Object.assign({},l),{group_id:null!==(h=null==l?void 0:l.group_id)&&void 0!==h?h:"",author_id:null!==(g=null==l?void 0:l.group_id)&&void 0!==g?g:""}),onClose:c,onLinkClick:u},void 0),Boolean(b.reply_comment_total)&&(0,o.jsxs)(dt,Object.assign({ref:x},{children:[null===(v=e.reply_comment)||void 0===v?void 0:v.map(((n,a)=>(0,o.jsx)(_t,{parentCid:e.cid,item:n,disableReply:t,index:i,subIndex:a,level:2,teaParams:l,onClose:c,onLinkClick:u,inDetailPage:p},n.cid))),T]}),void 0)]},void 0):(0,ae.G)(["item"])})),ft=(0,Me.F4)({"0%":{backgroundPositionX:"200%"},"100%":{backgroundPositionX:"-150%"}}),xt=(0,L.Z)("div",{target:"eht1nyc0"})({width:"100%",marginTop:"16px",display:"flex",flexDirection:"column"},"label:DivCommentItemSkeletonContainer;"),kt=(0,L.Z)("div",{target:"eht1nyc1"})({width:"100%",marginBottom:"24px",display:"flex",alignItems:"flex-start"},"label:DivCommentItemSkeleton;"),wt=(0,L.Z)("div",{target:"eht1nyc2"})((({theme:e})=>({width:"40px",height:"40px",borderRadius:"100px",backgroundColor:e.colors.BGPlaceholderDefault,flexShrink:0,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${ft} cubic-bezier(0, 0, 1, 1) 1.5s infinite`})),"label:DivCommentItemSkeletonAvatar;"),Ct=(0,L.Z)("div",{target:"eht1nyc3"})({width:"100%",display:"flex",flexDirection:"column"},(({theme:{direction:e}})=>(0,A.YJ)({direction:e,marginStart:"20px"})),"label:DivCommentItemSkeletonInfo;"),jt=(0,L.Z)("div",{target:"eht1nyc4"})((({width:e="100%",height:t="24px",marginTop:i="0px",theme:o})=>({width:e,height:t,marginTop:i,backgroundColor:o.colors.BGPlaceholderDefault,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${ft} cubic-bezier(0, 0, 1, 1) 1.5s infinite`})),"label:DivCommentItemSkeletonLine;"),St=(0,a.memo)((function({num:e=3}){const t=[];for(let i=0;i<e;i++)t.push(i);return(0,o.jsx)(xt,{children:t.map((e=>(0,o.jsxs)(kt,{children:[(0,o.jsx)(wt,{},void 0),(0,o.jsxs)(Ct,{children:[(0,o.jsx)(jt,{width:"160px"},void 0),(0,o.jsx)(jt,{height:"20px",marginTop:"4px"},void 0),(0,o.jsx)(jt,{height:"12px",marginTop:"8px",width:"96px"},void 0)]},void 0)]},e)))},void 0)}));var Tt=i(34138);const Pt=e=>{const[t,i]=(0,d.b)(oe.x,{selector:t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!1}},dependencies:[e]}),{comments:o,hasMore:n,loading:r}=t;(0,a.useEffect)((()=>{!(0,Tt.w)(e)&&e&&0===o.length&&n&&!r&&i.fetchComment({aweme_id:e,cursor:0})}),[i,o.length,n,e,r])},It=(0,L.Z)("div",{target:"ekjxngi0"})((({noBorderTop:e,noBackgroundColor:t,theme:i,overflowVisible:o,inDetailPage:n=!1})=>({width:"100%",boxSizing:"border-box",backgroundColor:t?"":i.colors.BGCreation3,borderTop:e?"none":`1px solid ${i.colors.LinePrimary2}`,borderBottom:n?"none":`1px solid ${i.colors.LinePrimary2}`,overflowY:o?"visible":"hidden",overflowX:o?"visible":"hidden",flexGrow:1,position:"relative",paddingBottom:n?"30px":"",display:"flex",flexDirection:"column"})),"label:DivCommentContainer;"),Ot=(0,L.Z)("div",{target:"ekjxngi2"})((({theme:e,marginTop:t})=>[(0,A.GI)({theme:e,typography:"P3",fontWeight:"normal",color:"TextTertiary"}),{marginTop:t?"40px":0,width:"100%",padding:"0 16px",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"50%",transform:"translateY(-50%)"}]),"label:DivEmpty;"),Dt="32px",Mt="24px",Rt=(0,L.Z)("div",{target:"ekjxngi3"})((({inDetailPage:e=!1,shouldOptimizeCta:t,overflowVisible:i})=>({width:"100%",overflowY:i?"visible":"auto",overflowX:i?"visible":"hidden",flexGrow:1,position:"relative",padding:e?"0 0 24px":`0 ${t?Mt:Dt} 24px`,":first-of-type":{paddingTop:"24px"}})),"label:DivCommentListContainer;"),Lt=(0,L.Z)("div",{target:"ekjxngi4"})((({shouldOptimizeCta:e})=>[{marginLeft:`-${e?Mt:Dt}`,marginRight:`-${e?Mt:Dt}`}]),"label:DivProfileWrapper;"),Bt=(0,L.Z)(It,{target:"e1u1vkmc0"})((({isInHorizontalBoostUI:e,theme:{colors:t}})=>({borderTop:"none",padding:"16px",margin:0,background:e?t.BGPrimary:t.BGCreation3,border:"none",position:"relative",display:"flex",flexDirection:"column"})),"label:StyledDivCommentListContainerForSwiper;"),At=(0,a.memo)((e=>{const{isInVideoFeedRedesign:t}=(0,_.y7)(),{isInHorizontalBoostUI:i}=(0,_.yk)(),n=t||i?Bt:It;return(0,o.jsx)(n,Object.assign({},e,{isInHorizontalBoostUI:i}),void 0)}));var Ft=i(39075),Et=i(98461),Zt=i(36207);const zt=()=>{const e=(0,s.Q)();return(0,o.jsxs)(Zt.IZ,{children:[(0,o.jsx)(Zt._V,{},void 0)," ",(0,o.jsx)(Zt.Hr,{children:e("ad_comment_close_des")},void 0)]},void 0)},Ut=(0,a.memo)((0,a.forwardRef)((function({itemId:e,disableReply:t,teaParams:i,onLinkClick:c,onClickScrollToTop:u,onClose:p,inDetailPage:m=!1,hasMore:h=!0,prefetchId1:g="",prefetchId2:v="",profileContent:y,showScrollToTop:b=!1,onTabChange:f,activeTab:x,adsCommentDisabled:k,creatorTabDisabled:w},C){var j,S;const T=(0,n.m)(oe.x,{selector:t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!0}},dependencies:[e]}),P=(0,r.TH)(),{allowRightPanelScroll:I,shouldShowCommentsCnt:O,shouldOptimizeCta:D,shouldOptimizeReply:M}=(0,_.CY)(),R=(0,s.Q)();(e=>{const[{hasMore:t,loading:i,comments:o},n]=(0,d.b)(oe.x,{selector:t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!1}},dependencies:[e]});(0,a.useEffect)((()=>{!(0,Tt.w)(e)&&e&&0===o.length&&t&&!i&&n.fetchComment({aweme_id:e,cursor:0})}),[o.length,n,t,e,i])})(e),Pt(g),Pt(v);const L=(0,a.useMemo)((()=>{var e;if(!T||!(null===(e=T.comments)||void 0===e?void 0:e.length)&&T.loading&&h)return(0,o.jsx)(St,{num:9},void 0);const n=[];return T.comments.forEach(((e,a)=>{var r;const s=(0,o.jsx)(bt,{item:e,disableReply:t,index:a,teaParams:i,onClose:p,onLinkClick:c,inDetailPage:m},e.cid);(null===(r=P.state)||void 0===r?void 0:r.cid)===e.cid?n.unshift(s):n.push(s)})),n.length?(0,o.jsxs)(o.Fragment,{children:[n,T.loading&&(0,o.jsx)(St,{num:1},void 0)]},void 0):(0,o.jsx)(Ot,Object.assign({marginTop:m},{children:R("comment_panel_zero")}),void 0)}),[T,h,t,i,p,c,m,null===(j=P.state)||void 0===j?void 0:j.cid,R]),{isBrowserModeShowing:B}=(0,a.useContext)(l._),A=(0,a.useMemo)((()=>B?(0,o.jsx)(ie,{onClose:p,id:e},void 0):null),[B,e,p]),F=!(null===(S=null==T?void 0:T.comments)||void 0===S?void 0:S.length),E=m||O,Z=y?(0,o.jsx)(Lt,Object.assign({shouldOptimizeCta:D},{children:y}),void 0):null,z=M&&m;return(0,o.jsxs)(At,Object.assign({"data-e2e":"search-comment-container",inDetailPage:m,empty:F,shouldShowCommentsCnt:O,noBackgroundColor:E,noBorderTop:F||E,overflowVisible:z},{children:[!I&&A,(0,o.jsxs)(Rt,Object.assign({inDetailPage:m,shouldOptimizeCta:D,overflowVisible:z,ref:C},{children:[Z,I&&(0,o.jsxs)(o.Fragment,{children:[!m&&(0,o.jsx)(Ft.d,{itemId:e,isInCommentList:!0,commentTopSearch:A,descriptionPart:null,onTabChange:f,activeTab:x,adsCommentDisabled:k,creatorTabDisabled:w},void 0),b&&(0,o.jsx)(Et.f,{onClick:e=>{var t,o;le.y.handleClickBackToTop({group_id:null!==(t=null==i?void 0:i.group_id)&&void 0!==t?t:"",authro_id:null!==(o=null==i?void 0:i.author_id)&&void 0!==o?o:""}),null==u||u(e)},isUp:!0,isInComment:!0},void 0)]},void 0),k?(0,o.jsx)(zt,{},void 0):L]}),void 0)]}),void 0)})))},11597:(e,t,i)=>{"use strict";i.d(t,{x:()=>Z,C:()=>E});var o=i(22403),n=i(98279),a=i(3312),r=i(82790),s=i(70517),l=i(2600),d=i.n(l),c=i(82941),u=i(67080),p=i(28952),m=i(90950),h=i(35380),g=i(55823),v=i(21249),y=i(17620),_=i(8460),b=i(27503),f=i(11580),x=i(9538),k=i(40362),w=i(28147),C=i(56981),j=i(9597),S=i(71304),T=i(66943),P=i(8650),I=i(88573),O=i(45179),D=i(87054),M=i(43549),R=i(40589),L=i(32565);let B=class{constructor(e){this.fetch=e}getCommentList(e){return this.fetch.get("/api/comment/list/",{query:Object.assign(Object.assign({},e),{count:20,aid:1988,app_language:"ja-JP",device_platform:"web_pc",current_region:"JP",fromWeb:1,enter_from:"tiktok_web"}),baseUrlType:2})}getCommentReply(e){return this.fetch.get("/api/comment/list/reply/",{query:Object.assign(Object.assign({},e),{count:3,aid:1988,app_language:"ja-JP",device_platform:"web_pc",current_region:"JP",fromWeb:1,enter_from:"tiktok_web"}),baseUrlType:2})}postCommentLike(e){return this.fetch.post("/api/comment/digg/",{query:Object.assign(Object.assign({},e),{aid:1988,channel_id:0}),headers:{[R.eD]:this.fetch.csrfToken},baseUrlType:2})}postCommentDelete(e){return this.fetch.post("/api/comment/delete/",{query:e,baseUrlType:2,headers:{[R.eD]:this.fetch.csrfToken}})}};B=(0,o.__decorate)([(0,M.G)(),(0,o.__metadata)("design:paramtypes",[L.r])],B);var A,F=i(39836);!function(e){e[e.Like=1]="Like",e[e.Unlike=2]="Unlike"}(A||(A={}));const E={awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!1};let Z=class extends n.D{constructor(e,t,i,o,n,a,r){super(),this.service=e,this.commentItem=t,this.item=i,this.user=o,this.t=n,this.home=a,this.personalization=r,this.defaultState={}}setCommentItem(e,{itemId:t="",item:i}){var o;return i?(e[t]=Object.assign(Object.assign({},null!==(o=e[t])&&void 0!==o?o:E),i),e):e}setReplyLoading(e,t){var i,o,n;const a=e[t.itemId].comments.find((({cid:e})=>e===t.cid));if(!a)return e;a.replyCache?a.replyCache.loading=t.loading:a.replyCache={comments:null!==(i=a.reply_comment)&&void 0!==i?i:[],cursor:null!==(n=null===(o=a.reply_comment)||void 0===o?void 0:o.length)&&void 0!==n?n:"0",hasMore:!0,loading:t.loading}}setReplyComment(e,t){const i=this.getCommentItem(e,t.cid,t.itemId);if(!i)return e;i.reply_comment=t.comments}setReplyCommentCache(e,t){const i=this.getCommentItem(e,t.cid,t.itemId);if(!i)return e;i.replyCache?(i.replyCache.comments=t.comments,i.replyCache.hasMore=t.hasMore,i.replyCache.cursor=t.cursor):i.replyCache={comments:t.comments,cursor:t.cursor,hasMore:t.hasMore,loading:!1}}deleteCommentFromList(e,t){var i,o;const{index:n,subIndex:a,itemId:r}=t;void 0===a?e[r].comments.splice(n,1):(null===(i=e[r].comments[n].reply_comment)||void 0===i||i.splice(a,1),null===(o=e[r].comments[n].replyCache)||void 0===o||o.comments.splice(a,1))}addCommentToFirst(e,t){e[t.aweme_id].comments.unshift({cid:t.cid,reply_comment:[],replyCache:null})}addReplyToFirst(e,{comment:t,position:i}){var o,n;const{aweme_id:a}=t,r=e[a].comments[i];r&&(r.reply_comment=null!==(o=r.reply_comment)&&void 0!==o?o:[],r.reply_comment.unshift({cid:t.cid,reply_comment:null,replyCache:null}),null===(n=r.replyCache)||void 0===n||n.comments.unshift({cid:t.cid,reply_comment:null,replyCache:null}))}handlePostSuccess(e){return e.pipe((0,m.z)((e=>{const{users:t,commentItems:i}=this.processCommentList([e]);return(0,c.of)(this.getActions().addCommentToFirst(e),this.user.getActions().multiSetUser(t),this.commentItem.getActions().multiSetCommentItem(i),this.item.getActions().reduceOrIncreaseCommentCount({id:e.aweme_id,isReduce:!1}))})))}handleReplySuccess(e){return e.pipe((0,m.z)((({comment:e,position:t})=>{const{users:i,commentItems:o}=this.processCommentList([e],{ignoreReply:!0});return(0,c.of)(this.getActions().addReplyToFirst({comment:e,position:t,itemId:e.aweme_id}),this.user.getActions().multiSetUser(i),this.commentItem.getActions().multiSetCommentItem(o),this.commentItem.getActions().reduceOrIncreaseCommentCount({cid:e.reply_id}),this.item.getActions().reduceOrIncreaseCommentCount({id:e.aweme_id,isReduce:!1}))})))}fetchComment(e){return e.pipe((0,m.z)((e=>this.fetchComment$(e))))}fetchComment$(e){return(0,c.of)(e).pipe((0,h.M)(this.state$,this.home.state$,this.personalization.state$),(0,g.U)((([e,t,i,o])=>{var n;return{query:e,item:null!==(n=t[e.aweme_id])&&void 0!==n?n:{awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!0},isNonPersonalized:(0,F.Y)(o)}})),(0,v.b)((({item:e})=>{})),(0,y.z)((({query:{aweme_id:e,insert_ids:t},item:i,isNonPersonalized:o})=>{var n;if(!(null==i?void 0:i.hasMore))return u.E;const a=null!==(n=null==i?void 0:i.cursor)&&void 0!==n?n:"0";return this.service.getCommentList({insert_ids:"0"===a?t:void 0,aweme_id:e,cursor:a,is_non_personalized:o}).pipe((0,v.b)((e=>{(0,w.k)(e.status_code,[0])})),(0,m.z)((t=>{var o,n,a,r;if(0===t.status_code&&(null===(o=t.comments)||void 0===o?void 0:o.length)){const{users:o,comments:r,commentItems:s}=this.processCommentList(t.comments,{logId:null===(n=t.log_pb)||void 0===n?void 0:n.impr_id}),l=null!==(a=null==i?void 0:i.comments)&&void 0!==a?a:[],u=d()(l.concat(r),"cid"),p=[this.user.getActions().multiSetUser(o),this.commentItem.getActions().multiSetCommentItem(s),this.getActions().setCommentItem({item:{comments:u,hasMore:Boolean(t.has_more),cursor:t.cursor,loading:!1},itemId:e})];return t.total&&p.push(this.item.getActions().setCommentCount({id:e,commentCount:Number(t.total)})),(0,c.of)(...p)}return 0!==t.status_code||(null===(r=t.comments)||void 0===r?void 0:r.length)||t.has_more?(0,c.of)(this.noop()):(0,c.of)(this.getActions().setCommentItem({item:{hasMore:Boolean(t.has_more),loading:!1},itemId:e}))})),(0,_.O)(this.getActions().setCommentItem({item:{awemeId:e,loading:!0},itemId:e})),(0,b.l)(this.getActions().setCommentItem({item:{loading:!1},itemId:e})),(0,C.n)({shouldShowMsg:!1}),(0,f.R)(this.dispose$))})))}fetchCommentReply(e){return e.pipe((0,h.M)(this.state$),(0,g.U)(this.mapCommentItemFromQuery.bind(this)),(0,v.b)((([e,t])=>{t||console.warn("No item here in fetch commoent reply")})),(0,m.z)((([e,t])=>{var i,o;return t?this.service.getCommentReply({comment_id:e.cid,item_id:e.itemId,cursor:null!==(o=null===(i=t.replyCache)||void 0===i?void 0:i.cursor)&&void 0!==o?o:"0"}).pipe((0,v.b)((e=>{(0,w.k)(e.status_code,[0])})),(0,m.z)((i=>{var o,n;if(0===i.status_code){const{users:a,comments:r,commentItems:s}=this.processCommentList(i.comments,{logId:null===(o=i.log_pb)||void 0===o?void 0:o.impr_id}),l=null!==(n=null==t?void 0:t.reply_comment)&&void 0!==n?n:[],u=d()(l.concat(r),"cid");return(0,c.of)(this.user.getActions().multiSetUser(a),this.commentItem.getActions().multiSetCommentItem(s),this.getActions().setReplyComment(Object.assign({comments:[...u]},e)),this.getActions().setReplyCommentCache(Object.assign({comments:[...u],hasMore:Boolean(i.has_more),cursor:i.cursor},e)))}return(0,c.of)(this.noop())})),(0,_.O)(this.getActions().setReplyLoading(Object.assign(Object.assign({},e),{loading:!0}))),(0,b.l)(this.getActions().setReplyLoading(Object.assign(Object.assign({},e),{loading:!1}))),(0,C.n)({})):u.E})))}handleCollapseReply(e){return e.pipe((0,h.M)(this.state$),(0,v.b)((([e,t])=>{this.getCommentItem(t,e.cid,e.itemId)||console.warn("item is null")})),(0,g.U)((([e,t])=>this.getCommentItem(t,e.cid,e.itemId)?this.getActions().setReplyComment(Object.assign(Object.assign({},e),{comments:[]})):this.noop())))}handleShowMoreReply(e){return e.pipe((0,h.M)(this.state$),(0,g.U)(this.mapCommentItemFromQuery.bind(this)),(0,v.b)((([{cid:e,itemId:t}])=>{x.y.handleShowMoreReply({parent_comment_id:e,group_id:t})})),(0,v.b)((([e,t])=>{t||console.warn("item is null")})),(0,g.U)((([e,t])=>{if(!t)return this.noop();if(!t.reply_comment||!t.replyCache)return this.getActions().fetchCommentReply(e);const i=t.reply_comment.length,o=t.replyCache.comments.length;if(i<o){const n=i+3>o?o:i+3;return this.getActions().setReplyComment(Object.assign(Object.assign({},e),{comments:t.replyCache.comments.slice(0,n)}))}return this.getActions().fetchCommentReply(e)})))}handleCommentLike(e){return e.pipe((0,h.M)(this.commentItem.state$,this.user.state$),(0,g.U)((([e,t,i])=>{var o;const n=t[e.cid];return{query:e,commentItem:n,user:i.users[null!==(o=null==n?void 0:n.user)&&void 0!==o?o:""]}})),(0,v.b)((({commentItem:e})=>{e||console.warn("No comment item here in hendle comment like")})),(0,y.z)((({query:e,commentItem:t,user:i})=>{if(!t)return u.E;const o=t.user_digged?2:1;return this.service.postCommentLike({aweme_id:e.itemId,cid:e.cid,digg_type:o}).pipe((0,v.b)((t=>{var n;0===(null==t?void 0:t.status_code)?x.y.handleCommentLike({isLike:1===o,comment_id:e.cid,group_id:e.itemId,comment_user_id:null!==(n=null==i?void 0:i.id)&&void 0!==n?n:"",author_id:e.teaAuthorId}):3002043===(null==t?void 0:t.status_code)?(k.h.destroy(),k.h.open({content:this.t(2===o?"comment_turnoff_unlike":"comment_turnoff_like"),duration:3,getContainer:S.Z,getContainerPosition:"fixed"})):(null==t?void 0:t.status_code)?(k.h.destroy(),k.h.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:3,widthType:"half",getContainer:S.Z,getContainerPosition:"fixed"})):(k.h.destroy(),k.h.open({content:this.t("comment_nointernet_toast"),duration:3,widthType:"half",getContainer:S.Z,getContainerPosition:"fixed"}))})),(0,m.z)((i=>{if(0===i.status_code){let i,n;return 1===o?(i=1,n=t.digg_count+1):(i=0,n=Math.max(t.digg_count-1,0)),(0,c.of)(this.commentItem.getActions().setItemDiggState({cid:e.cid,digged:i}),this.commentItem.getActions().setItemDiggCount({cid:e.cid,count:n}))}return 3002043===i.status_code?(0,c.of)(this.item.getActions().updateItem({id:e.itemId,itemCommentStatus:3})):u.E})),(0,C.n)({}))})))}handleCommentDelete(e){return e.pipe((0,m.z)((e=>{const{itemId:t,cid:i,parentCid:o,subIndex:n}=e;return this.service.postCommentDelete({cid:i}).pipe((0,v.b)((({status_code:e})=>{0===e?k.h.open({content:this.t("comment_delete_success"),duration:3,widthType:"half",getContainer:S.Z,getContainerPosition:"fixed"}):k.h.open({content:this.t("comment_delete_failed"),duration:3,widthType:"half",getContainer:S.Z,getContainerPosition:"fixed"})})),(0,m.z)((a=>{if(0===a.status_code){const a=[this.getActions().deleteCommentFromList(e),this.commentItem.getActions().removeItem(i),this.item.getActions().reduceOrIncreaseCommentCount({id:t,isReduce:!0})];return void 0!==n&&o&&a.push(this.commentItem.getActions().reduceOrIncreaseCommentCount({cid:o,isReduce:!0})),(0,c.of)(...a)}return(0,c.of)(this.noop())})),(0,C.n)({}))})))}switchVideo(e){return e.pipe((0,m.z)((({currId:e,insertCid:t})=>(0,c.of)(this.getActions().dispose$(),this.getActions().fetchComment({insert_ids:t,aweme_id:e})))))}mapCommentItemFromQuery([e,t]){return[e,this.getCommentItem(t,e.cid,e.itemId)]}getCommentItem(e,t,i){return e[i].comments.find((({cid:e})=>e===t))}processCommentList(e=[],t={}){return e.reduce(((e,i)=>{const{user:o,reply_comment:n}=i;return e.users.push((0,T.yk)(o)),(null!=n?n:[]).forEach((({user:t})=>{e.users.push((0,T.yk)(t))})),e.comments.push(this.processComment(i,t)),this.commentItem.getProcessedCommentItem(i,t).forEach((t=>{e.commentItems.push(t)})),e}),{users:[],comments:[],commentItems:[]})}processComment(e,t={}){var i;return{cid:e.cid,logId:t.logId,reply_comment:null===(i=e.reply_comment)||void 0===i?void 0:i.map((e=>this.processComment(e,t))),replyCache:null}}};(0,o.__decorate)([(0,a.cQ)(),(0,o.__metadata)("design:type",p.y)],Z.prototype,"dispose$",void 0),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setCommentItem",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setReplyLoading",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setReplyComment",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"setReplyCommentCache",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"deleteCommentFromList",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"addCommentToFirst",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"addReplyToFirst",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handlePostSuccess",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handleReplySuccess",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"fetchComment",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"fetchCommentReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handleCollapseReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handleShowMoreReply",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handleCommentLike",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"handleCommentDelete",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.y]),(0,o.__metadata)("design:returntype",void 0)],Z.prototype,"switchVideo",null),Z=(0,o.__decorate)([(0,r.Y)("Comment"),(0,o.__param)(4,(0,s.t)(j.s$)),(0,o.__metadata)("design:paramtypes",[B,D.r,O.A,I.z,Function,P.G,F.c])],Z)},22397:(e,t,i)=>{"use strict";var o;i.d(t,{Yh:()=>n,i$:()=>a}),function(e){e[e.Comments=0]="Comments",e[e.Creator=1]="Creator"}(o||(o={}));const n=24,a=32},74564:(e,t,i)=>{"use strict";i.d(t,{Ci:()=>_,EN:()=>s,Gg:()=>d,Is:()=>m,JP:()=>g,OH:()=>l,TK:()=>u,Vk:()=>h,YI:()=>r,hh:()=>c,i3:()=>v,ij:()=>y,vt:()=>p});var o=i(85093),n=i(43340),a=i(87185);const r=20,s=(0,o.Z)("div",{target:"e1mecfx00"})((({noPaddingTop:e})=>[{flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 0 0",paddingTop:"24px"},e&&{paddingTop:0}]),"label:DivContentContainer;"),l=(0,o.Z)("div",{target:"e1mecfx01"})((({shouldOptProfile:e,shouldOptimizeCta:t})=>[{padding:e?"":"0 32px",overflow:"visible",display:"flex",flexDirection:"column",flexShrink:0},t&&{padding:"0 20px"}]),"label:DivMainContent;"),d=(0,o.Z)(a.W,{target:"e1mecfx02"})((({theme:{colors:e}})=>({marginTop:"9px",marginBottom:"17px",background:"transparent",color:e.TextSecondary})),"label:StyledScheduleTime;"),c=(0,o.Z)("div",{target:"e1mecfx03"})((({theme:{colors:e}})=>({width:"100%",padding:"0 32px",boxSizing:"border-box",backgroundColor:e.BGPrimary,borderTop:"none",borderBottom:"1px solid rgba(18, 18, 18, 0.12)",overflowX:"hidden",flexGrow:1})),"label:DivCommentContainerPolyfill;"),u=(0,o.Z)("div",{target:"e1mecfx04"})((({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 30px",padding:"21px 0"})),"label:DivBottomCommentContainer;"),p=(0,o.Z)("div",{target:"e1mecfx05"})((({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 30px",height:"78px",display:"flex",alignItems:"center",justifyContent:"center","& > button":{width:"496px"}})),"label:DivAltBottomCommentContainer;"),m=(0,o.Z)("div",{target:"e1mecfx06"})((({theme:e})=>[(0,n.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}]),"label:DivErrorMessage;"),h=(0,o.Z)("div",{target:"e1mecfx07"})((({theme:e,isUIOptimization:t})=>[(0,n.GI)({theme:e,fontWeight:"semiBold",color:t?"TextQuaternary":"Primary"}),{height:"100%",background:t?e.colors.BGInput:e.colors.BGPlaceholderOpaque,borderRadius:t?"8px":"2px",padding:"14px 16px",fontSize:"16px",cursor:"pointer",textAlign:t?"center":"unset"}]),"label:DivLoginBar;"),g=(0,o.Z)("div",{target:"e1mecfx08"})((({theme:e})=>[(0,n.GI)({theme:e,fontWeight:"semiBold",color:"Primary"}),{padding:"14px 16px",fontSize:"18px",lineHeight:"23.4px",cursor:"pointer",textAlign:"center"}]),"label:DivAltLoginBar;"),v=(0,o.Z)("h1",{target:"e1mecfx09"})({marginBottom:"8px",fontWeight:"700",fontSize:"20px",lineHeight:"24px"},"label:H1PhotoTitle;"),y=(0,o.Z)("div",{target:"e1mecfx010"})({display:"flex",gap:"4px"},"label:DivTagContainer;"),_=(0,o.Z)("div",{target:"e1mecfx011"})((({shouldShowCommentsCnt:e,theme:t})=>({background:t.colors.BGView,borderRadius:"12px",marginLeft:`${r}px`,marginRight:`${r}px`,padding:"16px",paddingBottom:e?0:""})),"label:DivDescriptionContentWrapper;")},37071:(e,t,i)=>{"use strict";i.d(t,{J:()=>v,_:()=>g});var o=i(22403),n=i(99333),a=i(43226),r=i.n(a),s=i(31738),l=i(22940),d=i(67600),c=i(34138),u=i(66943),p=i(45179),m=i(82417),h=i(15220);const g=(0,s.createContext)({isLiveBrowserShowing:!1,isBrowserModeShowing:!1,showBrowserMode:r(),closeBrowserMode:r()});function v(){const[e,t]=(0,s.useState)(!1),[i,a]=(0,s.useState)({}),[r,g]=(0,s.useState)(),[{showingBrowserMode:v,itemListKey:y,currentIndex:_,enterWindowTimeSec:b},f]=(0,h.Bs)((e=>({showingBrowserMode:e.showingBrowserMode,itemListKey:e.itemListKey,currentIndex:e.currentIndex,enterWindowTimeSec:e.enterWindowTimeSec})),l.wU),x=(0,s.useRef)(0),k=(0,s.useRef)(0),w=(0,s.useRef)(0),C=(0,s.useRef)(0),j=(0,s.useRef)(0),S=(0,s.useRef)(null),T=(0,s.useRef)(null),{authorId:P,groupId:I}=(0,m.wx)({currentIndex:_}),{currentId:O=""}=(0,u.m7)((0,m.jN)({currentIndex:_})),[D]=(0,n.b)(p.A,{selector:e=>e[O],dependencies:[O]}),M=(0,s.useMemo)((()=>({author_id:P,group_id:I})),[P,I]),R=(0,s.useCallback)((()=>{const e=Math.floor((Number(new Date)-k.current)/1e3),t=Object.assign(Object.assign(Object.assign({},d.r.getScreenRatio()),{duration:e}),M);d.r.handleExitBrowser(t)}),[M]),L=()=>{null!==T.current&&window.removeEventListener("resize",T.current)};(0,s.useEffect)((()=>{let t;const i=()=>{if(!e)return;const{height_max:t,width_max:i,width:o,height:n,height_ratio:a,width_ratio:r}=d.r.getScreenRatio(),s=Number(new Date),l=Object.assign({height_ratio_after:a,width_ratio_after:r,height_ratio:C.current/t,width_ratio:j.current/i,height_after:n,width_after:o,height:C.current,width:j.current,height_max:t,width_max:i,duration:(s-w.current)/1e3},M);w.current=s,C.current=n,j.current=o,d.r.handleAdjustBrowserSize(l)};if(L(),e){const e=()=>{clearTimeout(t),t=setTimeout(i,500)};window.addEventListener("resize",e),T.current=e}if(0===x.current){const e=Number(new Date);x.current=e,k.current=e,w.current=e}return()=>{L()}}),[e,M]);const B=(0,s.useMemo)((()=>({capture:!0})),[]),A=(0,s.useCallback)((()=>{null!==S.current&&window.removeEventListener("beforeunload",S.current,B)}),[B]);(0,s.useEffect)((()=>{const t=()=>{const t=Math.floor((Number(new Date)-b)/1e3),i=Object.assign(Object.assign(Object.assign({},d.r.getScreenRatio()),{duration:t}),e?M:{});d.r.handleCloseWindow(i),e&&R()};return A(),S.current=t,window.addEventListener("beforeunload",t,B),()=>{A()}}),[A,b,e,B,R,M]);const F=(0,s.useCallback)((e=>{const{teaParams:i,reportTeaParams:n,enterFrom:r}=e,s=(0,o.__rest)(e,["teaParams","reportTeaParams","enterFrom"]);document.activeElement instanceof HTMLElement&&document.activeElement.blur(),f.showBrowserMode(s),t(!0),a(null!=i?i:{}),g(r);const l=d.r.getScreenRatio(),c=Object.assign(Object.assign({},null!=n?n:i),l),{width:u,height:p}=l;C.current=p,j.current=u;const m=Number(new Date);k.current=m,w.current=m,d.r.handleEnterBrowserOpt(c)}),[f]),E=(0,s.useCallback)((e=>{t(!1),f.closeBrowserMode(e),R()}),[f,R]),Z=(0,s.useMemo)((()=>{const e=new Set(["foryou","following"]);return Boolean(v)&&(0,c.c9)(D)&&e.has(y)}),[v,y,D]);return{itemListKey:y,currentIndex:_,showBrowserMode:F,isLiveBrowserShowing:Z,closeBrowserMode:E,isBrowserModeShowing:v,disableUpdate:!e,teaParams:i,enterFrom:r}}},82417:(e,t,i)=>{"use strict";i.d(t,{AS:()=>ne,Oi:()=>pe,QO:()=>me,Rn:()=>ue,Ui:()=>ee,Y3:()=>he,_0:()=>te,cN:()=>ae,jN:()=>de,om:()=>ie,pe:()=>le,q5:()=>X,wx:()=>ce,xf:()=>Y,zX:()=>oe});var o=i(71030),n=i(99333),a=i(25879),r=i(59245),s=i.n(r),l=i(66292),d=i.n(l),c=i(59271),u=i(31738),p=i(5909),m=i(22940),h=i(29054),g=i(90196),v=i(33178),y=i(89334),_=i(53292),b=i(30244),f=i(46500),x=i(67600),k=i(9538),w=i(85415),C=i(64639),j=i(25129),S=i(30036),T=i(83480),P=i(92742),I=i(41115),O=i(50297),D=i(95925),M=i(66943),R=i(73632),L=i(52869),B=i(15137),A=i(85762),F=i(18163),E=i(17914),Z=i(30329),z=i(47294),U=i(45179),W=i(86374),V=i(11597),N=i(83098),$=i(26447),q=i(15220),G=i(47248),H=i(98514);const Q=["click_button","scroll","keydown"];function Y({itemListKey:e,item:t,author:i,needUrlDelegate:o,onCloseBrowserMode:a,disableUpdate:r=!1}){const{pathname:l,search:d}=(0,p.TH)(),m=(0,p.k6)(),h=(0,G.YA)(),g=(0,u.useRef)(!1),[{searchValue:v,previousSearchValue:_},{setPreviousSearchValue:b,setSearchValue:f,setInputFocus:x}]=(0,n.b)(F.B,{dependencies:[],selector:e=>({searchValue:e.searchValue,previousSearchValue:e.previousSearchValue})});(0,u.useEffect)((()=>{b(v),f("");const e=()=>{f(_),x(!1),a({fromPopState:!0})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]),(0,u.useEffect)((()=>{if(!t||!e||!o||r)return;Boolean((0,p.LX)(location.pathname,{path:y.$J.liveRoom}))&&(g.current=!0);const{scheduleTime:n,author:a=""}=t,l=s()((0,c.parse)(d),"sender_device","sender_web_id","item_id");let u=n?(0,j.ylP)({uniqueId:a,secUid:null==i?void 0:i.secUid}):(0,c.stringifyUrl)({url:h(t),query:l},{skipNull:!0});g.current&&null!==window.history.state&&/^(?!.*@.*\/video).*$/.test(location.pathname)&&/^(?!.*@.*\/photo).*$/.test(location.pathname)?window.history.replaceState(null,"",location.pathname):g.current?window.history.replaceState(window.history.state,"video-detail",u):(window.history.pushState(window.history.state,"video-detail",u),g.current=!0)}),[null==i?void 0:i.secUid,m,t,l,e,o,d,r])}var K;!function(e){e[e.Null=0]="Null",e[e.Close=1]="Close",e[e.Prev=2]="Prev",e[e.Next=3]="Next",e[e.Redirect=4]="Redirect"}(K||(K={}));const J=e=>{null==e||e.preventDefault(),null==e||e.stopPropagation()};function X({onCloseBrowserMode:e,onNextVideo:t,onPrevVideo:i,pause:o,setPause:r,embedVisibleRef:s,group_id:l,handleLikeClick:d,author_id:c,itemListKey:m,onJumpSamePage:h,shouldPause:g,photoVideoRef:v,isPhotoMode:y,photoTeaParams:w,setIsShowPhoto:C,itemMute:j=!1,handleUserNextVideo:S}){const{isVideoControllerV2:D}=(0,I.Lz)(),{isRTL:M}=(0,L.Y)(),[B,Z]=(0,u.useState)(!1),[z,U]=(0,u.useState)(0),V=(0,$.m4)(),N=(0,$.fh)(),{setNeedClearInput:G}=(0,n.q)(W.p),H=(0,n.q)(E._F),[{previousSearchValue:Y,searchValue:K},{setSearchValue:X}]=(0,n.b)(F.B,{dependencies:[],selector:e=>({previousSearchValue:e.previousSearchValue,searchValue:e.searchValue})}),{mute:ee,setMute:te}=(0,O.s_)({playMode:2,itemMute:j}),[ie,oe]=(0,q.Bs)((({isCreatorBrowserMode:e})=>e)),ne=(0,u.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),te(!ee,"keydown",w),D&&b.O.handleVideoControlChange({group_id:l,author_id:null!=c?c:"",play_mode:"browser_mode",change_params:ee?"unmute":"mute",enter_method:"keydown"})}),[te,ee,w,D,l,c]),ae=(0,a.m)(T.bg,{selector:({showing:e})=>e,dependencies:[]}),re=(0,a.m)(P.mg,{selector:({showing:e})=>e,dependencies:[]}),se=(0,a.m)(A.rE,{selector:e=>e.isOpen,dependencies:[]}),le=(0,u.useRef)(null),de=(0,u.useCallback)(((e,t="click")=>{var i,n,a,s,d,u,p,m,h,g,_,f,x,k,w,C;y?o?(null===(a=null===(n=null===(i=v.current)||void 0===i?void 0:i.swiper)||void 0===n?void 0:n.play)||void 0===a||a.call(n),null===(u=null===(d=null===(s=v.current)||void 0===s?void 0:s.audio)||void 0===d?void 0:d.play)||void 0===u||u.call(d)):(null===(h=null===(m=null===(p=v.current)||void 0===p?void 0:p.swiper)||void 0===m?void 0:m.pause)||void 0===h||h.call(m,e),null===(f=null===(_=null===(g=v.current)||void 0===g?void 0:g.audio)||void 0===_?void 0:_.pause)||void 0===f||f.call(_)):o?null===(k=null===(x=le.current)||void 0===x?void 0:x.play)||void 0===k||k.call(x,!0):null===(C=null===(w=le.current)||void 0===w?void 0:w.pause)||void 0===C||C.call(w),D&&b.O.handleVideoControlChange({group_id:l,author_id:null!=c?c:"",play_mode:"browser_mode",click_section:"click"===t?"play_button":void 0,change_params:o?"play":"pause",enter_method:t}),r(!o)}),[y,D,r,o,v,l,c]),{pathname:ce}=(0,p.TH)(),ue=(0,p.k6)(),pe=(0,u.useCallback)(((t,i)=>{var o;J(t),X(Y),V?e({fromPopState:i,playProgress:null===(o=le.current)||void 0===o?void 0:o.currentTime,shouldPause:g}):(U(1),Z(!0))}),[V,g,e,Y,X]),me=(0,u.useCallback)((e=>{J(e),oe.handleExitCreatorMode()}),[oe]),he=(0,u.useRef)(-1),ge=(0,u.useCallback)(((e,t="click")=>{var i;const o=e>0?"forward":"backward";(null===(i=null==le?void 0:le.current)||void 0===i?void 0:i.seekTime)&&(window.clearTimeout(he.current),H.setSeekType(o),he.current=window.setTimeout((()=>{H.setSeekType("none")}),2e3),le.current.seekTime(le.current.currentTime+e),b.O.handleVideoControlChange({play_mode:"browser_mode",author_id:null!=c?c:"",group_id:l,enter_method:t,click_section:"click"===t?"pc_web_keyboard_btn":void 0,change_params:e>0?"video_forward":"video_backward"}))}),[c,l]),ve=(0,u.useRef)(""),ye=(0,u.useCallback)(((e,t,i)=>{if(t.includes(ce)&&ce!==_.nT.home)return pe(e),void h();V||(J(e),U(4),Z(!0),ve.current=t),i&&f._.handleGeneralClick(i,{scene:"video_feed"})}),[pe,V,ce,h]),_e=(0,u.useCallback)((()=>{y&&(C(!1),setTimeout((()=>{C(!0)}),0))}),[y,C]),be=(0,u.useCallback)(((e,i="click")=>{if(e&&J(e),K&&X(""),V){t(),r(!1);const e=Object.assign({enter_method:"click_button"===i?"click":i,play_mode:"browser_mode",group_id:l,author_id:null!=c?c:"",skipped_group_num:0,skipped_group_ids:""},w);x.r.handleVideoChange(e,"next"),D&&b.O.handleVideoControlChange(Object.assign(Object.assign({},e),{change_params:"next_video"})),"foryou"===m&&x.r.handleHotVideoChange(e,"next"),_e(),Q.includes(i)&&(null==S||S())}else U(3),Z(!0)}),[V,t,r,l,c,w,m,_e,K,D,X,S]),fe=(0,u.useCallback)(((e,t="click")=>{if(e&&J(e),K&&X(""),V){i(),r(!1);const e=Object.assign({enter_method:t,play_mode:"browser_mode",group_id:l,author_id:null!=c?c:"",skipped_group_num:0,skipped_group_ids:""},w);x.r.handleVideoChange(e,"prev"),"foryou"===m&&x.r.handleHotVideoChange(e,"prev"),D&&b.O.handleVideoControlChange(Object.assign(Object.assign({},e),{change_params:"previous_video"})),_e()}else U(2),Z(!0)}),[i,r,l,c,w,m,_e,K,D,X]),xe=(0,u.useCallback)((e=>{e&&J(e),K&&X(""),V?(r(!1),_e()):(U(3),Z(!0))}),[V,r,_e,K,X]),ke=(0,u.useCallback)((e=>{if(27!==e.keyCode&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||se)return;const t=new Map([[27,()=>{ie?(me(e),r(!1)):ae||re||s.current||pe(e)}],[40,()=>{be(e,"keydown")}],[32,()=>{de("keyboard","keydown")}],[39,()=>{ge(M?R.R:R.i,"keydown")}],[37,()=>{ge(M?R.i:R.R,"keydown")}],[38,()=>{fe(e,"keydown")}],[76,()=>{d("keydown")}],[77,()=>{ne(e)}]]),{keyCode:i}=e;t.has(i)&&(e.preventDefault(),t.get(i)())}),[s,pe,d,be,fe,ne,se,ae,re,de,me,ie,ge,M,r]),we=(0,u.useCallback)((()=>{var o;switch(z){case 1:e({playProgress:null===(o=le.current)||void 0===o?void 0:o.currentTime,shouldPause:g});break;case 2:i(),r(!1);break;case 3:t(),r(!1);break;case 4:ve.current&&ue.push(ve.current)}Z(!1),G(!0),k.y.handleLeaveComment({group_id:l})}),[z,l,ue,g,e,t,i,G,r]),Ce=(0,u.useCallback)((()=>{U(0),Z(!1),k.y.handleKeepComment({group_id:l})}),[l]);return(0,u.useEffect)((()=>(document.addEventListener("keydown",ke),()=>{document.removeEventListener("keydown",ke)})),[ke]),{handleLinkClick:ye,handleClose:pe,handleCloseCreatorMode:me,handleNext:be,handlePrev:fe,preventDefault:J,togglePlay:de,videoPlayerRef:le,showLeaveModal:B,isInputEmpty:N,handleConfirmLeave:we,handleCancelLeave:Ce,handleSeek:ge,handleClickCreatorVid:xe}}function ee({id:e,needDispose:t=!0,handleCommentScrollDown:i,handleCommentHitTop:o}){const a=(0,n.q)(V.x),r=(0,u.useRef)(null),s=(0,u.useCallback)((()=>{a.fetchComment({aweme_id:e})}),[a,e]);return(0,u.useEffect)((()=>()=>{t&&(a.dispose$(),a.setCommentItem({itemId:e,item:V.C}))}),[a,e,t]),(0,D.su)({elemRef:r,onHitBottom:s,bottomThreshold:200,throttle:200}),(0,D.j)({elemRef:r,onHitTop:o,onScrollDown:i}),r}function te({showLeaveModal:e,group_id:t}){(0,u.useEffect)((()=>{e&&k.y.handleClose({group_id:t})}),[t,e]),(0,u.useEffect)((()=>()=>{k.y.handleClose({group_id:t})}),[t])}const ie=({currentIndex:e,handlePrev:t,hasNext:i,handleNext:n,itemListKey:a,isUiOptimise:r=!1})=>{const s=(0,S.Q)(),l=(0,u.useCallback)(d()((e=>{a&&e.srcElement.classList.value.includes("BasicVideo")&&(e.deltaY>=1?n(e,"scroll"):e.deltaY<=-1&&t(e,"scroll"))}),100),[n,t]);(0,u.useEffect)((()=>(window.addEventListener("wheel",l),()=>{window.removeEventListener("wheel",l)})));const c={isUiOptimise:r},p=(0,u.useCallback)((e=>{n(e,"click_button")}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.o1,Object.assign({disabled:0===e,isPrev:!0,onClick:t,"data-e2e":"arrow-left",role:"button","aria-label":s("pc_web_previous_btn")},c,{children:(0,o.jsx)(v.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0),(0,o.jsx)(N.o1,Object.assign({disabled:!i,isPrev:!1,onClick:p,"data-e2e":"arrow-right",role:"button","aria-label":s("pc_web_next_btn")},c,{children:(0,o.jsx)(v.Z,{width:26,height:26,fill:"#fff"},void 0)}),void 0)]},void 0)},oe=e=>{var t,i;let o=!0;const n=(0,Z.p)(null==e?void 0:e.author),{user:a={}}=null!==(t=(0,B.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},[r,s]=(0,u.useState)(!1),l=(0,u.useCallback)((e=>{e.stopPropagation(),w.F.handleClickAnalyticsButton(),s(!0)}),[]),d=(0,u.useCallback)((()=>{s(!1)}),[]);a||(o=!1);const{secUid:c,analyticsOn:p}=null!=a?a:{};return c===(null!==(i=null==n?void 0:n.secUid)&&void 0!==i?i:"")&&p||(o=!1),{showAnalyticsButton:o,showAnalyticsModal:r,handleOpenAnalyticsModal:l,handleCloseAnalyticsModal:d}};function ne(e,t){const{listLength:i,statusCode:o}=se({itemListKey:e,stateSelector:e=>{var t;return{listLength:null!==(t=null==e?void 0:e.list.length)&&void 0!==t?t:0,statusCode:null==e?void 0:e.statusCode}}}),n=(0,q.QR)((e=>e.currentIndex));(0,u.useEffect)((()=>{0===o&&(!i||i-n<=3)&&t()}),[n,t,i,o])}function ae({itemListKey:e,config:t,handler:i}){const o=(0,q.QR)((e=>e.currentIndex)),[{activeItemListKey:n,listLength:a,keyToLoadMore:r},s]=(0,H.QU)((e=>{var t;return{activeItemListKey:e.activeItemListKey,listLength:e.browserList.length,keyToLoadMore:null!==(t=e.keyToLoadMore)&&void 0!==t?t:""}}),m.wU),{statusCode:l,loading:d}=se({itemListKey:r,stateSelector:e=>{var t,i;return{statusCode:null!==(t=null==e?void 0:e.statusCode)&&void 0!==t?t:0,loading:null!==(i=null==e?void 0:e.loading)&&void 0!==i&&i}}});(0,u.useEffect)((()=>{s.registerBrowserListConfig({itemListKey:e,config:t})}),[e,t,s]),(0,u.useEffect)((()=>{d||n!==e||a&&!(a-o<=3)||(0===l?!1===i(r)&&s.freezeSourceWithKey(r):e!==r&&s.freezeSourceWithKey(r))}),[d,o,n,e,a,l,s,r])}const re=(0,h.cn)(null);function se({itemListKey:e,stateSelector:t,dependencies:i}){const o=(0,C.T)(e),n=(0,g.r)(o||re,{selector:t,equalityFn:m.wU}),r=(0,a.m)(z.h,{selector:i=>{var o;const n=null!==(o=i[e])&&void 0!==o?o:null;return t(n)},dependencies:null!=i?i:[e]});return Boolean(o)?n:r}const le=({itemListKey:e,currentIndex:t})=>se({itemListKey:(0,q.QR)((e=>e.isCreatorBrowserMode))?"creator_tab":null!=e?e:"",stateSelector:e=>{var i,o;return e?{currentId:e.browserList[t],prefetchId1:null!==(i=e.browserList[t+1])&&void 0!==i?i:"",prefetchId2:null!==(o=e.browserList[t+2])&&void 0!==o?o:"",listLength:e.browserList.length}:null},dependencies:[e,t]}),de=({currentIndex:e})=>{const t=(0,q.QR)((e=>e.isCreatorBrowserMode));return(0,H._j)((i=>{var o,n;if(!i||!i.browserList)return null;const a=t?i.creatorBrowserList:i.browserList;return{currentId:a[e],prefetchId1:null!==(o=a[e+1])&&void 0!==o?o:"",prefetchId2:null!==(n=a[e+2])&&void 0!==n?n:"",listLength:a.length}}),m.wU)},ce=({currentIndex:e})=>{var t;const{currentId:i=""}=(0,M.m7)(de({currentIndex:e})),[o]=(0,n.b)(U.A,{selector:e=>e[i],dependencies:[i]}),a=null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"";return{authorId:null==o?void 0:o.authorId,groupId:a}};function ue(e,t,i){const o=(0,q.QR)((e=>e.currentIndex)),[{loading:a,hasMoreLatest:r,hasMorePrevious:s},l]=(0,n.b)(z.h,{selector:e=>{var t,i,o,n,a,r;return{loading:null!==(i=null===(t=null==e?void 0:e.creator_tab)||void 0===t?void 0:t.loading)&&void 0!==i&&i,hasMoreLatest:null!==(n=null===(o=null==e?void 0:e.creator_tab)||void 0===o?void 0:o.hasMoreLatest)&&void 0!==n&&n,hasMorePrevious:null!==(r=null===(a=null==e?void 0:e.creator_tab)||void 0===a?void 0:a.hasMorePrevious)&&void 0!==r&&r}},dependencies:[o]}),{abTestVersion:d,language:c}=(0,M.m7)((0,B.Lh)((()=>["user","language","abTestVersion"]),[]));return(0,u.useCallback)((()=>{(!i||!a&&r)&&(i||!a&&s)&&l.getCreatorTabVideoList({key:"creator_tab",secUid:e,createTime:t,fetchType:i?2:1,abTestVersion:d,language:c})}),[a,s,r,i,e,t,l,d,c])}const pe=()=>{const e=(0,S.Q)(),t=e("pc_web_login"),i=e("pc_web_login_to_comment"),o=i.indexOf("%s");return{prefixText:i.slice(0,o),loginText:t,endText:i.slice(o).replace("%s","")}},me=e=>e?new Map([["foryou","one-column-item"],["following","one-column-item"]]).get(e):e,he=({itemListKey:e,currentIndex:t})=>{const{currentId:i=""}=(0,M.m7)(le({itemListKey:e,currentIndex:t})),[o]=(0,n.b)(U.A,{selector:e=>e[i],dependencies:[i]});return{liveRoomInfo:null==o?void 0:o.liveRoomInfo,requestId:null==o?void 0:o.logId}}},25365:(e,t,i)=>{"use strict";i.d(t,{h:()=>v,Q:()=>g});var o=i(71030),n=i(59575),a=i(11092),r=i(71928),s=i(31738),l=i(98999),d=i(25879),c=i(85762),u=i(71661);const p=(e,t)=>(e-t)*u.Yb+"px",m=({originIndex:e,startIndex:t,maxShowNum:i,num:o})=>0===e||e===o-1||e>t&&e<t+i-1?{width:"6px",height:"6px"}:{width:"4px",height:"4px"},h=(0,s.memo)((({photoVideoRef:e,item:t,maxShowNum:i=6})=>{var h,g;const v=(null!==(g=null===(h=null==t?void 0:t.imagePost)||void 0===h?void 0:h.images)&&void 0!==g?g:[]).length,[y,_]=(0,s.useState)(0),{direction:b}=(0,r.u)(),f=(({photoVideoRef:e,num:t})=>{const[i,o]=(0,s.useState)(0);return(0,s.useEffect)((()=>{var i,n;null===(n=null===(i=e.current)||void 0===i?void 0:i.swiper)||void 0===n||n.onActiveIndexChange((e=>{let i=e.activeIndex;0===i?i=t:i===t+1&&(i=1),o(i-1)}))}),[t,e]),i})({photoVideoRef:e,num:v}),{disabledLeft:x,disabledRight:k}=(0,s.useMemo)((()=>({disabledLeft:0===f,disabledRight:f===v-1})),[f,v]),{handleSwitchLeft:w,handleSwitchRight:C}=(({photoVideoRef:e,disabledLeft:t,disabledRight:i})=>{const o=(0,d.m)(c.rE,{selector:e=>e.isOpen,dependencies:[]}),n=(0,s.useCallback)((i=>()=>{var o,n,a,r,s,l;t||(null===(a=null===(n=null===(o=e.current)||void 0===o?void 0:o.swiper)||void 0===n?void 0:n.slidePrev)||void 0===a||a.call(n,"keyboard"===i?"keyboard":"manual_click"),null===(l=null===(s=null===(r=e.current)||void 0===r?void 0:r.swiper)||void 0===s?void 0:s.pause)||void 0===l||l.call(s,i))}),[t,e]),a=(0,s.useCallback)((t=>()=>{var o,n,a,r,s,l;i||(null===(a=null===(n=null===(o=e.current)||void 0===o?void 0:o.swiper)||void 0===n?void 0:n.slideNext)||void 0===a||a.call(n,"keyboard"===t?"keyboard":"manual_click"),null===(l=null===(s=null===(r=e.current)||void 0===r?void 0:r.swiper)||void 0===s?void 0:s.pause)||void 0===l||l.call(s,t))}),[i,e]),r=(0,s.useMemo)((()=>{const e=new Map;return e.set(37,n("keyboard")),e.set(39,a("keyboard")),e}),[n,a]),l=(0,s.useCallback)((e=>{const t=Number(e.keyCode);27!==t&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||o||(e.preventDefault(),!r.has(t))||r.get(t)()}),[o,r]);return(0,s.useEffect)((()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)})),[l]),{handleSwitchLeft:n,handleSwitchRight:a}})({photoVideoRef:e,disabledLeft:x,disabledRight:k});return(0,s.useEffect)((()=>{v<i||(f-y>=i-1?_(f-i+(f===v-1?1:2)):f<=y&&0!==y&&_(f-(0===f?0:1)))}),[f,i,v,y]),(0,o.jsxs)(u.Je,Object.assign({onClick:l.NS},{children:[(0,o.jsx)(u.fH,Object.assign({disabled:x,onClick:w("slide")},{children:(0,o.jsx)(n.d,{size:20},void 0)}),void 0),(()=>{if(v>=i){const e="ltr"===b?"left":"right";return(0,o.jsx)(u.Or,{children:(0,o.jsx)(u.KX,Object.assign({dynamic:!0,num:i},{children:new Array(v).fill(0).map(((t,n)=>(0,o.jsx)(u.wf,Object.assign({index:n,style:{[e]:p(n,y)}},{children:(0,o.jsx)(u.vs,{active:f===n,style:Object.assign({},m({originIndex:n,startIndex:y,maxShowNum:i,num:v}))},void 0)}),n)))}),void 0)},void 0)}return(0,o.jsx)(u.Or,{children:(0,o.jsx)(u.KX,Object.assign({num:v},{children:new Array(v).fill(0).map(((e,t)=>(0,o.jsx)(u.wf,Object.assign({index:t},{children:(0,o.jsx)(u.vs,{active:f===t},void 0)}),t)))}),void 0)},void 0)})(),(0,o.jsx)(u.W5,Object.assign({disabled:k,onClick:C("slide")},{children:(0,o.jsx)(a.c,{size:20},void 0)}),void 0)]}),void 0)})),g=h,v=(0,s.memo)((e=>(0,o.jsx)(u.QV,{children:(0,o.jsx)(u.N8,{children:(0,o.jsx)(h,Object.assign({},e),void 0)},void 0)},void 0)))},71661:(e,t,i)=>{"use strict";i.d(t,{Je:()=>h,KX:()=>d,N8:()=>m,Or:()=>l,QV:()=>p,W5:()=>u,Yb:()=>r,fH:()=>c,vs:()=>v,wf:()=>g});var o=i(85093),n=i(43340),a=i(36995);const r=12,s=({theme:{colors:e,direction:t},disabled:i=!1})=>Object.assign({display:"flex",justifyContent:"center",alignItems:"center",width:"36px",height:"36px",borderRadius:"100%",color:i?e.ConstTextInverse5:e.ConstTextInverse,cursor:"pointer",transform:`rotate(${"rtl"===t?"180deg":"0"})`},(0,a.s)()),l=(0,o.Z)("div",{target:"exksjhw0"})({margin:"0 8px",padding:"12px 17px",borderRadius:"18px"},"label:DivPaginationWrapper;"),d=(0,o.Z)("div",{target:"exksjhw1"})((({num:e})=>({position:"relative",display:"flex",overflow:"hidden",width:r*e+"px",height:`${r}px`})),"label:DivPaginationContainer;"),c=(0,o.Z)("div",{target:"exksjhw2"})(s,"label:DivLeftArrow;"),u=(0,o.Z)("div",{target:"exksjhw3"})(s,"label:DivRightArrow;"),p=(0,o.Z)("div",{target:"exksjhw4"})((({theme:{colors:e}})=>({position:"absolute",bottom:0,width:"100%",height:"100%",cursor:"pointer",userSelect:"none","&:hover":{[l.toString()]:{backgroundColor:e.ConstBGInverse4},[c.toString()]:{backgroundColor:e.ConstBGInverse4},[u.toString()]:{backgroundColor:e.ConstBGInverse4}}})),"label:DivPhotoWrapper;"),m=(0,o.Z)("div",{target:"exksjhw5"})({position:"absolute",left:0,right:0,bottom:0},"label:DivPhotoControlWrapper;"),h=(0,o.Z)("div",{target:"exksjhw6"})({display:"flex",position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",height:"36px"},"label:DivPhotoControl;"),g=(0,o.Z)("div",{target:"exksjhw7"})((({theme:{direction:e},index:t})=>[{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:`${r}px`,height:`${r}px`,transition:"all 200ms cubic-bezier(.65, 0, .35, 1)"},(0,n.YJ)({direction:e,start:t*r})]),"label:DivDotWrapper;"),v=(0,o.Z)("div",{target:"exksjhw8"})((({active:e})=>({width:"6px",height:"6px",margin:"3px",borderRadius:"100%",backgroundColor:e?"#fff":"rgba(255, 255, 255, .6)",transition:"all 200ms cubic-bezier(.65, 0, .35, 1)"})),"label:DivDot;")},98461:(e,t,i)=>{"use strict";i.d(t,{f:()=>m});var o=i(71030),n=i(31738),a=i(95245),r=i(74609),s=i(85093),l=i(43340);const d=(0,s.Z)("div",{target:"e1hknyby0"})((({theme:{direction:e,colors:t},isInComment:i})=>Object.assign({position:i?"fixed":"absolute",minWidth:"60px",padding:"0 10px",height:"40px",bottom:i?"114px":"20px",background:t.BGSecondary,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.06)",borderRadius:"52px",cursor:"pointer",zIndex:i?1:""},(0,l.YJ)({direction:e,end:"16px"}))),"label:DivScrollToButtonContainer;"),c=(0,s.Z)("div",{target:"e1hknyby1"})((({theme:{colors:e}})=>({display:"flex",flexDirection:"row",height:"100%",alignItems:"center",justifyContent:"center",color:e.TextPrimary})),"label:DivButton;"),u=(0,s.Z)("div",{target:"e1hknyby2"})((({theme:e})=>[(0,l.GI)({theme:e,fontFamily:"TikTokFont",typography:"P3",fontWeight:"semiBold"}),{lineHeight:"24px",textAlign:"center",fontSize:"16px"},(0,l.YJ)({direction:e.direction,paddingEnd:"6px"})]),"label:DivTextContainer;");var p=i(30036);const m=(0,n.memo)((function({onClick:e,isUp:t,isInComment:i=!1}){const n=(0,p.Q)();return(0,o.jsx)(d,Object.assign({onClick:e,isInComment:i},{children:(0,o.jsxs)(c,{children:[(0,o.jsx)(u,{children:n(i?"pcWeb_detailPage_backTop_btn":"pc_web_browser_nowPlaying")},void 0),t?(0,o.jsx)(a.Z,{size:14},void 0):(0,o.jsx)(r.$,{size:14},void 0)]},void 0)}),void 0)}))},83098:(e,t,i)=>{"use strict";i.d(t,{E9:()=>d,IK:()=>p,L7:()=>h,Lt:()=>L,MY:()=>c,OY:()=>j,P_:()=>g,Q9:()=>w,Sf:()=>_,TX:()=>I,Vn:()=>x,Xj:()=>f,_P:()=>m,fz:()=>u,iT:()=>R,ik:()=>O,j2:()=>C,mx:()=>b,o1:()=>k,oT:()=>P,sL:()=>T,wh:()=>M,zo:()=>D});var o=i(85093),n=i(73512),a=i(67757),r=i(43340),s=i(63727),l=i(19341);const d=(0,o.Z)("div",{target:"e11s2kul0"})((({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.BGPrimary,zIndex:1e3,display:"flex",flexDirection:"row"})),"label:DivBrowserModeContainer;"),c={left:"-80px",right:"-80px",width:"auto"},u={maxWidth:"419px"},p={maxWidth:"419px"},m=(0,o.Z)(l.y,{target:"e11s2kul3"})({position:"absolute",width:"10%",height:"10%",filter:"blur(2px)",left:"50%",top:"50%",transform:"scale(11)",opacity:"0.3"},"label:StyledVideoBlurBackground;"),h=(0,o.Z)("div",{target:"e11s2kul4"})((({isUiOptimise:e})=>({position:e?"absolute":"relative",left:e?0:"",width:"100%",height:"100%",cursor:"pointer",":hover":{[`${s.ov}`]:{opacity:1}},":focus-within":{[`${s.ov}`]:{opacity:1}}})),"label:DivVideoWrapper;"),g=(0,o.Z)(a.Z,{target:"e11s2kul5"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:StyledPlayIcon;");g.defaultProps=Object.assign(Object.assign({},g.defaultProps),{"data-e2e":"browse-video-play"});const v="1px solid blue",y=(0,o.Z)("button",{target:"e11s2kul6"})((({theme:{colors:e}})=>({position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0,"&:focus-visible":{outline:`2px solid ${e.Negative}`}})),(({theme:e,isUiOptimise:t})=>(0,r.ZD)({theme:e,isUiOptimise:t})),"label:ButtonBasicButtonContainer;"),_=(0,o.Z)(y,{target:"e11s2kul7"})((({theme:e,isUiOptimise:t,needOffset:i=!1})=>({width:"40px",height:"40px",top:"20px",transition:"opacity .3s",zIndex:100,backgroundColor:t?"":e.colors.ConstBGContainer,transform:`translateY(${i?16:0}px)`,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,r.YJ)({direction:e,start:"20px"})),"label:StyledCloseIconContainer;");_.defaultProps=Object.assign(Object.assign({},_.defaultProps),{"data-e2e":"browse-close"});const b=(0,o.Z)(y,{target:"e11s2kul8"})((({theme:e,needOffset:t=!1})=>({top:"20px",zIndex:100,backgroundColor:e.colors.ConstBGInverse4,height:"40px",padding:"0 10px",minWidth:"40px",borderRadius:"80px",transform:`translateY(${t?16:0}px)`,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,r.YJ)({direction:e,start:"20px"})),"label:StyledExitCreatorModeIconContainer;"),f=(0,o.Z)("div",{target:"e11s2kul9"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivExitCreatorModeTextContainer;"),x=(0,o.Z)("div",{target:"e11s2kul10"})((({theme:e})=>[(0,r.GI)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont",fontSize:16}),{color:"#fff",height:"24px",textAlign:"center",fontSize:"16px",display:"flex",alignItems:"center",lineHeight:"24px"},(0,r.YJ)({direction:e.direction,paddingStart:"5px"})]),"label:DivExitCreatorModeText;"),k=(0,o.Z)(y,{target:"e11s2kul11"})((({isPrev:e,theme:{colors:t},isUiOptimise:i})=>({width:"40px",height:"40px",transform:e?"rotate(-90deg)":"rotate(90deg)",top:e?"calc(50% - 48px)":"calc(50% + 8px)",marginTop:"-24px",":disabled":{display:"none"},background:i?"":t.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,r.YJ)({direction:e,end:"20px"})),"label:StyledVideoSwitch;"),w=(0,o.Z)("div",{target:"e11s2kul17"})((({theme:e,isUiOptimise:t=!1})=>[(0,r.GI)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{padding:"10px 16px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:e.colors.ConstTextInverse,WebkitAppRegion:"no-drag",":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:v}},(0,r.ZD)({theme:e,isUiOptimise:t}),(0,r.YJ)({direction:e.direction,end:"20px"})]),"label:DivReportText;");w.defaultProps=Object.assign(Object.assign({},w.defaultProps),{"data-e2e":"browse-report"});const C=(0,o.Z)("div",{target:"e11s2kul18"})((({theme:e,isUiOptimise:t=!1})=>[(0,r.GI)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{width:"40px",height:"40px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:e.colors.ConstTextInverse,WebkitAppRegion:"no-drag","&:focus-visible":{outline:v}},(0,r.ZD)({theme:e,isUiOptimise:t}),(0,r.YJ)({direction:e.direction,end:"20px"})]),"label:DivIconWrapper;");C.defaultProps=Object.assign(Object.assign({},C.defaultProps),{"data-e2e":"browse-ellipsis"});const j=(0,o.Z)(n.Z,{target:"e11s2kul19"})((({theme:{direction:e}})=>(0,r.YJ)({direction:e,marginEnd:"5px"})),{verticalAlign:"middle"},"label:StyledIconFlag;"),S=(0,o.Z)("button",{target:"e11s2kul20"})(r.Ph,(({theme:e,widerBottom:t=!1})=>({position:"absolute",bottom:t?"60px":"20px",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}})),(({theme:{direction:e}})=>(0,r.YJ)({direction:e,end:"20px"})),"label:ButtonVoiceControl;");S.defaultProps=Object.assign(Object.assign({},S.defaultProps),{"data-e2e":"browse-sound"});const T=(0,o.Z)("button",{target:"e11s2kul21"})(r.Ph,(({theme:e})=>({display:"flex",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:v}})),(({theme:e,isUiOptimise:t})=>(0,r.ZD)({theme:e,isUiOptimise:t})),"label:ButtonVoiceControlNew;");T.defaultProps=Object.assign(Object.assign({},T.defaultProps),{"data-e2e":"browse-sound"});const P=(0,o.Z)("div",{target:"e11s2kul22"})((({widerBottom:e=!1})=>({position:"absolute",zIndex:1,bottom:e?"60px":"20px"})),(({theme:{direction:e}})=>(0,r.YJ)({direction:e,end:"20px"})),"label:DivVoiceControlContainer;"),I=(0,o.Z)("div",{target:"e11s2kul23"})((({widerBottom:e=!1})=>({position:"absolute",bottom:e?"60px":"20px"})),(({theme:{direction:e}})=>(0,r.YJ)({direction:e,end:"68px"})),"label:DivAutoScrollContainer;"),O=(0,o.Z)("div",{target:"e11s2kul24"})((({theme:{colors:e},isUiOptimise:t=!1})=>({flex:t?"1 0 600px":"1 1 896px",maxWidth:t?"100%":"",background:e.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px"})),"label:DivVideoContainer;"),D=(0,o.Z)("div",{target:"e11s2kul25"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),M=(0,o.Z)("a",{target:"e11s2kul27"})((({theme:{colors:e}})=>({display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"84px",left:"50%",transform:"translateX(-50%)",fontWeight:500,fontSize:"18px",padding:"11.5px 24px",borderRadius:"52px",color:e.ConstTextInverse,background:e.ToastDefault,cursor:"pointer",textDecoration:"none",":hover":{opacity:.7,color:e.ConstTextInverse,textDecoration:"none"},":active":{opacity:.5,color:e.ConstTextInverse,textDecoration:"none"},":visited":{opacity:1,color:e.ConstTextInverse,textDecoration:"none"}})),"label:AAnalyticsWrapper;"),R=(0,o.Z)("div",{target:"e11s2kul28"})((({useNarrowSearchBar:e=!1})=>({position:"absolute",zIndex:1,width:"100%",display:"flex",justifyContent:"center",left:0,right:0,margin:"auto",alignItems:"center",height:"85px",WebkitAppRegion:"no-drag","@media(max-width: 1600px)":{width:e?"50%":"100%"},"@media(max-width: 1300px)":{display:e?"none":"flex"}})),"label:DivSearchBarContainer;"),L=(0,o.Z)("div",{target:"e11s2kul29"})((({useNarrowSearchBar:e=!1})=>({position:"absolute",height:"85px",width:"100%",background:"linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 100%)","@media(max-width: 1600px)":{width:e?"200%":"100%"}})),"label:DivSearchBarBackground;")},39075:(e,t,i)=>{"use strict";i.d(t,{d:()=>S});var o=i(71030),n=i(71928),a=i(99333),r=i(25879),s=i(31738),l=i(30117),d=i(30036),c=i(41115),u=i(88573),p=i(45179),m=i(47294),h=i(85093),g=i(43340),v=i(74564),y=i(22397);const _=(0,h.Z)("div",{target:"e1aa9wve0"})({paddingTop:"18px",height:"50px",display:"flex",flexDirection:"row",alignItems:"center"},"label:DivTabMenuContainer;"),b=(0,h.Z)("div",{target:"e1aa9wve1"})((({isSelected:e=!1,onlyHasOneTab:t=!1,theme:i})=>({borderBottom:!t&&e?`2px solid ${i.colors.TextPrimary}`:"none",width:"50%",height:"100%"})),"label:DivTabItemContainer;"),f=(0,h.Z)("div",{target:"e1aa9wve2"})((({onlyHasOneTab:e,isSelected:t=!1,theme:i})=>[(0,g.GI)({theme:i,fontWeight:t?"bold":"semiBold",typography:"P3",fontFamily:"TikTokFont",color:t?"TextPrimary":"TextTertiaryAlt"}),{overflow:"auto",lineHeight:"24px",cursor:"pointer"},!e&&{textAlign:"center"}]),"label:DivTabItem;"),x=`-${y.i$}px`,k=(0,h.Z)("div",{target:"e1aa9wve3"})((({shouldOptimizeCta:e,theme:{colors:t}})=>({borderTop:`1px solid ${t.LineSecondary}`,marginLeft:e?`-${v.YI}px`:x,marginRight:e?`-${v.YI}px`:x,marginBottom:"-1px"})),"label:DivBorder;"),w=(0,h.Z)("div",{target:"e1aa9wve4"})((({theme:e})=>[{position:"sticky",top:"-28px",background:e.colors.BGPrimary,zIndex:1,marginBottom:`${y.Yh}px`}]),"label:DivTabMenuWrapper;");var C=i(15137),j=i(15220);const S=(0,s.memo)((function(e){var t,i;const h="rtl"===(0,n.u)().direction,g=(0,d.Q)(),{descriptionPart:v,itemId:y,isInCommentList:x=!1,commentTopSearch:S,activeTab:T=0,isCommentDisabled:P,creatorTabDisabled:I,onTabChange:O}=e,{language:D,abTestVersion:M}=null!==(t=(0,C.Lh)((()=>["language","abTestVersion"]),[]))&&void 0!==t?t:{},{allowRightPanelScroll:R,shouldShowCommentsCnt:L}=(0,c.CY)(),[B]=(0,a.b)(p.A,{selector:e=>e[y],dependencies:[y]}),A=(0,a.q)(m.h),F=(0,r.m)(u.z,{selector:e=>{var t;return e.users[null!==(t=null==B?void 0:B.author)&&void 0!==t?t:""]},dependencies:[null==B?void 0:B.author]}),E=(0,j.QR)((e=>e.isCreatorBrowserMode)),{shouldOptimizeCta:Z}=(0,c.CY)(),z=(0,s.useCallback)((e=>t=>{var i,o;t.preventDefault(),T!==e&&O&&O(e),1!==e||E||(A.resetItemList({key:"creator_tab"}),A.getCreatorTabVideoList({secUid:null!==(i=null==F?void 0:F.secUid)&&void 0!==i?i:"",key:"creator_tab",createTime:1e3*Number(null!==(o=null==B?void 0:B.createTime)&&void 0!==o?o:0),fetchType:0,language:null!=D?D:"",abTestVersion:M}),l.r.handleCreatorTabShow({enter_method:"click_creator_tab"}))}),[T,O,E,A,D,M,null==B?void 0:B.createTime,null==F?void 0:F.secUid]);if(x&&1===T||!x&&0===T&&R)return null;const U=0===T,W=1===T,V=P?"":`(${null===(i=null==B?void 0:B.stats)||void 0===i?void 0:i.commentCount})`,N=(0,o.jsxs)(_,Object.assign({isInCommentList:x},{children:[(0,o.jsx)(b,Object.assign({isSelected:U,onlyHasOneTab:I},{children:(0,o.jsx)(f,Object.assign({isSelected:U,onClick:z(0),onlyHasOneTab:I},{children:h?`${V} ${g("fixed_comments")}`:`${g("fixed_comments")} ${V}`}),void 0)}),void 0),!I&&(0,o.jsx)((()=>(0,o.jsx)(b,Object.assign({isSelected:W},{children:(0,o.jsx)(f,Object.assign({isSelected:W,onClick:z(1)},{children:g("pc_web_browser_tabName_creatorVid")}),void 0)}),void 0)),{},void 0)]}),void 0);return!R||W?(0,o.jsxs)(o.Fragment,{children:[N,L&&U&&(0,o.jsx)(k,{shouldOptimizeCta:Z},void 0)]},void 0):(0,o.jsxs)(w,{children:[v,N,U&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k,{shouldOptimizeCta:Z},void 0),S]},void 0)]},void 0)}))},36207:(e,t,i)=>{"use strict";i.d(t,{AD:()=>c,Dl:()=>m,Hr:()=>b,IZ:()=>y,Ii:()=>g,Jf:()=>h,Sn:()=>d,YO:()=>u,_V:()=>_,d8:()=>v,vi:()=>p});var o=i(85093),n=i(43340),a=i(11092),r=i(99065),s=i(61216);const l=({toBackground:e,animationEnd:t})=>t?void 0:s.F4`
  from {
      background: '#54545480';
  } 
  to {
      background: ${e};
      color: white;
  }
`,d=(0,o.Z)("button",{target:"e1s9h68o0"})((({theme:e,toBackground:t,animationEnd:i})=>{const o=i?t:"#54545480",a=i?`linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), ${t} !important`:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #54545480 !important";return[(0,n.GI)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"medium"}),{fontSize:"12px",color:"white",lineHeight:"15.6px",width:"calc(100% - 24px)",margin:"12px",height:"28px",borderRadius:"4px",background:o,border:"none",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:a,cursor:"pointer"},animationName:`${l({toBackground:t,animationEnd:i})}`,animationDelay:"5s",animationDuration:"0.2s",animationTimingFunction:"ease-in-out",animationDirection:"normal",animationIterationCount:1,animationFillMode:"forwards"}]}),"label:StyledButton;"),c=(0,o.Z)(a.Z,{target:"e1s9h68o1"})((({theme:{direction:e}})=>({transform:"rtl"===e?"rotate(180deg)":"none"})),"label:RightArrowIcon;"),u=(0,o.Z)("div",{target:"e1s9h68o2"})((({theme:{direction:e}})=>[(0,n.YJ)({direction:e,start:"20px"}),{position:"absolute",bottom:"20px",width:"242px",background:"#2E2E2E",display:"flex",flexDirection:"column",alignItems:"flex-start;",boxShadow:"0px 2px 12px rgb(0 0 0 / 12%)",borderRadius:"4px",zIndex:1,color:"white","&:hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08)), #2E2E2E",cursor:"pointer"}}]),"label:DivStyledPopupAds;"),p=(0,o.Z)("div",{target:"e1s9h68o3"})({alignItems:"center",display:"flex"},"label:DivAdsProfileContainer;"),m=(0,o.Z)("img",{target:"e1s9h68o4"})((({theme:{direction:e}})=>[{marginTop:"12px",height:"56px",width:"56px"},(0,n.YJ)({direction:e,marginStart:"12px",marginEnd:"8px"})]),"label:ImgAdsAvatarContainer;"),h=(0,o.Z)("div",{target:"e1s9h68o5"})({display:"flex",flexDirection:"column",marginTop:"12px",width:"150px"},"label:DivAdsTextContainer;"),g=(0,o.Z)("div",{target:"e1s9h68o6"})((({theme:e})=>[(0,n.GI)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"medium"}),{fontSize:"15px",lineHeight:"19.5px",marginBottom:"2px"}]),"label:DivAdsTitle;"),v=(0,o.Z)("div",{target:"e1s9h68o7"})((({theme:e})=>[(0,n.GI)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"normal"}),{fontSize:"13px",lineHeight:"16.9px"},(0,n.FC)(2),(0,n.YJ)({direction:e.direction,marginEnd:"12px"})]),"label:DivAdsDescription;"),y=(0,o.Z)("div",{target:"e1s9h68o8"})({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"156px"},"label:DivAdsCommentTurnOffContainer;"),_=(0,o.Z)(r.Z,{target:"e1s9h68o9"})((({theme:{isDark:e}})=>({width:"62px",height:"67.95px",color:e?"#FFFFFF57":"#00000052"})),"label:IconLock;"),b=(0,o.Z)("div",{target:"e1s9h68o10"})((({theme:e})=>[(0,n.GI)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"normal"}),{fontSize:"14px",lineHeight:"18.2px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20px",color:e.isDark?"#FFFFFF99":"#0000008F"}]),"label:DivAdsCommentTurnOffText;")},63727:(e,t,i)=>{"use strict";i.d(t,{$_:()=>l,Am:()=>h,F7:()=>r,FL:()=>d,Gb:()=>m,MT:()=>s,ov:()=>p,yx:()=>a});var o=i(85093),n=i(43340);const a=(0,o.Z)("div",{target:"e1rpry1m0"})({width:"100%",height:"24px",flex:"1 1 auto",position:"relative"},"label:DivSeekBarContainer;"),r=(0,o.Z)("div",{target:"e1rpry1m1"})({flex:"0 0 88px",maxWidth:"88px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"24px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),s=(0,o.Z)("div",{target:"e1rpry1m2"})((({theme:{colors:e}})=>({height:"4px",width:"100%",backgroundColor:e.ConstTextInverse5,position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.Negative}`}})),"label:DivSeekBarProgress;"),l=(0,o.Z)("div",{target:"e1rpry1m3"})((({theme:{direction:e,colors:t}})=>({height:"4px",width:"100%",backgroundColor:t.ConstTextInverse,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left"})),"label:DivSeekBar;"),d=(0,o.Z)("div",{target:"e1rpry1m4"})((({theme:{direction:e}})=>(0,n.YJ)({direction:e})),(({theme:{direction:e}})=>({display:"none",width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",top:"50%",transform:`translate(${"rtl"===e?"50%":"-50%"}, -50%)`,cursor:"pointer",zIndex:1})),"label:DivSeekBarCircle;"),c="calc(100% - 160px)",u="translateX(-50%)",p=(0,o.Z)("div",{target:"e1rpry1m5"})((({show:e,extraBottomSpace:t,isDisplayForAnyWidth:i,isNarrow:o=!1})=>({width:o?"calc(100% - 250px)":c,height:"24px",paddingInline:"16px",position:"absolute",opacity:e?"1":"0",transition:"opacity .3s",bottom:t?"68px":"28px",cursor:"initial",display:"flex",alignItems:"center",left:"50%",transform:u,maxWidth:"56.25vh",[`:hover ${s}`]:{height:"6px"},[`:hover ${l}`]:{height:"6px"},[`:hover ${d}`]:{display:"block"},"@media (max-width: 900px)":{display:i?"":"none"},zIndex:1})),"label:DivVideoControlContainer;"),m=(0,o.Z)("div",{target:"e1rpry1m6"})({width:c,height:"28px",position:"absolute",bottom:0,left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlBottom;"),h=(0,o.Z)("div",{target:"e1rpry1m7"})({width:c,height:"10px",position:"absolute",bottom:"52px",left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlTop;")},38974:(e,t,i)=>{"use strict";i.d(t,{n:()=>r});var o=i(22403),n=i(43549),a=i(32565);let r=class{constructor(e){this.fetch=e,this.postPrivateBannerAck=()=>this.fetch.post("/api/private_banner/ack/")}getVideoPrivateSetting(){return this.fetch.get("/api/compliance/settings/",{baseUrlType:2})}};r=(0,o.__decorate)([(0,n.G)(),(0,o.__metadata)("design:paramtypes",[a.r])],r)},9878:(e,t,i)=>{"use strict";i.d(t,{J:()=>ve});var o=i(22403),n=i(71030),a=i(71928),r=i(25879),s=i(99333),l=i(6156),d=i(31738),c=i(45020),u=i(28972),p=i(32124),m=i(94557),h=i(5858),g=i(76709),v=i(30036),y=i(17560),_=i(71304),b=i(62671),f=i(42786),x=i(52869),k=i(8650),w=i(88573),C=i(45179),j=i(40362),S=i(84951),T=i(85093),P=i(72354),I=i(69988),O=i(64504),D=i(77969),M=i(43340),R=i(23739),L=i(30524);const B=(0,T.Z)("div",{target:"e140z3d00"})({position:"relative",width:400},"label:DivSendMessagePanelContainer;"),A=(0,T.Z)("div",{target:"e140z3d01"})((({theme:{direction:e}})=>[{position:"absolute",top:36,cursor:"pointer"},(0,M.YJ)({direction:e,end:32})]),"label:DivCloseButtonWrapper;"),F=(0,T.Z)("h2",{target:"e140z3d02"})((({theme:e,theme:{direction:t}})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P0",fontWeight:"bold"}),{padding:"32px 0 0"},(0,M.YJ)({direction:t,paddingStart:32,paddingEnd:62})]),"label:H2ModalTitle;"),E=(0,T.Z)("div",{target:"e140z3d03"})((({theme:e})=>({display:"flex",alignItems:"center",width:336,height:36,margin:"24px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGPlaceholderDefault})),"label:DivSearchContainer;"),Z=(0,T.Z)(P.Z,{target:"e140z3d04"})((({theme:{direction:e}})=>[(0,M.YJ)({direction:e,marginStart:16,marginEnd:12})]),"label:StyledMagnifyingGlass;"),z=(0,T.Z)("input",{target:"e140z3d05"})((({theme:e,theme:{colors:t}})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P2"}),{width:240,height:22,border:"none",outline:"none",background:"transparent",color:t.TextPrimary,caretColor:t.Primary,"::placeholder":{color:t.TextTertiary}}]),"label:InputUser;"),U=(0,T.Z)("div",{target:"e140z3d06"})((({theme:{direction:e}})=>[{width:16,height:16,cursor:"pointer"},(0,M.YJ)({direction:e,marginStart:8})]),"label:DivClearButton;"),W=(0,T.Z)("div",{target:"e140z3d07"})({minHeight:200,marginTop:24},"label:DivUserListContainer;"),V=(0,T.Z)("p",{target:"e140z3d08"})((({theme:e})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P1",color:"TextQuaternary"}),{marginTop:74,textAlign:"center"}]),"label:PNoResult;"),N=(0,T.Z)(R.g,{target:"e140z3d09"})({width:36,height:36,margin:"6px auto 12px"},"label:StyledLoading;"),$=(0,T.Z)("p",{target:"e140z3d010"})((({theme:e,theme:{direction:t}})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P4",color:"TextTertiary"}),{marginBottom:4,fontSize:"13px"},(0,M.YJ)({direction:t,marginStart:32})]),"label:PUserTitle;"),q=(0,T.Z)("div",{target:"e140z3d011"})((({long:e,isSearching:t})=>({position:"relative",boxSizing:"border-box",overflowY:"auto",width:"100%",minHeight:t?e?578:472:200,maxHeight:e?578:472,paddingBottom:e?210:102,"::-webkit-scrollbar":{display:"none"}})),"label:DivUserListInnerContainer;"),G=(0,T.Z)("div",{target:"e140z3d012"})((({theme:e})=>({boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"8px 32px",cursor:"pointer",":hover":{backgroundColor:e.colors.BGView}})),"label:DivUserItemContainer;"),H=(0,T.Z)("div",{target:"e140z3d013"})({display:"flex",flex:1,alignItems:"center",height:48},"label:DivUserItem;"),Q=(0,T.Z)("div",{target:"e140z3d014"})((({theme:{direction:e}})=>(0,M.YJ)({direction:e,marginStart:12})),"label:DivRightPart;"),Y=(0,T.Z)("div",{target:"e140z3d015"})([{display:"flex",alignItems:"center"}],"label:DivNicknameContainer;"),K=(0,T.Z)("span",{target:"e140z3d016"})((({theme:e})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P1",fontWeight:"bold"}),{maxWidth:220},M.wj]),"label:SpanNickname;"),J=(0,T.Z)(I.Z,{target:"e140z3d017"})((({theme:{direction:e}})=>[{flexShrink:0},(0,M.YJ)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),X=(0,T.Z)("p",{target:"e140z3d018"})((({theme:e})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextTertiary"}),{maxWidth:240,marginTop:2},M.wj]),"label:PUniqueId;"),ee=(0,T.Z)("div",{target:"e140z3d019"})((({theme:{direction:e}})=>[{flexShrink:0,width:22,height:22},(0,M.YJ)({direction:e,marginStart:12})]),"label:DivCheckboxContainer;"),te=(0,T.Z)("div",{target:"e140z3d020"})((({theme:{colors:e}})=>({position:"absolute",bottom:0,left:0,right:0,padding:"12px 32px 32px 32px",backgroundColor:e.BGPrimary,borderRadius:"0 0 8px 8px",":before":{position:"absolute",top:0,left:0,right:0,content:'""',transform:"scaleY(.5)",width:"100%",height:1,backgroundColor:e.LineReverse2}})),"label:DivSendContainer;"),ie=(0,T.Z)(L.W,{target:"e140z3d021"})({width:336,height:46,marginTop:12},"label:StyledSendButton;"),oe=(0,T.Z)("div",{target:"e140z3d022"})({display:"flex",marginTop:12},"label:DivMessageContainer;"),ne=(0,T.Z)("textarea",{target:"e140z3d023"})((({theme:e,theme:{direction:t,colors:i}})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P2"}),{display:"block",width:268,height:98,border:"none",resize:"none",outline:"none",wordBreak:"break-word",overflowWrap:"break-word",backgroundColor:i.BGPrimary,color:i.TextPrimary,caretColor:i.Primary,"::placeholder":{color:i.TextTertiary}},(0,M.YJ)({direction:t,marginEnd:12})]),"label:Textarea;"),ae=(0,T.Z)("img",{target:"e140z3d024"})({width:56,height:74},"label:ImgCover;"),re=(0,T.Z)("div",{target:"e140z3d025"})((({theme:e,theme:{direction:t}})=>[{display:"flex",alignItems:"center",width:336,padding:"12px 0 12px",margin:"16px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGView},(0,M.YJ)({direction:t,paddingStart:16,paddingEnd:4})]),"label:DivTipContainer;"),se=(0,T.Z)(O.Z,{target:"e140z3d026"})({width:24,height:24,flexShrink:0},"label:StyledPersonArrowLeftRight;"),le=(0,T.Z)(D.Z,{target:"e140z3d027"})({width:24,height:24,flexShrink:0},"label:StyledTwoPerson;"),de=(0,T.Z)("div",{target:"e140z3d028"})((({theme:{colors:e}})=>({width:24,height:24,flexShrink:0,fontSize:"24px",color:e.TextSecondary})),"label:DivSubOnlyTagContainer;"),ce=(0,T.Z)("p",{target:"e140z3d029"})((({theme:e,theme:{direction:t}})=>[(0,M.GI)({theme:e,fontFamily:"TikTokFont",typography:"P4",color:"TextSecondary"}),{fontSize:"13px"},(0,M.YJ)({direction:t,marginStart:12})]),"label:PTip;");var ue=i(72914),pe=i(51003),me=i(66943);const he=(0,d.forwardRef)((function({uniqueId:e,isSelected:t=!1,searchValue:i="",selectedCount:o,onUserSelected:a},s){const l=(0,r.m)(w.z,{selector:t=>t.users[e],dependencies:[e]}),c=(0,d.useRef)(null);(0,d.useImperativeHandle)(s,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=c.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}})),[]);const u=(0,d.useCallback)((()=>{o>=15&&!t||a(l,!t)}),[t,l,o,a]),{avatarThumb:p,nickname:m="",verified:h}=(0,me.m7)(l),g=m.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()),v=-1===g?0:i.length;if(!e||!l)return null;const y=m.slice(0,g),_=m.slice(g,g+v),b=m.slice(g+v);return(0,n.jsxs)(G,Object.assign({ref:c,onClick:u},{children:[(0,n.jsxs)(H,{children:[(0,n.jsx)(ue.q,{size:48,src:p},void 0),(0,n.jsxs)(Q,{children:[(0,n.jsxs)(Y,{children:[(0,n.jsx)(K,{children:(0,n.jsxs)("span",{children:[y,(0,n.jsx)("span",Object.assign({style:{color:"#fe2c55"}},{children:_}),void 0),b]},void 0)},void 0),h&&(0,n.jsx)(J,{width:14,height:14,style:{verticalAlign:"middle",marginLeft:4}},void 0)]},void 0),(0,n.jsx)(X,{children:e},void 0)]},void 0)]},void 0),(0,n.jsx)(ee,{children:(0,n.jsx)(pe.X,{size:22,isCircle:!1,value:t},void 0)},void 0)]}),void 0)}));var ge;!function(e){e.RECENT="recent",e.FOLLOWING="following"}(ge||(ge={}));const ve=(0,d.memo)((function({visible:e,videoId:t,onClose:i,onKeyDown:T}){const P=(0,v.Q)(),I=(0,r.m)(k.G,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.user}}),O=(0,r.m)(C.A,{selector:e=>e[t],dependencies:[t]}),{video:D,forFriend:M,author:R="",authorId:L="",subVideoMeta:G}=(0,d.useMemo)((()=>null!=O?O:{}),[O]),[H,Q]=(0,s.b)(w.z,{selector:e=>e.users[R],dependencies:[t]}),{privateAccount:Y,nickname:K}=(0,d.useMemo)((()=>null!=H?H:{}),[H]),[{recentUserList:J,recentUserNameList:X,recentUidList:ee,followingUser:ue,isFollowingLoading:pe,isSendMessageLoading:me},ge]=(0,s.b)(S.O),ve=(0,l.fz)(m.p),ye=(0,d.useRef)({recent:!1,following:!1}),_e=(0,d.useRef)({recent:{list:[],hasShown:[]},following:{list:[],hasShown:[]}}),be=(0,d.useCallback)(((e,t)=>i=>{_e.current[t].list[e]=i}),[]),{isRTL:fe}=(0,x.Y)(),{colors:xe}=(0,a.u)(),[ke,we]=(0,d.useState)(""),[Ce,je]=(0,d.useState)(""),[Se,Te]=(0,d.useState)([]),[Pe,Ie]=(0,d.useState)([]),[Oe,De]=(0,d.useState)([]),Me=Se.length,Re=J.length,{list:Le,nicknameList:Be,uidList:Ae,hasMore:Fe}=ue,Ee=Le.length,Ze=Me>0,ze=""!==ke,Ue=Y||M||Boolean(G);(0,d.useEffect)((()=>{e||(we(""),je(""),Te([]),ge.setSendMessageStatus({isFailed:!1,isLoading:!1}))}),[e,ge]),(0,d.useEffect)((()=>{if(!Ee&&Fe){if(I){const{uid:e,avatarUri:t,nickName:i}=I,n=(0,o.__rest)(I,["uid","avatarUri","nickName"]),a=Object.assign({id:e,nickname:i,verified:!1,relation:0,avatarThumb:t[0],avatarMedium:t[0],avatarLarger:t[0]},n);Q.setUser(a),ge.updateFollowingUserList({list:[I.uniqueId],nicknameList:[i],uidList:[e],hasMore:!0,maxCursor:0,minCursor:0})}ge.getFollowingUserListWithCanShare({count:90})}}),[]),(0,d.useEffect)((()=>{Promise.resolve().then((()=>{const e=_e.current.recent,t=_e.current.following;if(Re&&!ye.current.recent&&(ye.current.recent=!0,J.slice(0,5).forEach(((t,i)=>{var o,n;(null!==(n=null===(o=e.list[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:1/0)<354&&(h.R.handleShareHeadShow({user_type:"recent",rank_index:i,is_self:t===(null==I?void 0:I.uniqueId)?1:0,to_user_id:ee[i]}),e.hasShown[i]=!0)}))),Ee&&!ye.current.following){if(1===Ee&&Fe)return;ye.current.following=!0,Le.slice(0,5).forEach(((e,i)=>{var o,n;(null!==(n=null===(o=t.list[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:1/0)<354&&(h.R.handleShareHeadShow({user_type:"following",rank_index:i,is_self:e===(null==I?void 0:I.uniqueId)?1:0,to_user_id:Ae[i]}),t.hasShown[i]=!0)}))}})).catch((()=>{}))}),[null==I?void 0:I.uniqueId,Le,Ee,J,Re,ee,Ae,Fe]),(0,d.useEffect)((()=>{if(!ke)return;const e=[],t=[],i=ke.toLocaleLowerCase();X.forEach(((t,o)=>{(t.toLocaleLowerCase().indexOf(i)>-1||J[o].toLocaleLowerCase().indexOf(i)>-1)&&e.push(J[o])})),Be.forEach(((o,n)=>{e.indexOf(Le[n])<0&&(o.toLocaleLowerCase().indexOf(i)>-1||Le[n].toLocaleLowerCase().indexOf(i)>-1)&&t.push(Le[n])})),Ie(e),De(t)}),[ke,X,J,Le,Be]);const We=(0,d.useCallback)((()=>{i()}),[i]),Ve=(0,y.K$)(O),Ne=(0,d.useCallback)(((e,t)=>{var i;if(t)e&&Te([...Se,e]),ve.handleShare(Object.assign({platform:"chat_head",group_id:D.id,author_id:L,poi_id:null===(i=null==O?void 0:O.poi)||void 0===i?void 0:i.id,is_sub_only_video:G?1:0},Ve));else{let t=-1;Se.some(((i,o)=>i.uniqueId===(null==e?void 0:e.uniqueId)&&(t=o,!0))),t>-1&&(Se.splice(t,1),Te([...Se]))}}),[Se,ve,D.id,L,O]),$e=(0,d.useCallback)((e=>{const{value:t}=e.target;we(t)}),[]),qe=(0,d.useCallback)((()=>{h.R.handleSearchContact()}),[]),Ge=(0,d.useCallback)((()=>{we("")}),[]),He=(0,d.useCallback)((e=>{const{value:t}=e.target;je(t)}),[]),Qe=function({selectedUserList:e,messageText:t,videoId:i}){const[{conversationMap:o},n]=(0,s.b)(S.O),a=(0,r.m)(k.G,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.user}}),l=(0,r.m)(C.A,{selector:e=>e[i],dependencies:[i]});return(0,d.useCallback)((()=>{var r;const{authorId:s="",nickname:d,authorSecId:c,avatarThumb:u,video:p}=null!=l?l:{},m=[];let g=!1;e.forEach((e=>{(null==e?void 0:e.id)===(null==a?void 0:a.uid)&&(g=!0),m.push(null==e?void 0:e.id)})),h.R.handleShareVideoToChat({platform:"chat_head",is_self:g?1:0,group_id:null!==(r=null==p?void 0:p.id)&&void 0!==r?r:"",author_id:s,is_with_text:t.trim()?1:0,chat_cnt:e.length,to_user_id:String(m)}),n.setSendMessageStatus({isLoading:!0,isFailed:!1}),e.forEach((e=>{var a;const{id:r,relation:l}=e,m=Boolean(null==o?void 0:o[r]),h=null===(a=null==o?void 0:o[r])||void 0===a?void 0:a.id;n.sendMessage({convId:h,uid:r,relation:l,type:8,content:{aweType:800,itemId:i,uid:s,secUID:c,content_thumb:{url_list:[u],uri:u},content_name:d,cover_url:{url_list:[null==p?void 0:p.cover],uri:null==p?void 0:p.cover},cover_width:null==p?void 0:p.width,cover_height:null==p?void 0:p.height},hasConversation:m}),t.trim()&&n.sendMessage({convId:h,uid:r,relation:l,type:7,content:{aweType:0,text:t},hasConversation:m})}))}),[l,e,t,n,null==a?void 0:a.uid,o,i])}({selectedUserList:Se,messageText:Ce,videoId:t});!function({selectedUserList:e,messageText:t,handleSuccess:i,isRTL:o}){const n=(0,v.Q)(),[{isSendMessageFailed:a,successSentMessageCount:r},l]=(0,s.b)(S.O),c=e.length;(0,d.useEffect)((()=>{var s,d,u,p;if(a&&(j.h.open({content:n("support_webapp_sharing_error_message"),duration:3,widthType:"half",getContainer:_.Z,getContainerPosition:"fixed"}),l.setSendMessageStatus({isLoading:!1,isFailed:!1,successCount:0})),0!==r&&r===c*(t.trim()?2:1)){const t=null!==(d=null===(s=e[c-1])||void 0===s?void 0:s.nickname)&&void 0!==d?d:"",a=null!==(p=null===(u=e[c-2])||void 0===u?void 0:u.nickname)&&void 0!==p?p:"";switch(c){case 1:j.h.open({content:n("support_webapp_sharing_sent_toast_1",{username:t}),type:"success",duration:3,widthType:"half",isRTL:o,getContainer:_.Z,getContainerPosition:"fixed"});break;case 2:j.h.open({content:n("support_webapp_sharing_sent_toast_2",{username:t,username2:a}),type:"success",duration:3,widthType:"half",isRTL:o,getContainer:_.Z,getContainerPosition:"fixed"});break;default:j.h.open({content:n("support_webapp_sharing_sent_toast_3",{username:t,number:c-1}),type:"success",duration:3,widthType:"half",isRTL:o,getContainer:_.Z,getContainerPosition:"fixed"})}l.setSendMessageStatus({isLoading:!1,successCount:0}),i()}}),[a,r,e,t,c,n,l,i,o])}({selectedUserList:Se,messageText:Ce,handleSuccess:()=>{i()},isRTL:fe});const Ye=(0,g.fB)((e=>{if(ze)return;const t=e.target,{scrollHeight:i,scrollTop:o,clientHeight:n}=t;i-o===n&&!pe&&Fe&&ge.getFollowingUserListWithCanShare({count:30});const a=_e.current.recent,r=_e.current.following;a.list.forEach(((e,t)=>{var i;a.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<o+n&&(h.R.handleShareHeadShow({user_type:"recent",rank_index:t,is_self:J[t]===(null==I?void 0:I.uniqueId)?1:0,to_user_id:ee[t]}),a.hasShown[t]=!0)})),r.list.forEach(((e,t)=>{var i;r.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<o+n&&(h.R.handleShareHeadShow({user_type:"following",rank_index:t,is_self:Le[t]===(null==I?void 0:I.uniqueId)?1:0,to_user_id:Ae[t]}),r.hasShown[t]=!0)}))}),[pe,Fe,ge,J,null==I?void 0:I.uniqueId,Le,ze,ee,Ae],100),Ke=(0,d.useCallback)(((e,t,i)=>{const o=Se.some((t=>t.uniqueId===e));return(0,n.jsx)(he,{uniqueId:e,isSelected:o,searchValue:ke,selectedCount:Me,onUserSelected:Ne,ref:be(t,i)},t)}),[ke,Me,Se,be,Ne]),Je=(0,_.Z)();return(0,d.useEffect)((()=>{Je.addEventListener("keydown",(e=>{null==T||T(e)}))}),[T,Je]),(0,n.jsx)(b.u_,Object.assign({parentRef:Je,visible:e,maskCloseable:!1},{children:(0,n.jsx)(B,{children:(0,n.jsxs)(f.S,Object.assign({isMobile:!1},{children:[(0,n.jsx)(A,Object.assign({onClick:We},{children:(0,n.jsx)(u.Z,{width:24,height:24},void 0)}),void 0),(0,n.jsx)(F,{children:P("support_webapp_sharing_option_button")},void 0),(()=>{if(!Ue)return null;let e=(0,n.jsx)(le,{fill:xe.TextSecondary},void 0),t="support_webapp_sharing_toast_2";return M?(e=(0,n.jsx)(se,{fill:xe.TextSecondary},void 0),t="support_webapp_sharing_toast_1"):G&&(e=(0,n.jsx)(de,{children:(0,n.jsx)(c.H,{},void 0)},void 0),t="subVideo_share_note"),(0,n.jsxs)(re,{children:[e,(0,n.jsx)(ce,{children:P(t,{username:K})},void 0)]},void 0)})(),(0,n.jsxs)(E,{children:[(0,n.jsx)(Z,{width:24,height:24,fill:ze?xe.TextPrimary:xe.TextReverse4},void 0),(0,n.jsx)(z,{value:ke,placeholder:P("support_webapp_sharing_searchbar_ghosttext"),onChange:$e,onClick:qe},void 0),ze&&(0,n.jsx)(U,Object.assign({onClick:Ge},{children:(0,n.jsx)(p.Z,{width:16,height:16,fill:xe.TextReverse4},void 0)}),void 0)]},void 0),(0,n.jsx)(W,{children:(0,n.jsx)(q,Object.assign({long:Ze,isSearching:ze,onScroll:Ye},{children:(()=>{if(ze){const e=Pe.length>0||Oe.length>0;return(0,n.jsxs)(n.Fragment,{children:[Pe.map(((e,t)=>Ke(e,t,"recent"))),Oe.map(((e,t)=>Ke(e,t,"following"))),!e&&(0,n.jsx)(V,{children:P("support_webapp_sharing_search_results")},void 0)]},void 0)}return(0,n.jsxs)(n.Fragment,{children:[0!==Re&&(0,n.jsx)($,{children:P("support_webapp_sharing_recent")},void 0),J.map(((e,t)=>Ke(e,t,"recent"))),(0,n.jsx)($,Object.assign({style:{marginTop:Re?12:0}},{children:P("support_webapp_sharing_following")}),void 0),Le.map(((e,t)=>Ke(e,t,"following"))),pe&&(0,n.jsx)(N,{},void 0)]},void 0)})()}),void 0)},void 0),(0,n.jsxs)(te,{children:[Ze&&(0,n.jsxs)(oe,{children:[(0,n.jsx)(ne,{value:Ce,placeholder:P("support_webapp_sharing_write_a_message"),maxLength:6e3,onChange:He},void 0),(0,n.jsx)(ae,{src:null==D?void 0:D.cover},void 0)]},void 0),(0,n.jsxs)(ie,Object.assign({buttonTheme:"primary",disabled:!Ze,onClick:Qe,loading:me},{children:[P("support_webapp_sharing_send_button"),Me>1?`(${Me})`:""]}),void 0)]},void 0)]}),void 0)},void 0)}),void 0)}))},67221:(e,t,i)=>{"use strict";i.d(t,{HT:()=>y,Mc:()=>o,Tl:()=>v,cc:()=>g,pK:()=>h});var o,n=i(99333),a=i(25879),r=i(31738),s=i(52201),l=i(94159),d=i(87567),c=i(22940),u=i(59477),p=i(30478),m=i(30036);!function(e){e.KEP="discover",e.Find="find",e.Channel="channel"}(o||(o={}));const h=(e,t,i)=>{if(!e||e===t)return;const o=`${s.o}/${i}/${e}${location.search}`,n=Object.assign(Object.assign({},history.state),{as:o});window.history.replaceState(n,"format_kap_page",o)},g=({keyword:e,relatedWordList:t})=>{const i=(0,m.Q)();return(0,r.useMemo)((()=>{const o=e.replace(/-/g," "),n=`${i("seo_serp_expansion_num1",{expansion_keywords:o})}`,a=(0,l.Kf)(t);return`${n}${a?` ${i("seo_aggre_metadesc2",{related_search_keywords:a})}`:""}`}),[e,i,t])};function v(e){const{pageType:t,topic:i,language:o="en"}=e,a=(0,n.q)(u.q);(0,r.useEffect)((()=>{a.setFeedSEOProps({pageType:t,topic:i,language:o})}),[a,t,i,o])}function y(){const e=(0,a.m)(p.T,{selector:e=>e.abtest,dependencies:[]});return(0,d.th)((e=>e.abtest),{equalityFn:c.wU})||e}},89598:(e,t,i)=>{"use strict";i.d(t,{fp:()=>w,Lb:()=>k,vq:()=>j,ny:()=>C,Od:()=>I,IG:()=>T});var o=i(43226),n=i.n(o),a=i(59271),r=i(9408),s=i(34802),l=i(67303),d=i(2468),c=i(98312),u=i(73076),p=i(89173),m=i(648),h=i(8862),g=i(64579),v=i(52226),y=i(48984),_=i(99014),b=i(71304),f=i(71030);let x=0;const k={copy:"copy",whatsapp:"whatsapp",facebook:"facebook",twitter:"twitter",reddit:"reddit",pinterest:"pinterest",vk:"vk",sms:"sms",embed:"embed",telegram:"telegram",line:"line",linkedin:"linkedin",email:"email",message:"message"},w=Object.assign(Object.assign({},k),{viber:"viber",kakaotalk:"kakaotalk",messenger:"messenger"}),C={facebook:"{Share to} Facebook",pinterest:"{Share to} Pinterest",twitter:"{Share to} Twitter",copy:"{copy_link}",embed:"{embed}",whatsapp:"{Share to} WhatsApp",reddit:"{Share to} Reddit",vk:"{Share to} VK",sms:"{Share to} Sms",telegram:"{Share to} Telegram",line:"{Share to} Line",linkedin:"{Share to} LinkedIn",email:"{Share to} Email",message:"{support_webapp_sharing_option_button}"},j={facebook:r.Z,pinterest:s.Z,twitter:l.Z,copy:d.Z,embed:c.Z,whatsapp:u.Z,reddit:p.Z,vk:m.Z,telegram:h.Z,line:g.Z,linkedin:v.Z,email:y.Z,message:_.Z,sms:function({width:e="1em",height:t="1em",style:i={}}){return x++,(0,f.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i},{children:[(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0002 47.001C36.7028 47.001 47.0002 36.7035 47.0002 24.001C47.0002 11.2984 36.7028 1.00098 24.0002 1.00098C11.2977 1.00098 1.00024 11.2984 1.00024 24.001C1.00024 36.7035 11.2977 47.001 24.0002 47.001Z",fill:`url(#sms_icon_paint0_linear_${x})`},void 0),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.6501 23.569C36.6501 29.3645 30.9865 34.0628 24.0001 34.0628C23.1537 34.0628 22.3267 33.9938 21.5269 33.8623C20.826 33.7948 20.4086 33.8602 19.689 34.0827C19.4224 34.1652 19.1109 34.3318 18.7539 34.5226C17.9542 34.9503 16.9262 35.5 15.6626 35.5C15.6388 35.5 15.7188 35.4207 15.8558 35.285C16.3095 34.8358 17.3876 33.7682 17.3876 32.9125V32.5167C13.7656 30.6708 11.3501 27.3539 11.3501 23.569C11.3501 17.7735 17.0137 13.0753 24.0001 13.0753C30.9865 13.0753 36.6501 17.7735 36.6501 23.569Z",fill:"white"},void 0),(0,f.jsx)("defs",{children:(0,f.jsxs)("linearGradient",Object.assign({id:`sms_icon_paint0_linear_${x}`,x1:"73.7964",y1:"64.0399",x2:"58.9088",y2:"-4.65515",gradientUnits:"userSpaceOnUse"},{children:[(0,f.jsx)("stop",{stopColor:"#43E6A2"},void 0),(0,f.jsx)("stop",{offset:"1",stopColor:"#18D037"},void 0)]}),void 0)},void 0)]}),void 0)}},S="copy";function T({platform:e,url:t,targetDOM:i}){switch(e){case"facebook":return(0,a.stringifyUrl)({url:"https://www.facebook.com/sharer/sharer.php",query:{u:t,display:"popup",sdk:"joey"}});case"twitter":return(0,a.stringifyUrl)({url:"https://twitter.com/intent/tweet",query:{refer_source:t,text:t}});case"pinterest":return(0,a.stringifyUrl)({url:"https://pinterest.com/pin/create/button/",query:{url:t,media:"https://lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/mtact/static/images/share_img.png",desc:t}});case"whatsapp":return(0,a.stringifyUrl)({url:"https://wa.me/",query:{text:t}});case"reddit":return(0,a.stringifyUrl)({url:"https://www.reddit.com/submit",query:{url:t}});case"vk":return(0,a.stringifyUrl)({url:"https://vk.com/share.php",query:{url:t}});case"copy":return function(){var e;const o=document.createElement("input");let n=!1;o.style.fontSize="16px",i?i.appendChild(o):(null!==(e=document[null===b.H||void 0===b.H?void 0:b.H.fullscreenElement])&&void 0!==e?e:document.body).appendChild(o),o.value=t||"",o.select(),o.setSelectionRange(0,t.length),document.execCommand&&document.execCommand(S),o.remove()};case"telegram":return(0,a.stringifyUrl)({url:"https://t.me/share/url",query:{url:t,text:t}});case"line":return(0,a.stringifyUrl)({url:"https://lineit.line.me/share/ui",query:{url:t,text:t}});case"linkedin":return(0,a.stringifyUrl)({url:"https://www.linkedin.com/sharing/share-offsite",query:{url:t}});case"email":return(0,a.stringifyUrl)({url:"mailto:",query:{subject:t,body:t}});case"embed":case"message":return n();default:return"#"}}const P={pc:{US:["copy","sms","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","facebook","twitter","embed"],UA:["copy","whatsapp","vk","facebook","twitter","embed"],JP:["copy","twitter","facebook","whatsapp","embed"],default:["copy","whatsapp","facebook","twitter","embed"]},mobile:{US:["copy","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","sms","facebook","twitter","embed"],UA:["copy","whatsapp","vk","sms","facebook","twitter","embed"],JP:["copy","twitter","facebook","sms","whatsapp","embed"],default:["copy","whatsapp","sms","facebook","twitter","embed"]}};function I({region:e,isMobile:t=!1}){const i=t?"mobile":"pc";return P[i][e]||P[i].default}var O;!function(e){e[e.Video=0]="Video",e[e.Creator=1]="Creator",e[e.Music=2]="Music",e[e.Tag=3]="Tag"}(O||(O={}))},82509:(e,t,i)=>{"use strict";i.d(t,{UI:()=>h,V7:()=>m,gL:()=>u,gR:()=>c,j4:()=>p});var o=i(25879),n=i(25129),a=i(47248),r=i(88573),s=i(45179);const l="https://www.tiktok.com";function d(e){const t={"<":"&lt",">":"&gt;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"};let i=`(${Object.keys(t).toString()})`;i=i.replace(/,/g,")|(");const o=new RegExp(i,"g");return e.replace(o,(e=>t[e]))}function c(e){var t,i,c;const u=(0,o.m)(s.A,{selector:t=>t[e],dependencies:[e]}),p=(0,o.m)(r.z,{selector:e=>{var t;return e.users[null!==(t=null==u?void 0:u.author)&&void 0!==t?t:""]},dependencies:[null==u?void 0:u.author]}),{music:m,textExtra:h,desc:g}=null!=u?u:{},{uniqueId:v="",secUid:y}=null!=p?p:{},_=null!==(t=null==m?void 0:m.title)&&void 0!==t?t:"",b=null!==(i=null==m?void 0:m.id)&&void 0!==i?i:"",f=null!==(c=null==m?void 0:m.authorName)&&void 0!==c?c:"",x=(0,n.ylP)({uniqueId:v,secUid:y}),k=(0,n.MB)({musicName:_,musicId:b}),w=(0,a.YA)()(u),C=_.replace(`- ${f}`,"")+(f?` - ${f}`:""),j=`${l}${x.split("?")[0]}`,S=`${l}${k.split("?")[0]}`,T=`${l}${w.split("?")[0]}`,P=`${l}/embed.js`,I=`@${v}`,O=`♬ ${d(C)}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${T}"\n      data-video-id="${e}" style="max-width: 605px;min-width: 325px;" >\n      <section>\n          <a target="_blank" title="${I}" href="${j}?refer=embed">${I}</a>\n          ${function(e,t=[]){return t.length?[...t].sort(((e,t)=>e.start-t.start)).reduce(((t,i,o,a)=>{const{start:r,end:s,hashtagName:c,type:u}=i,p=0===o?0:a[o-1].end,m=r,h=e.substring(p,m);h&&(t+=d(h));const g=e.substring(r,s);return t+(1===u&&c?`<a title="${c}" target="_blank" href="${l}${(0,n.JDm)({tagName:c})}?refer=embed">${d(g)}</a>`:d(g))}),""):`<p>${d(e)}</p>`}(null!=g?g:"",h)}\n          <a target="_blank" title="${O}" href="${S}?refer=embed">${O}</a>\n      </section>\n    </blockquote>\n    <script async src="${P}"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function u(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${l}/@${e}"\n      data-unique-id="${e}"\n      data-embed-type="creator" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${l}/@${e}?refer=creator_embed">@${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${l}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function p(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${l}/tag/${e}"\n      data-tag-id="${e}"\n      data-embed-type="tag" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${l}/tag/${e}?refer=tag_embed">#${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${l}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function m(e,t,i){if(!e||!t)return;const o=(0,n.MB)({musicName:e,musicId:t}),a=o.split("/")[2],r=`${l}${o.split("?")[0]}`,s=`♬ ${e} - ${null!=i?i:""}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${l}${o}"\n      data-music-id="${a}"\n      data-embed-from="embed"\n      data-embed-type="music" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" title="${s}" href="${r}?refer=music_embed">${s}</a>\n      </section>\n    </blockquote>\n    <script async src="${l}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function h(e){return`?lang=${e}&embedFrom=webapp_preview`}},98102:(e,t,i)=>{"use strict";i.d(t,{JW:()=>p,c1:()=>m});var o,n=i(99333),a=i(31738),r=i(5909),s=i(46405),l=i(15137),d=i(37071),c=i(19548),u=i(41115);function p(){var e;const{region:t=""}=null!==(e=(0,l.Lh)((()=>["region"]),[]))&&void 0!==e?e:{},i=(0,n.q)(c.N);return(0,a.useCallback)((()=>{i.initShareSettings({isMobile:!1,region:t})}),[t,i])}function m(){const{isBrowserModeShowing:e}=(0,a.useContext)(d._),{pathname:t}=(0,r.TH)(),{shouldOptimizeCta:i}=(0,u.CY)();return(0,a.useMemo)((()=>{const o=((0,s.bf)(t)||(0,s.Dj)(t)||(0,s.ws)(t)||(0,s.Qu)(t)||(0,s.u7)(t)||(0,s.wy)(t))&&!e,n=(0,s.oC)(t)||(0,s.Io)(t)||(0,s.FZ)(t)||(0,s.cQ)(t);let a="none";return e?a=i?"short":"expand":(o||n)&&(a="short"),{additionShareOptions:!0,expanded:a}}),[t,e,i])}!function(e){e.None="none",e.Simple="short",e.Expanded="expand"}(o||(o={}))},19548:(e,t,i)=>{"use strict";i.d(t,{N:()=>f});var o=i(22403),n=i(98279),a=i(3312),r=i(82790),s=i(82941),l=i(28952),d=i(17620),c=i(55823),u=i(8460),p=i(35380),m=i(80986),h=i(32565),g=i(35180),v=i(89598),y=i(43549),_=i(90950);let b=class{get Kakao$(){return window.Kakao?(0,s.of)(null):new l.y((e=>{i.e(2680).then(i.t.bind(i,22680,23)).then((()=>{window.Kakao.init("4954e33ea2a4395e59ecbc20761bd889"),e.next(),e.complete()})).catch((t=>{console.error(t),e.next(),e.complete()}))}))}share(e){return this.Kakao$.pipe((0,_.z)((()=>new l.y((t=>{window.Kakao.Share.sendScrap({requestUrl:e,callback:()=>{t.next(),t.complete()}})})))),(0,m.K)((()=>(0,s.of)(null))))}};b=(0,o.__decorate)([(0,y.G)()],b);let f=class extends n.D{constructor(e,t){super(),this.fetch=e,this.kakaoSdk=t,this.defaultState={platforms:null,platformsForAdditionOnly:null,isFlip:!1,loading:!1}}setPlatforms(e,t){e.platforms=t}setLoading(e,t){e.loading=t}setIsFlip(e,t){e.isFlip===t||t&&!function(){var e;const t=g.l_.getItem("flip_timestamp"),i=(null!==(e=g.l_.getItem("flip_count"))&&void 0!==e?e:0)+1,o=(new Date).setHours(0,0,0,0);return!(t&&t===o&&i>7||(g.l_.setItem("flip_timestamp",o),g.l_.setItem("flip_count",i),0))}()||(e.isFlip=t)}handleKakaoShare(e){return e.pipe((0,d.z)((({requestUrl:e})=>this.kakaoSdk.share(e).pipe((0,c.U)((()=>this.getActions().setLoading(!1))),(0,u.O)(this.getActions().setLoading(!0))))))}initShareSettings(e){return e.pipe((0,p.M)(this.state$),(0,d.z)((([e,{platforms:t}])=>t?(0,s.of)(this.getActions().setPlatforms(t)):this.fetch.get("/api/share/settings/",{query:{device_platform:e.isMobile?"webapp_mobile":"webapp_pc",mode:1}}).pipe((0,c.U)((({status_code:t,share_platforms:i})=>{if(0===t&&(null==i?void 0:i.length)){const t=i.map((({platform_id:e})=>e)).filter((t=>{return i=t,e.isMobile?i in v.fp:i in v.Lb;var i}));return this.getActions().setPlatforms(t)}return this.getActions().setPlatforms((0,v.Od)(e))})),(0,u.O)(this.getActions().setPlatforms([])),(0,m.K)((()=>(0,s.of)(this.getActions().setPlatforms((0,v.Od)(e)))))))))}};(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],f.prototype,"setPlatforms",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],f.prototype,"setLoading",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],f.prototype,"setIsFlip",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.y]),(0,o.__metadata)("design:returntype",l.y)],f.prototype,"handleKakaoShare",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.y]),(0,o.__metadata)("design:returntype",l.y)],f.prototype,"initShareSettings",null),f=(0,o.__decorate)([(0,r.Y)("TTShare"),(0,o.__metadata)("design:paramtypes",[h.r,b])],f)},18644:(e,t,i)=>{"use strict";i.d(t,{mB:()=>ue});var o=i(22403),n=i(71030),a=i(71928),r=i(6156),s=i(25879),l=i(99333),d=i(31738),c=i(52187),u=i(94557),p=i(59310),m=i(40362),h=i(20143),g=i(30036),v=i(41115),y=i(71304),_=i(62671),b=i(15137),f=i(37071),x=i(85762),k=i(45179),w=i(77613);const C={id:"pinterest-3f0ea838",use:"pinterest-3f0ea838-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="pinterest-3f0ea838"><g clip-path="url(#pinterest-3f0ea838_a)"><circle cx="12" cy="12" r="12" fill="white" /><path fill="#E60019" d="M12.01 0C5.377 0 0 5.368 0 11.99c0 5.082 3.163 9.425 7.631 11.171-.109-.947-.198-2.408.04-3.444.217-.937 1.403-5.96 1.403-5.96s-.356-.72-.356-1.777c0-1.668.969-2.91 2.175-2.91 1.028 0 1.522.769 1.522 1.687 0 1.026-.652 2.565-.998 3.996-.287 1.194.603 2.171 1.779 2.171 2.135 0 3.776-2.25 3.776-5.486 0-2.872-2.066-4.876-5.022-4.876-3.42 0-5.426 2.556-5.426 5.201 0 1.027.395 2.132.89 2.734a.357.357 0 0 1 .079.345c-.09.375-.297 1.194-.337 1.362-.049.217-.177.266-.405.158-1.502-.7-2.441-2.882-2.441-4.648 0-3.78 2.748-7.253 7.937-7.253 4.162 0 7.404 2.96 7.404 6.927 0 4.135-2.61 7.46-6.228 7.46-1.215 0-2.362-.63-2.748-1.38l-.75 2.851c-.268 1.046-1 2.349-1.493 3.148A12.08 12.08 0 0 0 11.99 24C18.623 24 24 18.632 24 12.01 24.02 5.368 18.642 0 12.01 0Z" /></g><defs><clipPath id="pinterest-3f0ea838_a"><path fill="white" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'};function j(e){const t=(0,d.useContext)(w.e);return(0,d.useLayoutEffect)((()=>(t.add(C),()=>{t.remove("pinterest-3f0ea838")})),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#pinterest-3f0ea838"},void 0)}),void 0)}const S={id:"share_embed-445e13c2",use:"share_embed-445e13c2-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="share_embed-445e13c2"><path fill="#383838" fill-opacity=".95" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12Z" clip-rule="evenodd" /><path fill="white" fill-rule="evenodd" d="M12.313 7.966a.562.562 0 1 1 1.108.194l-1.37 7.835a.562.562 0 1 1-1.109-.194l1.371-7.835Zm3.927.808a.7.7 0 0 0-1.014 0 .76.76 0 0 0 0 1.05l2.228 2.307-2.228 2.305a.76.76 0 0 0 0 1.05.7.7 0 0 0 1.015 0l3.214-3.326a.042.042 0 0 0 0-.058l-.231-.24-.005-.004-.003-.004-2.976-3.08Zm-7.351 0c.29.29.29.76 0 1.05L6.583 12.13l2.307 2.307a.742.742 0 1 1-1.05 1.05L5.423 13.07l-.002-.002-.91-.91a.04.04 0 0 1 0-.057L7.84 8.775c.29-.29.76-.29 1.05 0Z" clip-rule="evenodd" /></symbol>'};function T(e){const t=(0,d.useContext)(w.e);return(0,d.useLayoutEffect)((()=>(t.add(S),()=>{t.remove("share_embed-445e13c2")})),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#share_embed-445e13c2"},void 0)}),void 0)}var P=i(89598);const I=function({width:e="1em",height:t="1em",style:i={}}){return(0,n.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i},{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"gray"},void 0),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.313 7.96568C12.3665 7.65966 12.658 7.45498 12.964 7.50851C13.27 7.56203 13.4747 7.8535 13.4211 8.15951L12.0506 15.9952C11.997 16.3012 11.7056 16.5059 11.3996 16.4523C11.0936 16.3988 10.8889 16.1073 10.9424 15.8013L12.313 7.96568ZM16.2402 8.77448C15.96 8.48453 15.5058 8.48453 15.2256 8.77448C14.9454 9.06443 14.9454 9.53454 15.2256 9.82449L17.454 12.1307L15.2262 14.4364C14.946 14.7263 14.946 15.1964 15.2262 15.4864C15.5063 15.7763 15.9606 15.7763 16.2407 15.4864L19.4551 12.1598C19.4704 12.1439 19.4704 12.1182 19.4551 12.1023L19.2233 11.8623L19.2201 11.8586L19.2158 11.854L16.2402 8.77448ZM8.88972 15.4867C8.59977 15.7766 8.12966 15.7766 7.83971 15.4867L5.4207 13.0677L4.76017 12.4071L4.51191 12.1589C4.49603 12.143 4.49603 12.1173 4.51191 12.1014L7.83853 8.77477C8.12848 8.48482 8.59859 8.48482 8.88854 8.77477C9.17849 9.06472 9.17849 9.53482 8.88854 9.82478L6.58318 12.1301L8.88972 14.4367C9.17967 14.7266 9.17967 15.1967 8.88972 15.4867Z",fill:"white"},void 0)]}),void 0)};var O=i(28972),D=i(8650),M=i(82509),R=i(85093);const L=(0,R.Z)("div",{target:"echcjyx0"})({width:"322px",borderRadius:"9px",height:"389px;",margin:"0px"},"label:DivPreviewContainer;"),B=(0,R.Z)("iframe",{target:"echcjyx1"})({display:"block",visibility:"unset",width:"100%",height:"389px"},"label:IframePlaylistEmbedPreview;"),A="https://www.tiktok.com",F=function(e){var t;const{language:i}=null!==(t=(0,b.Lh)((()=>["language"]),[]))&&void 0!==t?t:{},{uniqueId:o,tagTitle:a,musicId:r,musicTitle:s,type:l}=e;if(!l||!o&&!a&&!r)return(0,n.jsx)("div",{},void 0);const d=null!=i?i:"en",c=(0,M.UI)(d);let u;switch(l){case 1:u=`${A}/embed/@${o}${c}`;break;case 3:u=`${A}/embed/tag/${a}${c}`;break;case 2:u=`${A}/embed/music/${s}-${r}${c}`}return(0,n.jsx)(L,Object.assign({style:{pointerEvents:"none"}},{children:(0,n.jsx)(B,{src:u,frameBorder:"0"},void 0)}),void 0)};var E=i(43340);const Z=(0,R.Z)("div",{target:"e172cezw0"})((({theme:e,isVideoEmbedPreview:t})=>[(0,E.YJ)({direction:e.direction}),{width:t?"550px":"700px"}]),{borderRadius:"9px","@media(max-width: 1000px)":{width:"400px"}},"label:DivModalContainer;"),z=(0,R.Z)("div",{target:"e172cezw2"})((({theme:{colors:e}})=>({padding:"24px 24px 12px 24px",borderBottom:`0.5px solid ${e.LineSecondary}`})),"label:DivEmbedTitle;"),U=(0,R.Z)("h3",{target:"e172cezw3"})((({theme:e})=>(0,E.GI)({theme:e,typography:"P1",fontWeight:"bold"})),{fontSize:"20px",lineHeight:"24px",textAlign:"start"},"label:H3EmbedTitle;"),W=(0,R.Z)("div",{target:"e172cezw4"})((({theme:{direction:e}})=>(0,E.YJ)({direction:e,end:"23px"})),{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:23,cursor:"pointer"},"label:DivXMarkWrapper;"),V=(0,R.Z)("div",{target:"e172cezw5"})({display:"flex",justifyContent:"space-between",padding:"24px","@media(max-width: 1000px)":{paddingTop:0}},"label:DivModalInnerContainer;"),N=(0,R.Z)("div",{target:"e172cezw6"})({width:310,paddingTop:10,"@media(max-width: 1000px)":{width:"400px"}},"label:DivTextArea;"),$=(0,R.Z)("div",{target:"e172cezw7"})((({theme:e})=>[(0,E.GI)({theme:e,fontWeight:"semiBold"}),{fontSize:16,lineHeight:"24px"}]),{display:"block",width:"100%",marginBottom:"20px",border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word"},"label:DivAreaDescription;"),q=(0,R.Z)("textarea",{target:"e172cezw8"})((({theme:e})=>[(0,E.GI)({theme:e,typography:"P2",color:"TextTertiary"}),{display:"block",padding:"12px 12px 12px 12px",width:"100%",height:148,marginBottom:20,border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word",background:"rgba(22, 24, 35, 0.06)",borderRadius:2}]),"label:TextareaEmbedCode;"),G=(0,R.Z)("button",{target:"e172cezw9"})(E.Ph,(({theme:e,primary:t})=>[(0,E.GI)({theme:e,fontWeight:t?"semiBold":"normal",color:"TextPrimary"}),{fontSize:16,border:`1px solid ${e.colors.LineSecondary}`,background:e.colors.BGTertiary},{":after":{content:'""',width:"100%",height:"1px",position:"absolute",left:0,top:0,background:e.colors.LineSecondary,transform:"scaleY(0.5)"}}]),{borderRadius:2,display:"block",width:"100%",textAlign:"center",cursor:"pointer",height:"36px",marginBottom:"20px"},"label:Button;"),H=(0,R.Z)("p",{target:"e172cezw10"})((({theme:e})=>[(0,E.GI)({theme:e,typography:"P2",color:"TextTertiary"}),{a:{textDecoration:"underline","&, &:hover, &:active, &:link":{color:e.colors.TextTertiary}}}]),{fontSize:"12px",lineHeight:"18px"},"label:PHint;"),Q=(0,R.Z)("div",{target:"e1rggtg60"})({borderRadius:"4.5px",width:"163px",height:"379px",overflow:"hidden"},"label:DivPreviewContainer;"),Y="scale(0.5)",K=e=>"rtl"===e?"top right":"top left",J=(0,R.Z)("iframe",{target:"e1rggtg61"})((({theme:e})=>[{display:"block",visibility:"unset",width:"326px",height:"758px",msTransform:Y,msTRANSFORM_ORIGIN_ZERO:K(e.direction),MozTransform:Y,MozTRANSFORM_ORIGIN_ZERO:K(e.direction),WebkitTransform:Y,WebkitTRANSFORM_ORIGIN_ZERO:K(e.direction),transform:Y,transformOrigin:K(e.direction),border:"none"}]),"label:IframeVideoEmbedPreview;"),X=function(e){var t;const{videoId:i}=e,{language:o}=null!==(t=(0,b.Lh)((()=>["language"]),[]))&&void 0!==t?t:{};return(0,n.jsx)(Q,Object.assign({style:{pointerEvents:"none"}},{children:(0,n.jsx)(J,{src:(()=>{const e=null!=o?o:"en",t=(0,M.UI)(e);return`https://www.tiktok.com/embed/v2/${i}${t}`})(),frameBorder:"0"},void 0)}),void 0)},ee=function(e){const{code:t,onCopy:i,uniqueId:o,videoId:a,type:r,musicId:l,tagTitle:c,musicTitle:u}=e,p=(0,g.Q)(),m=(0,s.m)(D.G,{selector:e=>e.lang,dependencies:[]}),h=(0,d.useRef)(null),v=(0,d.useCallback)((()=>{var e;null===(e=h.current)||void 0===e||e.select(),document.execCommand&&document.execCommand("copy"),null==i||i()}),[i]),y=`"https://www.tiktok.com/legal/terms-of-service?lang=${m}" target="_blank"`,_='"https://www.tiktok.com/legal/privacy-policy" target="_blank"';let b;const f=1===r||3===r||2===r;let x,k;switch(r){case 1:x=p("embed_profile_popup_title"),k=p("embed_profile_popup_desc");break;case 3:x=p("embeds_popup_hashtag_header"),k=p("embeds_popup_hashtag_body");break;case 2:x=p("embeds_popup_sound_header"),k=p("embeds_popup_sound_body");break;default:x=p("Embed video"),k=p("embed_popup_embed_body")}try{b=f?p("embeds_popup_tns").replace("{Terms of Service}",`<a href=${y}>${p("embed_profile_popup_bottom_desc_tos")}</a>`).replace("{Privacy Policy}",`<a href=${_}>${p("embed_profile_card_desc_privacy_policy")}</a>`):p("By embedding this video, you confirm that you agree to our <a href={TermsHref}>Terms of Use</a> and acknowledge you have read and understood our <a href={PolicyHref}> Privacy Policy.</a>").replace("{TermsHref}",y).replace("{PolicyHref}",_)}catch(e){b=`By embedding this page, you confirm that you agree to our <a href="https://www.tiktok.com/legal/terms-of-service?lang=${m}" target="_blank">Terms of Service</a> and acknowledge that you have read and understood our <a href="https://www.tiktok.com/legal/privacy-policy" target="_blank"> Privacy Policy.</a>`}const[w,C]=(0,d.useState)(!0);return(0,d.useEffect)((()=>{var e;const t=window.matchMedia("(max-width: 1000px)");null===(e=null==t?void 0:t.addEventListener)||void 0===e||e.call(t,"change",(e=>C(e.matches))),C(null==t?void 0:t.matches)}),[]),(0,n.jsxs)(Z,Object.assign({isVideoEmbedPreview:!w&&!f},{children:[(0,n.jsxs)(z,{children:[(0,n.jsx)(U,{children:x},void 0),(0,n.jsx)(W,Object.assign({onClick:e.onClose},{children:(0,n.jsx)(O.Z,{width:20,height:20},void 0)}),void 0)]},void 0),(0,n.jsxs)(V,{children:[!w&&(0,n.jsx)(n.Fragment,{children:f?(0,n.jsx)(F,{type:r,uniqueId:o,tagTitle:c,musicId:l,musicTitle:u},void 0):(0,n.jsx)(X,{videoId:a},void 0)},void 0),(0,n.jsxs)(N,{children:[(0,n.jsx)($,{children:k},void 0),(0,n.jsx)(q,{defaultValue:t,readOnly:!0,rows:7,ref:h},void 0),(0,n.jsx)(G,Object.assign({primary:!0,onClick:v},{children:p("embed_profile_popup_btn")}),void 0),(0,n.jsx)(H,{dangerouslySetInnerHTML:{__html:b}},void 0)]},void 0)]},void 0)]}),void 0)};var te,ie=i(98102),oe=i(19548);!function(e){e[e.Icon=0]="Icon",e[e.Entry=1]="Entry",e[e.Corner=2]="Corner"}(te||(te={}));const ne={0:({theme:{direction:e,colors:t}})=>[{display:"block",fontSize:0,":focus-visible":{outline:`2px solid ${t.Negative}`}},(0,E.YJ)({direction:e,marginEnd:"8px"})],2:()=>[{display:"block",fontSize:0,margin:"4px auto"}],1:({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"11px 16px",margin:"0px 3px 0px 4px",position:"relative",":hover":{background:e.BGView,textDecoration:"none"}})},ae=(0,R.Z)("a",{target:"e15mchsh0"})((({mode:e,theme:t})=>ne[e]({theme:t})),"label:AShareLink;"),re=(0,R.Z)("a",{target:"e15mchsh1"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"0px 16px",position:"relative",margin:"0px 4px 0px 4px",":hover":{background:e.BGView,textDecoration:"none"}})),"label:AShareArrow;"),se=(0,R.Z)("span",{target:"e15mchsh2"})((({theme:{direction:e}})=>(0,E.YJ)({direction:e,marginStart:"12px"})),"label:SpanShareText;"),le=(0,R.Z)("div",{target:"e15mchsh3"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"11px 16px",position:"relative",background:"rgba(22, 24, 35, 0.1)",textDecoration:"none",color:e.LineInput})),"label:DivDisabledArea;");var de;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.HEADER=1]="HEADER",e[e.BOTTOM=2]="BOTTOM",e[e.BrowserModePopup=3]="BrowserModePopup"}(de||(de={}));const ce={0:24,2:24,1:26},ue=(0,d.memo)((function(e){var t,{videoId:i="",uniqueId:w="",musicId:C="",tagTitle:S="",musicTitle:O="",onClickShare:D,mode:M,embedCode:R,embedType:L,isEmbedDisabled:B=!1,isEmbedBanned:A=!1,onEmbedModalVisibleChange:F,enabled:E=!0,url:Z=""}=e,z=e.teaParams,U=void 0===z?{}:z,{group_id:W,author_id:V}=U,N=(0,o.__rest)(U,["group_id","author_id"]),{from:$=0,onOtherModalOpen:q,onSendMessagePanelOpen:G,onPlatformCountChange:H}=e;const Q=(0,g.Q)(),[Y,K]=(0,d.useState)(!1),{shouldOptimizeCta:J}=(0,v.CY)(),{isBrowserModeShowing:X}=(0,d.useContext)(f._),te=X&&!J,{expanded:ne}=(0,ie.c1)(),de=(0,r.fz)(u.p),ue=(0,d.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),K(!0),de.handleSharePanelClick(Object.assign({group_id:W,author_id:V},N))}),[W,de,V,N]),{user:pe}=null!==(t=(0,b.Lh)((()=>["abTestVersion","user"]),[]))&&void 0!==t?t:{},{vl1:me,forFriend:he,subVideoMeta:ge}=(0,s.m)(k.A,{selector:e=>{var t;return null!==(t=e[i])&&void 0!==t?t:{}},dependencies:[i]}),ve=(!pe||(null==pe?void 0:pe.hasIMPermission))&&!(me&&!he)&&!(1===$||2===$),ye=Boolean(pe),_e=(0,l.q)(x.rE),be=(0,l.q)(k.A),fe=(0,v.sg)(),xe=(0,d.useCallback)((e=>{const t=e.indexOf(P.Lb.copy);e.length>5&&"short"===ne&&t>4&&(e.splice(t,1),e.splice(4,0,P.Lb.copy))}),[ne]),{platforms:ke}=(0,s.m)(oe.N,{selector:e=>{var t,i;let{platforms:o}=e;ve||(o=null!==(t=null==o?void 0:o.filter((e=>e!==P.Lb.message)))&&void 0!==t?t:[]),fe&&(o=null!==(i=null==o?void 0:o.filter((e=>e!==P.Lb.facebook&&e!==P.fp.messenger)))&&void 0!==i?i:[]);const n=(null!=o?o:[]).filter((e=>e!==P.Lb.sms&&e!==P.Lb.embed));R&&!A&&!ge&&n.unshift("embed");const a=n.filter((e=>e!==P.Lb.copy));switch(M){case 0:return{platforms:a};case 1:return o=[...n].reverse(),xe(n),o=n,te&&(o=a),{platforms:o};default:return{platforms:n}}},dependencies:[M,R,te,xe,L,ve,fe]}),we=(0,d.useMemo)((()=>ke.length>5&&!Y&&1===M&&"expand"!==ne),[ke,Y,M,ne]),[Ce,je]=(0,d.useState)(!1);(0,d.useEffect)((()=>{null==F||F(Ce)}),[Ce,F]);const Se=(0,d.useCallback)((e=>e.replace(/(.*?){(.*?)}(.*?)/g,((e,t,i,o)=>t+Q(i)+o))),[Q]),Te=ce[M],Pe=(0,a.u)(),Ie=(0,d.useCallback)(((e,t)=>i=>{if(t&&(i.preventDefault(),i.stopPropagation(),t()),E||(i.preventDefault(),m.h.destroy(),m.h.open({content:Q("web_sharing_disable_toast"),duration:3,widthType:"half",getContainer:y.Z,getContainerPosition:"fixed"})),null==D||D(e,{group_id:W,play_mode:N.play_mode}),de.handleShare(Object.assign({platform:e,group_id:W,author_id:V,share_option_type:ne,share_click_from:Y||3===$?"long":"short"},N)),N.is_ad_event&&N.value&&N.tag&&N.log_extra){const{log_extra:e,tag:t,value:i}=N;p.M.handleShare({log_extra:e,tag:t,value:i,is_ad_event:"1"})}if(be.addMlModelTrainData({id:W,action:"share"}),"copy"===e&&E)m.h.open({content:Q("Copied"),duration:1.2,widthType:"half",getContainer:y.Z,getContainerPosition:"fixed"});else if("embed"===e)je(!0),null==q||q(!0);else if("message"===e){if(!ye)return void _e.openModal({query:{enter_method:"share_button",group_id:W}});null==G||G()}}),[E,D,de,W,V,ne,Y,N,Q,ye,G,_e,$]),Oe=(0,d.useCallback)((()=>{je(!1),null==q||q(!1)}),[q]),De=(0,d.useCallback)((()=>{de.handleClickShare(Object.assign({platform:"embed",group_id:W,author_id:V,share_option_type:ne,share_click_from:Y?"long":"short"},N)),m.h.open({content:Q("embed_success"),duration:1.2,widthType:"half",getContainer:y.Z,getContainerPosition:"fixed"}),je(!1),null==q||q(!1)}),[V,ne,W,de,N,Y,Q,q]),Me=(0,d.useMemo)((()=>0===M?[0,5]:te?[5,void 0]:Y||2===M||"expand"===ne?[0,void 0]:[0,5]),[te,Y,M,ne]);(0,d.useEffect)((()=>{var e,t;const i=null!==(t=null===(e=null==ke?void 0:ke.slice(...Me))||void 0===e?void 0:e.length)&&void 0!==t?t:0;null==H||H(i)}),[H,ke,Me]);const Re=(0,y.Z)(),Le=(0,d.useCallback)((e=>{if(13===e.keyCode||32===e.keyCode){e.preventDefault(),e.stopPropagation(),K(!0);const t=null==ke?void 0:ke.slice(...Me).pop();document.querySelector(`#icon-element-${t}`).focus(),de.handleSharePanelClick(Object.assign({group_id:W,author_id:V},N))}}),[W,de,V,N,Me,ke]),Be=(0,d.useCallback)(((e,t)=>i=>{13===i.keyCode&&(i.preventDefault(),i.stopPropagation(),Ie(e,t)(i),document.querySelector(`#icon-element-${e}`).click())}),[Ie]);return(0,n.jsxs)(n.Fragment,{children:[null==ke?void 0:ke.slice(...Me).map((e=>{const t="ltr"===Pe.direction?"left":"right",i=2===M?t:"top",o=P.vq[e],a=Pe.isDark&&"embed"===e,r=Pe.isDark&&"pinterest"===e,s=(0,P.IG)({platform:e,url:Z}),l="string"==typeof s?{href:s,target:"_blank",rel:"noopener noreferrer",onClick:Ie(e),onKeyDown:Be(e,void 0,s)}:{href:"#",onClick:Ie(e,s),onKeyDown:Be(e,s)};let d=(0,n.jsx)(o,{width:Te,height:Te},void 0);a?d=(0,n.jsx)(T,{width:Te,height:Te},void 0):r&&(d=(0,n.jsx)(j,{width:Te,height:Te},void 0));const c=(0,n.jsxs)(ae,Object.assign({id:`icon-element-${e}`,mode:M},l,{"data-e2e":`video-share-${e}`,"aria-label":Se(P.ny[e])},{children:[d,1===M&&(0,n.jsx)(se,{children:Se(P.ny[e])},void 0)]}),e);return B&&"embed"===e?(0,n.jsx)(h.u,Object.assign({fullscreenAdjust:!0,overlay:Q("embed_profile_tooltip"),placement:"bottom"},{children:(0,n.jsxs)(le,{children:[(0,n.jsx)(I,{width:Te,height:Te},void 0),(0,n.jsx)(se,{children:Se(P.ny[e])},void 0)]},void 0)}),e):0===M||2===M?(0,n.jsx)(h.u,Object.assign({fullscreenAdjust:!0,overlay:Se(P.ny[e]),placement:i},{children:c}),e):c})),we&&(0,n.jsx)(re,Object.assign({"data-e2e":"share-arrow","aria-label":Q("accessibilityLabels_forYou_share_moreOptions_btn"),href:"#",onClick:ue,onKeyDown:Le},{children:(0,n.jsx)(c.Z,{width:24,height:24},void 0)}),void 0),(0,n.jsx)(_.u_,Object.assign({parentRef:Re,visible:Ce,onClose:Oe,maskCloseable:!1},{children:(0,n.jsx)(ee,{onCopy:De,onClose:Oe,code:R,type:L,videoId:i,uniqueId:w,musicId:C,tagTitle:S,musicTitle:O},void 0)}),void 0)]},void 0)}))},50159:(e,t,i)=>{"use strict";i.d(t,{N:()=>w,P:()=>k});var o=i(71030),n=i(25879),a=i(31738),r=i(30036),s=i(73632),l=i(43226),d=i.n(l);const c=JSON.parse('{"v":"5.9.6","fr":60,"ip":0,"op":35,"w":40,"h":20,"nm":"Lottie_ic_forward","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"“ic_forward","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":4,"s":[90],"e":[90]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":8,"s":[90],"e":[50]},{"t":19}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.2,"y":1},"o":{"x":0.4,"y":0},"t":0,"s":[25,10,0],"e":[32,10,0],"to":[1.167,0,0],"ti":[-1.167,0,0]},{"t":14}],"ix":2,"l":2},"a":{"a":0,"k":[4,7,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.107,0],[0.081,0.081],[0,0],[-0.163,0.162],[0,0],[0,0],[-0.163,0.163],[0,0],[-0.107,0],[-0.082,-0.082],[0,0],[0.163,-0.163],[0,0]],"o":[[-0.107,0],[0,0],[-0.163,-0.162],[0,0],[0,0],[-0.163,-0.163],[0,0],[0.081,-0.082],[0.107,0],[0,0],[0.163,0.163],[0,0],[-0.082,0.081]],"v":[[-2.83,6.667],[-3.125,6.545],[-3.714,5.955],[-3.714,5.366],[1.651,0],[-3.714,-5.366],[-3.714,-5.955],[-3.125,-6.544],[-2.83,-6.667],[-2.536,-6.544],[3.714,-0.294],[3.714,0.295],[-2.536,6.545]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.999998743394,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[3.836,7.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":35,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"“ic_forward”轮廓 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.436],"y":[0]},"t":4,"s":[50],"e":[50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":14,"s":[50],"e":[90]},{"t":25}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.2,"y":1},"o":{"x":0.4,"y":0},"t":6,"s":[18,10,0],"e":[25,10,0],"to":[1.167,0,0],"ti":[-1.167,0,0]},{"t":20}],"ix":2,"l":2},"a":{"a":0,"k":[4,7,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.107,0],[0.081,0.081],[0,0],[-0.163,0.162],[0,0],[0,0],[-0.163,0.163],[0,0],[-0.107,0],[-0.082,-0.082],[0,0],[0.163,-0.163],[0,0]],"o":[[-0.107,0],[0,0],[-0.163,-0.162],[0,0],[0,0],[-0.163,-0.163],[0,0],[0.081,-0.082],[0.107,0],[0,0],[0.163,0.163],[0,0],[-0.082,0.081]],"v":[[-2.83,6.667],[-3.125,6.545],[-3.714,5.955],[-3.714,5.366],[1.651,0],[-3.714,-5.366],[-3.714,-5.955],[-3.125,-6.544],[-2.83,-6.667],[-2.536,-6.544],[3.714,-0.294],[3.714,0.295],[-2.536,6.545]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.999998743394,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[3.836,7.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":35,"st":0,"ct":1,"bm":0}],"markers":[]}');var u=i(72142);const p=({width:e=40,height:t=20,loop:i=!0,onComplete:n=d(),autoplay:a=!0})=>(0,o.jsx)(u.L,{width:e,height:t,onComplete:n,autoplay:a,loop:i,animationData:c},void 0);var m=i(17914),h=i(61216),g=i(85093),v=i(43340);const y=(0,h.F4)({"0%":{opacity:0},"5%":{opacity:1},"100%":{opacity:1}}),_=(0,g.Z)("div",{target:"e1jh5nxw0"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"144px",height:"144px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:5},"label:DivAnimationIconWrapper;"),b=(0,g.Z)(_,{target:"e1jh5nxw1"})((({theme:{colors:e},isBack:t})=>({width:"unset",top:"unset",bottom:"81px",transform:"translate(-50%, 0)",height:"40px",padding:"8px 16px",paddingInlineEnd:t?"16px":"8px",paddingInlineStart:t?"8px":"16px",display:"inline-flex",flexDirection:t?"row-reverse":"row",borderRadius:"8px",background:e.ConstBGInverse2,animation:`${y} 2000ms linear`})),"label:StyledAnimationWrapper;"),f=(0,g.Z)("span",{target:"e1jh5nxw2"})((({theme:e})=>(0,v.GI)({theme:e,typography:"P3",fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse2"})),"label:SpanForwardText;"),x=(0,g.Z)("div",{target:"e1jh5nxw3"})((({isBack:e=!1,theme:{direction:t}})=>({width:"40px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transform:`rotateZ(${e?"rtl"===t?0:180:"rtl"===t?180:0}deg)`,marginInlineStart:e?"unset":"-8px",marginInlineEnd:e?"-8px":"unset"})),"label:DivSeekAnimationWrapper;");function k(e){const t=(0,r.Q)(),i="backward"===e;return(0,a.useMemo)((()=>"none"!==e?(0,o.jsxs)(b,Object.assign({isBack:i},{children:[(0,o.jsx)(f,{children:t("forward"===e?"pc_web_skip_forward_5_sec":"pc_web_skip_backward_5_sec",{number:s.i})},void 0),(0,o.jsx)(x,Object.assign({isBack:i},{children:(0,o.jsx)(p,{loop:!0},void 0)}),void 0)]}),void 0):null),[i,e,t])}const w=()=>{const{seekType:e}=(0,n.m)(m._F,{selector:e=>({seekType:e.seekType}),dependencies:[]});return{seekingTips:k(e)}}},17914:(e,t,i)=>{"use strict";i.d(t,{_F:()=>b});var o,n,a=i(22403),r=i(98279),s=i(3312),l=i(82790),d=i(82941),c=i(28952),u=i(21249),p=i(35380),m=i(55823),h=i(90950),g=i(84033),v=i(56981),y=i(47294),_=i(81530);!function(e){e.None="none",e.Mute="mute",e.Unmute="unmute",e.Play="play",e.Pause="pause"}(o||(o={})),function(e){e.Forward="forward",e.BackWard="backward",e.None="none"}(n||(n={}));let b=class extends r.D{constructor(e,t,i){super(),this.itemList=e,this.videoPlayer=t,this.videoExperience=i,this.defaultState={currentIndex:{},disabled:!1,itemListKey:"foryou",onboardingShowing:!1,loginCTAShowing:!1,leavingModalShowing:!1,playbackRate:1,dimmer:!1,showBrowseMode:!1,needLeavingModal:!1,iconType:"none",seekType:"none"}}setItemListKey(e,t){e.itemListKey=t}setCurrentIndex(e,t){const{key:i,value:o}=t;e.currentIndex=Object.assign(Object.assign({},e.currentIndex),{[i]:o})}setDisabled(e,t){e.disabled=t}setNeedLeavingModal(e,t){e.needLeavingModal=t}setOnboardingShowing(e,t){e.onboardingShowing=t}setLoginCTAShowing(e,t){e.loginCTAShowing=t}setLeavingModalShowing(e,t){e.leavingModalShowing=t}setPlaybackRate(e,t){e.playbackRate=t}setDimmer(e,t){e.dimmer=t}setShowBrowseMode(e,t){e.showBrowseMode=t}setIconType(e,t){e.iconType=t}setSeekType(e,t){e.seekType=t}handleNextVideo(e){return e.pipe((0,u.b)((()=>{this.videoExperience.reportVideoInteractStart({startTime:Date.now(),situation:"swiper_slide_next"})})),(0,p.M)(this.state$,this.itemList.state$),(0,m.U)((([{playMode:e},{itemListKey:t,currentIndex:i},o])=>{var n,a,r,s;const l=null!==(a=null===(n=o[null!=t?t:""])||void 0===n?void 0:n.browserList)&&void 0!==a?a:[],d=Math.min((null!==(r=i[t])&&void 0!==r?r:0)+1,l.length-1);return{newIndex:d,isIndexInvalid:!(null==l?void 0:l.length)||d<0,newId:null!==(s=l[d])&&void 0!==s?s:"",playMode:e,itemListKey:t}})),(0,u.b)((({isIndexInvalid:e})=>{e&&console.warn("cannot switch to next video for some reasons")})),(0,h.z)((e=>(0,d.of)(...this.updateVideoIndex(e)))),(0,v.n)({}))}handlePrevVideo(e){return e.pipe((0,u.b)((()=>{this.videoExperience.reportVideoInteractStart({startTime:Date.now(),situation:"swiper_slide_prev"})})),(0,p.M)(this.state$,this.itemList.state$),(0,m.U)((([{playMode:e},{itemListKey:t,currentIndex:i},o])=>{var n,a,r,s;const l=null!==(a=null===(n=o[null!=t?t:""])||void 0===n?void 0:n.browserList)&&void 0!==a?a:[],d=Math.max((null!==(r=i[t])&&void 0!==r?r:0)-1,0);return{newIndex:d,isIndexInvalid:!(null==l?void 0:l.length)||d>l.length-1,newId:null!==(s=l[d])&&void 0!==s?s:"",playMode:e,itemListKey:t}})),(0,u.b)((({isIndexInvalid:e})=>{e&&console.warn("cannot switch to prev video for some reasons")})),(0,h.z)((e=>(0,d.of)(...this.updateVideoIndex(e)))),(0,v.n)({}))}handleFirstVideo(e){return e.pipe((0,p.M)(this.state$,this.itemList.state$),(0,m.U)((([{playMode:e},{itemListKey:t},i])=>{var o,n,a;const r=null!==(n=null===(o=i[null!=t?t:""])||void 0===o?void 0:o.browserList)&&void 0!==n?n:[];return{newIndex:0,isIndexInvalid:!(null==r?void 0:r.length)||0>r.length-1,newId:null!==(a=r[0])&&void 0!==a?a:"",playMode:e,itemListKey:t}})),(0,u.b)((({isIndexInvalid:e})=>{e&&console.warn("cannot switch to first video for some reasons")})),(0,h.z)((e=>(0,d.of)(...this.updateVideoIndex(e)))),(0,v.n)({}))}updateVideoIndex({newIndex:e,isIndexInvalid:t,newId:i,playMode:o,itemListKey:n}){return t?[this.noop()]:[this.videoPlayer.getActions().updateVideo({currentVideo:{index:e,id:i,mode:o},playProgress:0}),this.getActions().setCurrentIndex({key:n,value:e})]}};(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setItemListKey",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setCurrentIndex",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setDisabled",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setNeedLeavingModal",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setOnboardingShowing",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setLoginCTAShowing",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setLeavingModalShowing",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Number]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setPlaybackRate",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setDimmer",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setShowBrowseMode",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setIconType",null),(0,a.__decorate)([(0,s.lF)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"setSeekType",null),(0,a.__decorate)([(0,s.Qm)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[c.y]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"handleNextVideo",null),(0,a.__decorate)([(0,s.Qm)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[c.y]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"handlePrevVideo",null),(0,a.__decorate)([(0,s.Qm)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[c.y]),(0,a.__metadata)("design:returntype",void 0)],b.prototype,"handleFirstVideo",null),b=(0,a.__decorate)([(0,l.Y)("SwiperModeModule"),(0,a.__metadata)("design:paramtypes",[y.h,_.f,g.KF])],b)},17474:(e,t,i)=>{"use strict";i.d(t,{g:()=>y});var o,n=i(71030),a=i(25879),r=i(31738),s=i(10426),l=i(13578),d=i(45586),c=i(30036),u=i(15137);!function(e){e.GeneralSensitive="general_sensitive",e.PhotoSensitive="photo_sensitive",e.PhotoSensitiveDenied="photo_sensitive_denied"}(o||(o={}));const p={general_sensitive:"masklayer_general_title",photo_sensitive:"photosensitive_masklayer_title",photo_sensitive_denied:"photosensitive_masklayer_removed"},m={general_sensitive:["masklayer_general_body"],photo_sensitive:["photosensitive_masklayer_body1","photosensitive_masklayer_body2"],photo_sensitive_denied:["photosensitive_masklayer_removed_body1","photosensitive_masklayer_removed_body3"]},h={general_sensitive:"masklayer_general_skip",photo_sensitive:"photosensitive_masklayer_watch",photo_sensitive_denied:""},g={general_sensitive:"masklayer_general_watch",photo_sensitive:"photosensitive_masklayer_skipall",photo_sensitive_denied:""};var v=i(51136);const y=({playMode:e,item:t,smallSizeIcon:i=!1})=>{var o;const y=(0,c.Q)(),{user:_}=null!==(o=(0,u.Lh)((()=>["user"]),[]))&&void 0!==o?o:{},{photoSensitiveVideosSetting:b,uid:f}=null!=_?_:{},{photoSensitiveVideosSetting:x}=(0,a.m)(v.P);return(0,r.useMemo)((()=>{const{maskType:o,authorId:a}=t,r=3===o,c=4===o;if(!c&&!r)return{showVideoMask:!1};if(c&&(2===b||2===x||a===f&&0!==b))return{showVideoMask:!1};let u;u=r?"general_sensitive":1===x?"photo_sensitive_denied":"photo_sensitive";const v=y(p[u]),_=m[u].map((e=>y(e))).join(""),k=((e,t,i)=>{let o=null,a=48;switch(e){case"general_sensitive":a=0===t?36:53,a=i?24:a,o=(0,n.jsx)(s.Z,{width:a,height:a,fill:"rgba(255, 255, 255, .75)"},void 0);break;case"photo_sensitive":a=0===t?32:48,a=i?24:a,o=(0,n.jsx)(l.Z,{width:a,height:a,fill:"#fff"},void 0);break;case"photo_sensitive_denied":a=0===t?32:48,a=i?24:a,o=(0,n.jsx)(d.Z,{width:a,height:a,fill:"#0BE09B"},void 0)}return o})(u,e,i),w=y(((e,t)=>2===t||3===t||4===t||7===t||0===t&&"photo_sensitive"===e?h[e]:"")(u,e)),C=y(((e,t)=>2===t||3===t||4===t||7===t||0===t&&"general_sensitive"===e?g[e]:"")(u,e));return{showVideoMask:!0,maskType:u,videoMaskTitle:v,videoMaskDesc:_,icon:k,videoMaskFirstButtonText:w,videoMaskSecondButtonText:C}}),[t,b,x,f,y,e,i])}},77933:(e,t,i)=>{"use strict";i.d(t,{DK:()=>c,N:()=>_,Tp:()=>l,Vz:()=>b,Wu:()=>g,X4:()=>u,by:()=>s,ex:()=>r,gI:()=>d,lO:()=>m,u:()=>f,uc:()=>y,vZ:()=>x,yW:()=>v});var o=i(85093),n=i(43340),a=i(30524);const r=(0,o.Z)("div",{target:"e4uoj5v0"})((({theme:e,playMode:t})=>[4===t?{borderRadius:"4px",overflow:"hidden"}:{},{position:"absolute",zIndex:3===t||4===t?0:1,width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary},2===t?{left:"-80px",right:"-80px",width:"unset"}:null]),"label:DivVideoMask;"),s=(0,o.Z)("div",{target:"e4uoj5v1"})((({playMode:e})=>[4!==e?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"515px"}:{},{width:2===e?"calc(100% - 160px)":"100%",padding:0===e?"32px":"48px",paddingTop:4===e?"100px":""},3===e?{width:"463px"}:{}]),"label:DivVideoMaskContainer;"),l=(0,o.Z)("div",{target:"e4uoj5v2"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"label:DivVideoMaskInfo;"),d=(0,o.Z)("div",{target:"e4uoj5v3"})((({theme:e,playMode:t,showIconBackground:i})=>({display:"flex",justifyContent:"center",alignItems:"center",width:0===t?"72px":"106px",height:0===t?"72px":"106px",borderRadius:"50%",color:e.colors.Positive,backgroundColor:i?e.colors.ConstBGContainer2:void 0})),"label:DivVideoMaskIcon;"),c=(0,o.Z)("p",{target:"e4uoj5v4"})((({theme:e,theme:{colors:t},playMode:i})=>[(0,n.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:0===i?"17px":"24px",lineHeight:0===i?"20px":"32px",textAlign:"center",color:t.ConstTextInverse2,marginTop:0===i?"20px":"24px"}]),"label:PVideoMaskTitle;"),u=(0,o.Z)("p",{target:"e4uoj5v5"})((({theme:e,playMode:t})=>[(0,n.GI)({theme:e,typography:0===t?"H6":"P1",fontFamily:"TikTokFont",fontWeight:"normal"}),{maxWidth:"400px",textAlign:"center",color:"rgba(255, 255, 255, .75)",marginTop:0===t?"12px":"16px"}]),"label:PVideoMaskDesc;"),p=(e,t)=>{switch(e){case 0:return t?"20px":"80px";case 4:return"56px";default:return"180px"}},m=(0,o.Z)("div",{target:"e4uoj5v6"})((({playMode:e,horizontal:t})=>[{marginTop:p(e,t)},4===e?{display:"flex",flexDirection:"column",alignItems:"center"}:{}]),"label:DivBtnWrapper;");function h(e){const{theme:t,second:i,playMode:o}=e;return[n.wj,4===o?{maxWidth:"400px"}:{},(0,n.GI)({theme:t,typography:"P1",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{display:"block",minWidth:"unset",width:"100%",height:0===o?"36px":"56px",marginBottom:i?"0":"8px",background:i?t.colors.ConstBGContainer:t.colors.Primary},i?{"&:hover":{background:t.colors.ConstBGContainer2},"&:active":{background:t.colors.ConstBGContainer3}}:null,0===o?{fontSize:"14px",lineHeight:"17px"}:null]}const g=(0,o.Z)(a.W,{target:"e4uoj5v7"})((e=>h(e)),"label:StyledButtonFirst;"),v=(0,o.Z)(a.W,{target:"e4uoj5v8"})((e=>h(e)),"label:StyledButtonSecond;"),y=(0,o.Z)("div",{target:"e4uoj5v9"})({background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(25px)",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,right:0,bottom:0,userSelect:"none"},"label:DivMaskContainer;"),_=(0,o.Z)("div",{target:"e4uoj5v10"})((({horizontal:e})=>({width:e?"240px":"160px",display:"flex",flexDirection:"column",alignItems:"center"})),"label:DivMaskInfo;"),b=(0,o.Z)("div",{target:"e4uoj5v11"})({width:"48px",height:"48px",marginBottom:"8px",borderRadius:"48px",background:"rgba(255, 255, 255, 0.12)",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivMaskIcon;"),f=(0,o.Z)("p",{target:"e4uoj5v12"})((({theme:e})=>({fontSize:"16px",lineHeight:"24px",fontWeight:"600",marginBottom:"2px",color:e.colors.ConstTextInverse2,textAlign:"center"})),"label:PMaskTitle;"),x=(0,o.Z)("p",{target:"e4uoj5v13"})((({theme:e})=>({fontSize:"14px",lineHeight:"22px",color:e.colors.ConstTextInverse3,textAlign:"center"})),"label:PMaskDesc;")},36623:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var o=i(71030),n=i(31738),a=i(98999),r=i(77933);const s=(0,n.memo)((e=>{const{playMode:t,style:i,icon:s,showIconBackground:l=!0,title:d,desc:c,horizontal:u=!1,firstButtonText:p,secondButtonText:m,canClickPropagation:h=!1,children:g,onClickFirstButton:v,onClickSecondButton:y}=e,_=Boolean(p),b=Boolean(m),f=(0,n.useCallback)((e=>{!h&&(0,a.NS)(e)}),[h]),x=(0,n.useCallback)((e=>{e.preventDefault()}),[]);return(0,o.jsxs)(r.ex,Object.assign({playMode:t,onClick:f,style:i,onContextMenu:x},{children:[(0,o.jsxs)(r.by,Object.assign({playMode:t},{children:[(0,o.jsxs)(r.Tp,{children:[Boolean(s)&&(0,o.jsx)(r.gI,Object.assign({playMode:t,showIconBackground:l},{children:s}),void 0),Boolean(d)&&(0,o.jsx)(r.DK,Object.assign({playMode:t},{children:d}),void 0),Boolean(c)&&(0,o.jsx)(r.X4,Object.assign({playMode:t},{children:c}),void 0)]},void 0),(0,o.jsxs)(r.lO,Object.assign({horizontal:u,playMode:t},{children:[_&&(0,o.jsx)(r.Wu,Object.assign({type:"button",buttonTheme:"primary",playMode:t,onClick:v},{children:p}),void 0),b&&(0,o.jsx)(r.yW,Object.assign({type:"button",buttonTheme:"primary",playMode:t,second:!0,onClick:y},{children:m}),void 0)]}),void 0)]}),void 0),g]}),void 0)}))},94290:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var o=i(43226),n=i.n(o);const a=(0,i(31738).createContext)({armCoreContentEvent:n()})},75674:(e,t,i)=>{"use strict";i.d(t,{N:()=>v});var o,n=i(22403),a=i(71030),r=i(99333),s=i(25879),l=i(31738),d=i(2833),c=i(50097),u=i(39842),p=i(60602),m=i(84469),h=i(40377);!function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context"}(o||(o={}));const g=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}),v=(0,l.memo)((0,l.forwardRef)((function(e,t){var{src:i,playProgress:o,horizontal:v,muteSetting:y,onUnmount:_,onEnded:b,onWaiting:f,disableDownload:x=!0,itemMute:k=!1,metrics:w=null,bitrate:C,hevcTest:j,bitrateInfo:S}=e,T=(0,n.__rest)(e,["src","playProgress","horizontal","muteSetting","onUnmount","onEnded","onWaiting","disableDownload","itemMute","metrics","bitrate","hevcTest","bitrateInfo"]);const P=(0,l.useRef)(null),I=(0,l.useRef)(!1),[{mute:O,volume:D},{setMute:M}]=(0,r.b)(d.x,{selector:e=>({mute:y||e.mute,volume:e.volume}),dependencies:[y]}),R=(0,s.m)(d.x,{selector:e=>e.playing,dependencies:[]}),L=(0,l.useRef)({time:-1,size:-1}),B=(0,l.useMemo)((()=>{if((0,h.y)())return{url:i,codecType:"h264"};const e=null===c.sv||void 0===c.sv?void 0:c.sv.useHevc("desktop"),t=null!=j?j:c.sv.hevcTest;if(t.open=e&&t.open,!S||0===(null==S?void 0:S.length))return{url:i,codecType:"h264"};const{src:o,codecType:n}=(0,u.ih)({hevcTest:t,bitrateInfo:S,downgradeUrl:i,backupDomain:!0});return{url:o,codecType:n}}),[S,i]);(0,l.useImperativeHandle)(t,(()=>{const e=P.current;return{play:()=>(0,n.__awaiter)(this,void 0,void 0,(function*(){try{yield null==e?void 0:e.play()}catch(e){}})),pause:()=>{try{null==e||e.pause()}catch(e){}},seek:t=>{if(e){const{duration:i}=e;e.currentTime=i*t}},seekTime:t=>{e&&(e.currentTime=t)},onSeeked:t=>{null==e||e.addEventListener("seeked",t)},onSeeking:t=>{null==e||e.addEventListener("seeking",t)},onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",(()=>{var i,o;const n=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(o=e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>g(e)}}));const A=(0,l.useCallback)(((e=0)=>(0,n.__awaiter)(this,void 0,void 0,(function*(){var t,i,o;if(!(e>=3))try{yield null===(t=P.current)||void 0===t?void 0:t.play()}catch(t){const n=null!==(i=null==t?void 0:t.message)&&void 0!==i?i:"";(null!==(o=n.match("failed because the user didn't interact with the document first."))&&void 0!==o?o:n.match("The request is not allowed by the user agent or the platform in the current context"))?(M(!0),setTimeout((()=>{A(e+1)}),0)):A(e+1)}}))),[M]);(0,l.useEffect)((()=>{P.current&&(P.current.volume=D)}),[D]),(0,l.useEffect)((()=>{A(),P.current&&Math.abs(P.current.currentTime-o)>.2&&(P.current.currentTime=o)}),[o,A]),(0,l.useEffect)((()=>{var e;R?I.current&&(I.current=!1,A()):(I.current=!0,null===(e=P.current)||void 0===e||e.pause())}),[R,A]),(0,l.useEffect)((()=>{const e=P.current;return()=>{L.current.time>0&&L.current.size>0&&(0,p.E)({time:L.current.time,size:L.current.size}),null==_||_(g(e))}}),[]);const F=(0,l.useCallback)((e=>{e.preventDefault()}),[]);(0,l.useEffect)((()=>{const e=P.current;return x&&(null==e||e.addEventListener("contextmenu",F)),()=>{null==e||e.removeEventListener("contextmenu",F)}}),[P,F,x]);const E=(0,l.useCallback)((e=>{null==f||f(e)}),[f]),Z=(0,l.useCallback)((e=>{null==b||b(e),A()}),[b,A]),z=(0,l.useCallback)((()=>{if(P.current){const e=P.current;if(C&&C>0){let t=0;for(let i=0;i<e.buffered.length;i++)t+=e.buffered.end(i)-e.buffered.start(i);const i=t*C/8;L.current={time:t,size:i}}}}),[C]);return(0,a.jsx)(m.Ex,Object.assign({horizontal:v,ref:P,src:B.url},T,{muted:k||O,playsInline:!0,autoPlay:!0,onEnded:Z,onWaiting:E,onProgress:z}),void 0)})))},10967:(e,t,i)=>{"use strict";i.d(t,{S:()=>it});var o=i(71030),n=i(31738),a=i(41115),r=i(25879),s=i(6156),l=i(70717),d=i(84033),c=i(81530),u=i(22266);class p{constructor(e="webapp",{playReport:t,experienceReport:i}){this.project=e,this._platform="",this._url="",this._playMode=0,this._videoQualityHandleParams=null,this._videoPlayHandleParams=null,this._playbackAttributes=null,this.isIos=!1,this.isAndroid=!1,this.videoExperienceReport=i,this.videoPlayReport=t,this.videoQualityReport=new u.k}set platform(e){this._platform=e,this.isIos="ios"===this._platform,this.isAndroid="android"===this._platform}set playMode(e){this._playMode=e}set url(e){this._url=e}set videoQualityHandleParams(e){this._videoQualityHandleParams=e}set videoPlayHandleParams(e){this._videoPlayHandleParams=e}set playbackAttributes(e){this._playbackAttributes=e}updateMetricsParams({playbackAttribute:e,videoQualityParams:t}){e&&(this.playbackAttributes=e),t&&(this.videoQualityHandleParams=t)}onPlay(){"webapp-mobile"===this.project&&this.videoQualityReport.handlePlay()}onPlaying(){this.videoExperienceReport.reportVideoInteract({endTime:Date.now(),videoSource:this._url})}onPause(){this._videoQualityHandleParams&&"webapp-mobile"===this.project&&this.videoQualityReport.handlePause(this._videoQualityHandleParams),this._videoPlayHandleParams&&this._playbackAttributes&&this.videoPlayReport.handlePause(Object.assign(Object.assign({},this._videoPlayHandleParams),this._playbackAttributes))}onWaiting(){this._videoQualityHandleParams&&"webapp-mobile"===this.project&&this.videoQualityReport.handleWaiting(this._videoQualityHandleParams),this._videoPlayHandleParams&&this._playbackAttributes&&this.videoPlayReport.handleWaiting(Object.assign(Object.assign({},this._videoPlayHandleParams),this._playbackAttributes))}onLoadStart(){this._videoQualityHandleParams&&"webapp-mobile"===this.project&&this.videoQualityReport.handleLoadStart(this._videoQualityHandleParams)}onLoadedData(){this._videoQualityHandleParams&&"webapp-mobile"===this.project&&this.videoQualityReport.handleLoadedData(this._videoQualityHandleParams)}onCanPlay(){this.videoExperienceReport.getCurrentPageReport()||(this.videoExperienceReport.reportVideoFirstScreen({endTime:Date.now(),videoSource:this._url}),this.videoExperienceReport.reportVideoAddition({endTime:Date.now(),videoSource:this._url}))}onCanPlayThrough(){this.isIos&&(this.videoExperienceReport.getCurrentPageReport()||(this.videoExperienceReport.reportVideoFirstScreen({endTime:Date.now(),videoSource:this._url}),this.videoExperienceReport.reportVideoAddition({endTime:Date.now(),videoSource:this._url})))}onTimeUpdate(){var e;this._videoQualityHandleParams&&this._videoPlayHandleParams&&this._playbackAttributes&&("webapp-mobile"===this.project?this.videoPlayReport.handleTimeUpdate(Object.assign(Object.assign({},this._videoPlayHandleParams),this._playbackAttributes),!0):this.videoPlayReport.handleTimeUpdate(Object.assign(Object.assign({},this._videoPlayHandleParams),this._playbackAttributes)),"webapp-mobile"===this.project&&this.videoQualityReport.handleTimeUpdate(Object.assign(Object.assign({},this._videoQualityHandleParams),this._playbackAttributes))),!this.videoExperienceReport.getFirstFrameReport()&&this._playbackAttributes&&this.videoExperienceReport.reportVideoFirstFrame(null!==(e=this._playbackAttributes.currentTime)&&void 0!==e?e:-1)}onError(){this._videoQualityHandleParams&&"webapp-mobile"===this.project&&this.videoQualityReport.handleError(this._videoQualityHandleParams),this._videoPlayHandleParams&&this.videoPlayReport.handleError(this._videoPlayHandleParams)}onEnded(){this._videoPlayHandleParams&&this.videoPlayReport.handleEnded(this._videoPlayHandleParams),"webapp-mobile"===this.project&&this.videoQualityReport.handleEnded()}onSlideChange(e){var t,i;0!==(null!==(i=null===(t=this._playbackAttributes)||void 0===t?void 0:t.duration)&&void 0!==i?i:0)&&(this._videoQualityHandleParams&&"webapp-mobile"===this.project&&(this.videoQualityReport.resetWhenSlideChange(Object.assign(Object.assign(Object.assign({},this._videoQualityHandleParams),this._playbackAttributes),e)),this.videoQualityReport.resetStateWhenSlideChange()),this._videoPlayHandleParams&&this.videoPlayReport.handlePlayTime(this._videoPlayHandleParams))}onUnmount(e){this.isIos||this.onSlideChange(e)}onProgress(e,t){let i=0;for(let t=0;t<e.length;t++)i+=e.end(t)-e.start(t);const o=i*t/8;"webapp-mobile"===this.project&&this.videoQualityReport.updateNativePlayerCDNCache(i,o)}mseCDNCache(e){"webapp-mobile"===this.project&&this.videoQualityReport.msePlayerCacheUpdate(e)}pauseAction(e){this.videoPlayReport.triggerPause({enter_method:e,playMode:this.playMode})}setPlayerType(e){"webapp-mobile"===this.project&&this.videoQualityReport.updatePlayerType(e)}updateFrameInfo(e){"webapp-mobile"===this.project&&this.videoQualityReport.updateFrameInfo(e)}}var m=i(2833),h=i(62064),g=i(50297),v=i(66943),y=i(33148),_=i(17560),b=i(69634),f=i(19341),x=i(94290),k=i(75674),w=i(84469);const C=(0,n.memo)((0,n.forwardRef)((function({poster:e,videoCover:t,lazyLoading:i=!0,horizontal:a,playUrl:u,id:C,teaParams:j,index:S,mode:T,itemMute:P,desc:I,topSearchQueryAfterViewWord:O,onVideoPause:D,onVideoEnded:M,onVideoError:R,e2eTag:L,onTimeUpdate:B,subtitleStruct:A,disableDownload:F=!0,posterStyle:E,bitrateInfo:Z},z){const{currentVideo:U,playProgress:W,isAutoScroll:V=!1}=(0,r.m)(c.f),N=(0,n.useRef)(null),$=(0,n.useRef)(null),q=(0,s.fz)(l.ec),G=(0,s.fz)(d.KF),[H,Q]=(0,n.useState)(!1),Y=(0,n.useMemo)((()=>(0,h.yF)()?null:new p("webapp-desktop",{playReport:q,experienceReport:G})),[G,q]),K=(0,n.useCallback)((()=>{var e,t;null===(t=null===(e=N.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}),[]),J=(0,n.useCallback)((()=>{var e,t;null===(t=null===(e=N.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)}),[]),X=(0,n.useMemo)((()=>{if(!U)return!1;const{id:e,index:t,mode:i}=U;return e===C&&t===S&&i===T}),[C,S,T,U]);(0,n.useEffect)((()=>{null==Y||Y.setPlayerType(2)}),[Y]),(0,n.useImperativeHandle)(z,(()=>({play:e=>{K(),$.current=!0,e&&q.triggerResume({enter_method:"click_resume",playMode:T})},pause:()=>{J(),$.current=!1,q.triggerPause({enter_method:"click_pause",playMode:T})},seek:e=>{var t;null===(t=N.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=N.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=N.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=N.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=N.current)||void 0===t||t.onTimeUpdate(e)},getFullscreen:()=>{},exitFullscreen:()=>{},replay:()=>{K(),$.current=!0},get currentTime(){var e,t;return null!==(t=null===(e=N.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=N.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return X&&H}})),[K,J,q,T,X,H]),(0,n.useEffect)((()=>{X||Q(!1)}),[X]);const ee=(0,g.Mz)();(0,n.useEffect)((()=>{const e=null===$.current||$.current;ee&&e?K():(J(),X&&!ee&&q.triggerPause({enter_method:"switch_tab",playMode:T}))}),[ee,K,J,q,X,T]);const te=(0,_.S1)(C),ie=(0,n.useCallback)((()=>{var e;const t=(0,v.m7)(null===(e=N.current)||void 0===e?void 0:e.getPlayerAttributes()),{bitrate:i,author_id:o,format:n,encodedType:a,videoQuality:r,encodeUserTag:s,codecType:l,definition:d,secret:c,forFriend:p}=j;return Object.assign(Object.assign({id:C,authorId:o,playMode:T,bitrate:i,format:n,encodedType:a,videoQuality:r,encodeUserTag:s,codecType:l,definition:d,secret:c,forFriend:p,play_url:u},null!=t?t:{}),te)}),[C,T,j,u,te]),{mute:oe}=(0,r.m)(m.x),ne=(0,n.useMemo)((()=>{const{group_id:e="",author_id:t="",is_scheduled:i,search_id:o,search_keyword:n,search_result_id:a,question_id:r,collection_id:s,collection_name:l,isPaidPartnership:d,poi_id:c,is_sub_only_video:u,isPinnedItem:p}=j||{};return Object.assign({itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:o,searchKeyword:n,searchResultId:a,questionId:r,playMode:T,isMute:oe,isAutoScroll:V,collectionId:s,collectionName:l,isPaidPartnership:Boolean(d),poiId:c,isSubOnlyVideo:u,isCopyrightMuted:P,isPinnedItem:p},te)}),[T,oe,V,P,j,te]),ae=(0,n.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,v.m7)(null===(e=N.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},ne),{currentTime:t,duration:i})}),[ne]);(0,n.useEffect)((()=>{j&&Y&&(Y.videoPlayHandleParams=ae())}),[ae,Y,j]);const{loading:re,handleCanPlayWithLoading:se,handleWaitingWithLoading:le}=(0,g.Fk)({isCurrentVideo:X}),de=(0,n.useCallback)((()=>{var e;null==Y||Y.updateMetricsParams({playbackAttribute:null===(e=N.current)||void 0===e?void 0:e.getPlayerAttributes(),videoQualityParams:ie()}),se(),Q(!0),null==Y||Y.onCanPlay()}),[ie,Y,se]),ce=(0,n.useCallback)((()=>{var e,t;const{currentTime:i=0,duration:o=0}=(0,v.m7)(null===(e=N.current)||void 0===e?void 0:e.getPlayerAttributes());null==Y||Y.updateMetricsParams({playbackAttribute:Object.assign({},null===(t=N.current)||void 0===t?void 0:t.getPlayerAttributes()),videoQualityParams:ie()}),null==Y||Y.onTimeUpdate(),null==B||B(i/o)}),[ie,Y,B]),ue=(0,g.ru)(),pe=(0,n.useCallback)((e=>{var t;null==R||R(e),ue(e),null==Y||Y.updateMetricsParams({playbackAttribute:null===(t=N.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:ie()}),null==Y||Y.onError()}),[ie,Y,R,ue]),me=(0,n.useCallback)((()=>{var e;le(),null==Y||Y.updateMetricsParams({playbackAttribute:null===(e=N.current)||void 0===e?void 0:e.getPlayerAttributes(),videoQualityParams:ie()}),null==Y||Y.onWaiting()}),[ie,Y,le]),he=(0,n.useCallback)((e=>{var t;null==M||M(e),null==Y||Y.updateMetricsParams({playbackAttribute:null===(t=N.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:ie()}),null==Y||Y.onEnded()}),[ie,Y,M]),ge=(0,n.useCallback)((e=>{var t;null==Y||Y.updateMetricsParams({playbackAttribute:null===(t=N.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:ie()}),null==Y||Y.onUnmount(Object.assign({},e))}),[ie,Y]);(0,n.useEffect)((()=>{X||null==D||D({})}),[X,D]);const ve=a||2===T||3===T||4===T||6===T||5===T,ye=(0,b.Y)()&&O?`${O}. ${I}`:I,{armCoreContentEvent:_e}=(0,n.useContext)(x._);return(0,o.jsxs)(w.wu,Object.assign({horizontal:a,mode:T},{children:[e?(0,o.jsx)(w.TF,{horizontal:ve,mode:T,src:e,alt:ye,loading:i?"lazy":"eager",style:E,onLoad:_e},void 0):t?(0,o.jsx)(f.y,{video:t,objectFit:ve?"contain":"cover",style:E,alt:ye,onLoad:_e},void 0):null,X&&(0,o.jsxs)(w.Kp,Object.assign({"data-e2e":L},{children:[(0,o.jsx)(k.N,{ref:N,horizontal:ve,muteSetting:P||y.PA[T].forceMute,defaultMute:y.PA[T].defaultMute,playProgress:null!=W?W:0,src:u,onUnmount:ge,onTimeUpdate:ce,onError:pe,onCanPlay:de,onWaiting:me,onEnded:he,disableDownload:F,bitrate:j.bitrate,metrics:Y,bitrateInfo:Z},void 0),re&&(0,o.jsx)(w.Nm,{},void 0),4!==T&&6!==T||!A?null:(0,o.jsx)("track",{default:!0,kind:"subtitles",srcLang:A.language,src:A.url},void 0)]}),void 0)]}),void 0)})));var j,S,T,P=i(22403),I=i(99333),O=i(59933),D=i.n(O),M=i(43226),R=i.n(M),L=i(47654),B=i(36650),A=i(31914),F=i(78333),E=i(13459);!function(e){e.Normal="normal",e.Downgrade="downgrade"}(j||(j={})),function(e){e.Unknown="unknown",e.Slow="slow",e.Normal="normal",e.Fast="fast"}(S||(S={})),function(e){e.Eslow2g="slow-2g",e.E2g="2g",e.E3g="3g",e.E4g="4g"}(T||(T={}));const Z={instanceMode:"downgrade",metaChunkSize:314572.8,dataChunkSize:838860.8,bufferEnoughTime:1.2,number:1},z=[];z.push({maxSpeed:9.75,minSpeed:0,instanceConfig:{instanceMode:"downgrade",metaChunkSize:734003.2,dataChunkSize:838860.8,bufferEnoughTime:30,number:1}}),z.push({maxSpeed:1e4,minSpeed:9.75,instanceConfig:{instanceMode:"normal",metaChunkSize:314572.8,dataChunkSize:838860.8,bufferEnoughTime:4,number:3}});const U="undefined"==typeof window||"undefined"==typeof document;function W(){return"undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0}function V(){var e;return"undefined"==typeof navigator?0:null!==(e=null===navigator||void 0===navigator?void 0:navigator.deviceMemory)&&void 0!==e?e:4}W(),V();const N=!("undefined"==typeof window||!window.MediaSource)&&"function"==typeof window.MediaSource.isTypeSupported;"undefined"!=typeof window&&N&&['video/mp4;codecs="hev1.1.6.L120.90"','video/mp4;codecs="hev1.2.4.L120.90"','video/mp4;codecs="hev1.3.E.L120.90"','video/mp4;codecs="hev1.4.10.L120.90"'].reduce(((e,t)=>e||window.MediaSource.isTypeSupported(t)),!1);class ${constructor(){this.getConfigWithNativeInfo=(e,t)=>{if(t>2&&N)for(const t of this.instanceConfigSpeedRanges){const{maxSpeed:i,minSpeed:o}=t;if(e>=o&&e<i)return t.instanceConfig}return Z},this.instanceConfigSpeedRanges=z}set dynamicSpeedRanges(e){this.instanceConfigSpeedRanges=e}}class q{constructor(){this.cpuNum=W(),this.memory=V()}}class G{constructor(){this.addChunk=e=>{this.chunks.push(e),this.chunks.length>=this.maxLength&&this.chunks.shift()},this.release=()=>{this.chunks=[]},this.chunks=[],this.maxLength=6,this.lastAverageSpeed=0}get averageSpeed(){let e=0,t=0;for(const i of this.chunks)i.size>0&&i.duration>0&&(e+=i.size,t+=i.duration);return t>0&&(this.lastAverageSpeed=8*e/1024/1024/t),this.lastAverageSpeed}}class H{constructor(){this.calculateNetworkLevelFromBaseSpeed=()=>{let e="slow";const t=this.baseSpeed;return t>8?e="fast":t>=2&&(e="normal"),e},this.calculateNetworkLevelFromAverageSpeed=()=>{let e="unknown";const t=this.averageSpeed;var i,o;return t>0?t>8?e="fast":t>=2&&(e="normal"):"4g"===("undefined"==typeof navigator?"":null!==(o=null===(i=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===i?void 0:i.effectiveType)&&void 0!==o?o:"")&&(e="fast"),e},this.speedMeasurement=new G}inputDownloadedChunkInfo(e,t){this.speedMeasurement.addChunk({size:e,duration:t})}get averageSpeed(){return this.speedMeasurement.averageSpeed}get baseSpeed(){return"undefined"==typeof navigator?0:null!==(t=null===(e=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===e?void 0:e.downlink)&&void 0!==t?t:0;var e,t}get speed(){return this.averageSpeed?this.averageSpeed:this.baseSpeed}get networkLevel(){const e=this.calculateNetworkLevelFromBaseSpeed(),t=this.calculateNetworkLevelFromAverageSpeed();return"unknown"!==t?t:e}}class Q{constructor(e,t="Base",i){this.uuid=Q.generateUUID(),this.element=e,this.type=t,this.player=i}static generateUUID(){return this.UUIDBase++,this.UUIDPrefix+this.UUIDBase}style(e,t){this.element.style[e]=t}get currentTime(){return this.element.currentTime}set currentTime(e){this.element.currentTime=e}get duration(){return this.element.duration}get width(){return this.element.videoWidth}get height(){return this.element.videoHeight}get error(){var e,t;return null!==(t=null===(e=this.element.error)||void 0===e?void 0:e.code)&&void 0!==t?t:-1}get getAttributes(){var e,t,i,o,n;return{buffered:this.element.buffered,currentSrc:null!==(e=this.element.currentSrc)&&void 0!==e?e:"",currentTime:null!==(t=this.element.currentTime)&&void 0!==t?t:0,duration:null!==(i=this.element.duration)&&void 0!==i?i:0,readyState:null!==(o=this.element.readyState)&&void 0!==o?o:0,error:null!==(n=this.element.error)&&void 0!==n?n:null}}get isReady(){return Boolean(this.element&&this.element.readyState>=2)}}function Y(e,t){return!!e&&(e.classList?Array.prototype.some.call(e.classList,(e=>e===t)):!!e.className&&Boolean(e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))))}Q.UUIDBase=0,Q.UUIDPrefix="PLAYER_",Q.isSupported=!0;const K=(e,t)=>(0,P.__awaiter)(void 0,void 0,void 0,(function*(){if(null==e?void 0:e.requestFullscreen){const t=e.requestFullscreen();t&&t.catch((function(){console.log("fullscreen error")}))}else(null==e?void 0:e.mozRequestFullScreen)?yield e.mozRequestFullScreen():(null==e?void 0:e.webkitRequestFullscreen)?yield e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):(null==t?void 0:t.webkitSupportsFullscreen)?t.webkitEnterFullscreen():(null==e?void 0:e.msRequestFullscreen)?yield e.msRequestFullscreen():e&&function(e,t){e&&(e.classList?t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((t=>{t&&e.classList.add(t)})):Y(e,t)||(e.className+=` ${t}`))}(e,"xgplayer-is-cssfullscreen")})),J=e=>(0,P.__awaiter)(void 0,void 0,void 0,(function*(){document.exitFullscreen?yield document.exitFullscreen():document.webkitExitFullscreen?yield document.webkitExitFullscreen():document.mozCancelFullScreen?yield document.mozCancelFullScreen():document.msExitFullscreen&&(yield document.msExitFullscreen()),e&&function(e,t){e&&(e.classList?t.split(/\s+/g).forEach((t=>{e.classList.remove(t)})):Y(e,t)&&t.split(/\s+/g).forEach((t=>{const i=new RegExp(`(\\s|^)${t}(\\s|$)`);e.className=e.className.replace(i," ")})))}(e,"xgplayer-is-cssfullscreen")})),X=class extends Q{constructor(){const e=new E.BasicPlayer({});super(e.el,e.type,e),this.player=e,this.initAttributes(),this.initStyle()}get currentTime(){var e,t;return null!==(t=null===(e=this.element)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0}set currentTime(e){this.element&&(this.element.currentTime=e)}bindEvent(e,t){this.player.on(e,t)}mute(e){this.player.mute(e)}access(){return this.player.access()}load(e){this.player.load(e)}demux(){}decode(){}render(){}updateConfig(e){}seek(e){this.player.seek(e)}play(){return this.player.play()}pause(){this.player.pause()}release(){}reset(){this.pause(),this.seek(0)}removeEvent(e,t){this.player.off(e,t)}isSupported(){return!0}addSubtitle(e,t,i,o){this.player.addSubtitle(e,t,i,o)}onceEvent(e,t){const i=o=>{t(o),this.player.off(e,i)};this.player.on(e,i)}getFullscreen(e){return(0,P.__awaiter)(this,void 0,void 0,(function*(){yield K(e,this.element)}))}exitFullscreen(e){return(0,P.__awaiter)(this,void 0,void 0,(function*(){yield J(e)}))}seekTime(e){this.element&&(this.element.currentTime=e)}get playbackRate(){return this.element.playbackRate}set playbackRate(e){this.element.playbackRate=e}get muted(){var e;return null===(e=this.element)||void 0===e?void 0:e.muted}set muted(e){this.element.muted=e}get volume(){return this.element.volume}set volume(e){this.element.volume=e}get duration(){return this.element.duration}get isCanplay(){return this.player.isReady}replay(){var e;null===(e=this.player)||void 0===e||e.replay()}getCurrentDefinition(){const e={url:"",definition:"",bitrate:-1,duration:-1,codecType:""};if(!this.mediaDefinitions)return e;for(const e of this.mediaDefinitions){const{url:t}=e;if(t instanceof Array){for(const i of t)if(this.element.currentSrc===i.src)return{url:i.src,definition:e.definition,bitrate:e.bitrate,duration:e.duration,codecType:e.codecType}}else if(this.element.currentSrc===e.url)return{url:e.url,definition:e.definition,bitrate:e.bitrate,duration:e.duration,codecType:e.codecType}}return e}initStyle(){this.element.style["::-webkit-media-controls-enclosure"]={display:"none !important"}}initAttributes(){this.element.autoplay=!1,this.element.controls=!1,this.element.loop=!1,this.element.muted=!1,this.element.playsInline=!0,this.element.preload="auto"}};class ee extends Q{constructor(){const e=new E.StreamPlayer({withCredentials:!0});super(e.el,e.type,e),this.initAttributes(),this.initStyle()}bindEvent(e,t){this.player.on(e,t)}removeEvent(e,t){this.player.off(e,t)}onceEvent(e,t){const i=o=>{t(o),this.player.off(e,i)};this.player.on(e,i)}mute(e){this.element.muted=e}access(){return this.player.play().then((()=>{this.element.pause()}))}load(e){this.player.load(e)}updateConfig(e){e.metaChunkSize&&(this.player.metaChunkSize=e.metaChunkSize),e.dataChunkSize&&(this.player.dataChunkSize=e.dataChunkSize),e.bufferEnoughTime&&(this.player.bufferEnoughTime=e.bufferEnoughTime)}demux(){}decode(){}render(){}seek(e){this.player.seek(e)}play(){return this.player.play()}pause(){this.player.pause()}release(){this.player.release()}reset(){this.pause(),this.seek(0)}addSubtitle(e,t,i,o){this.player.addSubtitle(e,t,i,o)}getFullscreen(e){return(0,P.__awaiter)(this,void 0,void 0,(function*(){yield K(e,this.element)}))}exitFullscreen(e){return(0,P.__awaiter)(this,void 0,void 0,(function*(){yield J(e)}))}seekTime(e){this.element&&(this.element.currentTime=e)}get playbackRate(){return this.element.playbackRate}set playbackRate(e){this.element.playbackRate=e}get muted(){var e;return null===(e=this.element)||void 0===e?void 0:e.muted}set muted(e){this.element.muted=e}get volume(){return this.element.volume}set volume(e){this.element.volume=e}get duration(){return this.element.duration}get currentTime(){var e,t;return null!==(t=null===(e=this.element)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0}set currentTime(e){this.element&&(this.element.currentTime=e)}get isCanplay(){return this.player.isReady}replay(){var e;null===(e=this.player)||void 0===e||e.replay()}getCurrentDefinition(){const e={url:"",definition:"",bitrate:-1,duration:-1,codecType:""};if(!this.mediaDefinitions)return e;for(const e of this.mediaDefinitions){const{url:t}=e;if(t instanceof Array){for(const i of t)if(this.element.currentSrc===i.src)return{url:i.src,definition:e.definition,bitrate:e.bitrate,duration:e.duration,codecType:e.codecType}}else if(this.element.currentSrc===e.url)return{url:e.url,definition:e.definition,bitrate:e.bitrate,duration:e.duration,codecType:e.codecType}}return e}initStyle(){this.element.style["::-webkit-media-controls-enclosure"]={display:"none !important"}}initAttributes(){this.element.autoplay=!1,this.element.controls=!1,this.element.loop=!1,this.element.muted=!1,this.element.playsInline=!0,this.element.preload="auto"}}ee.isSupported=N;const te=ee;class ie{constructor(){this.instances={},window.vodkit=this.instances}createInstance(e,t){for(let i=0;i<t;i++)if("normal"===e&&te.isSupported){const e=new te;this.instances[e.uuid]={idle:!0,mode:"normal",player:e,isAccessible:!1}}else{const e=new X;this.instances[e.uuid]={idle:!0,mode:"downgrade",player:e,isAccessible:!1}}}getInstance(e){if("normal"===e&&N){for(const e in this.instances)if(this.instances[e].idle&&"normal"===this.instances[e].mode)return this.instances[e].idle=!1,this.instances[e].player;const e=new te;return this.instances[e.uuid]={idle:!1,mode:"normal",player:e,isAccessible:!1},e}{for(const e in this.instances)if(this.instances[e].idle&&"downgrade"===this.instances[e].mode)return this.instances[e].idle=!1,this.instances[e].player;const e=new X;return this.instances[e.uuid]={idle:!1,mode:"downgrade",player:e,isAccessible:!1},e}}releaseInstance(e){const t=e.uuid;this.instances[t]&&(e.pause(),e.release(),this.instances[t].idle=!0)}getInstanceById(e){return this.instances[e]}getInstancesByMode(e){return Object.keys(this.instances).map((e=>this.instances[e])).filter((t=>t.mode===e))}}const oe=U?null:new class{constructor(){this.getConfig=()=>this.configManager.getConfigWithNativeInfo(this.networkManager.speed,this.deviceManager.memory),this.getInstanceMode=()=>this.getConfig().instanceMode,this.getSpeed=()=>this.networkManager.speed,this.mediaPool=new ie,this.networkManager=new H,this.configManager=new $,this.deviceManager=new q,this.config=Z,this.initDowngradePlayer()}getPlayer(e){let t=e;t||(t=this.config.instanceMode),e&&"downgrade"===e||this.updateConfig();let i=this.mediaPool.getInstance(t);return i||(i=this.mediaPool.getInstance("downgrade")),i}getDowngradePlayer(){return this.getPlayer("downgrade")}getInstanceById(e){return this.mediaPool.getInstanceById(e)}getInstanceCount(){return this.mediaPool.getInstancesByMode(this.config.instanceMode).length}setDynamicConfig(e){e&&e.length&&(this.configManager.dynamicSpeedRanges=e,this.updateConfig())}releasePlayer(e){this.mediaPool.releaseInstance(e)}initDowngradePlayer(){this.mediaPool.getInstancesByMode("downgrade").length||this.mediaPool.createInstance("downgrade",1)}updateConfig(){const e=this.config;"normal"!==e.instanceMode&&3!==e.number&&(this.config=this.getConfig());const t=this.mediaPool.getInstancesByMode("downgrade");if("downgrade"===this.config.instanceMode)t.length<this.config.number&&this.mediaPool.createInstance("downgrade",this.config.number-t.length);else if("normal"===this.config.instanceMode){const e=this.mediaPool.getInstancesByMode("normal");e.length<this.config.number&&this.mediaPool.createInstance("normal",this.config.number-e.length),e.forEach((e=>{e.player.player instanceof E.StreamPlayer&&(e.player.player.metaChunkSize=this.config.metaChunkSize,e.player.player.dataChunkSize=this.config.dataChunkSize,e.player.player.bufferEnoughTime=this.config.bufferEnoughTime)}))}this.initDowngradePlayer()}};var ne,ae,re=i(95545),se=i(17162),le=i(2185),de=i(59783);!function(e){e.PlayQuality="video_play_quality",e.PlayEnded="video_play_end",e.PlayFailed="video_play_failed",e.BlockStart="video_block_start",e.Block="video_block",e.Request="video_request",e.RequestResponse="video_request_response",e.FirstFrame="first_feed_show_time"}(ne||(ne={})),function(e){e[e.Public=0]="Public",e[e.Self=1]="Self",e[e.Friend=2]="Friend"}(ae||(ae={}));const ce=(e=0)=>["one_column","three_column","browser_mode","swiper_mode","video_detail","pip","fullscreen","creator_tab"][e],ue=e=>e?e.map((e=>e.GearName||"")):null,pe=e=>e?e.map((e=>e.QualityType&&e.Bitrate?`${e.QualityType}:${e.Bitrate}`:"")).filter((e=>!!e)):null,me=e=>{if(!e)return 0;let t=0;for(let i=0;i<e.length;i++)t+=e.end(i)-e.start(i);return Math.round(1e3*t)},he=new Map([[2,"adapt_lowest_1080p"],[3,"adapt_lower_1080p"],[4,"adapt_1080p"],[7,"adapt_lowest_1440p"],[10,"normal_720p"],[11,"low_720p"],[12,"adapt_high_720p"],[13,"adapt_higher_720p"],[14,"adapt_lower_720p"],[15,"adapt_lowest_720p"],[16,"higher_720p"],[17,"highest_720p"],[18,"adapt_720p"],[19,"adapt_low_720p"],[191,"lower_720p"],[20,"normal_540p"],[21,"adapt_lower_540p"],[22,"adapt_high_540p"],[23,"adapt_higher_540p"],[24,"lower_540p"],[25,"lowest_540p"],[26,"higher_540p"],[27,"highest_540p"],[28,"adapt_540p"],[29,"adapt_lowest_540p"],[291,"adapt_low_540p"],[30,"normal_480p"],[31,"low_480p"],[32,"high_480p"],[33,"medium_480p"],[34,"lower_480p"],[35,"lowest_480p"],[36,"higher_480p"],[37,"highest_480p"],[38,"adapt_480p"],[39,"adapt_lower_480p"],[391,"adapt_high_480p"],[40,"normal_360p"],[41,"low_360p"],[42,"high_360p"],[43,"medium_360p"],[44,"lower_360p"],[45,"lowest_360p"],[46,"higher_360p"],[47,"highest_360p"],[48,"adapt_360p"],[49,"adapt_lowest_360p"],[50,"adapt_high_360p"]]);var ge=i(39842);const ve={paramBf:.3,paramBp:.5,paramUpper:1.5,paramLower:.6,paramUpperBl:.7,paramVl1:.8,paramVl2:3,paramVlUpper:.9,paramVlLower:.7,bitrateUpper:4e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e4,25e6],mode:"bandwidth",quality_filter:{},white_list:[],autoBitrateParams:{paramA:0,paramB:1.537664e-8,paramC:.470864,paramD:128e4,minBitrate:2e5},defaultBitrate:1e6},ye=[{paramBf:.3,paramBp:.5,paramUpper:1.5,paramLower:.6,paramUpperBl:.7,paramVl1:.8,paramVl2:3,paramVlUpper:.9,paramVlLower:.7,bitrateUpper:4e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e4,25e6],mode:"bandwidth",quality_filter:{},white_list:[],autoBitrateParams:{paramA:0,paramB:1.537664e-8,paramC:.470864,paramD:128e4,minBitrate:2e5},defaultBitrate:1e6},{paramBf:.3,paramBp:.5,paramUpper:1.5,paramLower:.6,paramUpperBl:.7,paramVl1:.8,paramVl2:3,paramVlUpper:.9,paramVlLower:.7,bitrateUpper:4e6,bitrateLower:2e5,slidingWindowType:"by_weight",slidingWindowWeight:"size",slidingWindowWeightThreshold:2e7,slidingWindowCountThreshold:30,slidingWindowExtraction:"weighted_median",bitrateRange:[2e4,25e6],mode:"buffer-info1",quality_filter:{},white_list:[],autoBitrateParams:{paramA:0,paramB:1.537664e-8,paramC:.470864,paramD:128e4,minBitrate:2e5},defaultBitrate:1e6}];var _e=i(3979);const be=e=>{_e.W.event("video_mse_error",e)};function fe(e,t){var i,o,n,a,r,s,l,d,c;const u={code:null!==(i=t.errorCode)&&void 0!==i?i:0,message:null!==(o=t.errorMessage)&&void 0!==o?o:"",httpCode:null!==(n=t.httpCode)&&void 0!==n?n:0,url:null!==(a=t.url)&&void 0!==a?a:"",type:e,responseMsg:"",xCache:"",via:"",mode:null!==(r=t.mode)&&void 0!==r?r:"",pathId:null!==(s=t.pathId)&&void 0!==s?s:"",currentTime:null!==(l=t.currentTime)&&void 0!==l?l:0,codec:null!==(d=t.codec)&&void 0!==d?d:"",duration:null!==(c=t.duration)&&void 0!==c?c:0};(null==t?void 0:t.response)?function(e){const t={responseMsg:""};return new Promise((i=>{try{e.headers.forEach(((e,i)=>{t[i.toLocaleLowerCase()]=e})),e.text().then((o=>{e.text=o;const n=o.toLocaleLowerCase(),a=/<body>(([\s\S])*?)<\/body>/.exec(n),r=document.createElement("div");r.innerHTML=a?a[1]:"";const s=r.children;let l="";for(let e=0;e<s.length;e++)l+=`${s[e].innerText}|`;t.responseMsg=l,i(t)})).catch((()=>{i(t)}))}catch(e){i(t)}}))}(t.response).then((t=>{var i,o,n;u.responseMsg=null!==(i=t.responseMsg)&&void 0!==i?i:"",u.xCache=null!==(o=t["x-cache"])&&void 0!==o?o:"",u.via=null!==(n=t.via)&&void 0!==n?n:"",console.info(`>>>>>${e} parseResponse`,u),be(u)})).catch((()=>{u.code=-1e3,be(u),console.info("parse response error")})):be(u)}const xe={mp4Preloader:null,BitrateSelector:i(27359).Z},ke={preloadTime:10,segmentMinDuration:10,preloadCacheType:1,preloadMaxCacheCount:5,minBufferLength:10},we={preloadTime:5,segmentMinDuration:5,preloadCacheType:1,preloadMaxCacheCount:5,minBufferLength:10},Ce={preloadTime:5,segmentMinDuration:5,preloadCacheType:1,preloadMaxCacheCount:5,minBufferLength:5},je={preloadTime:5,segmentMinDuration:5,preloadCacheType:1,preloadMaxCacheCount:8,minBufferLength:10},Se=e=>e?Array.isArray(e)?e.map((e=>({src:e}))):"string"==typeof e?e:[]:[],Te="TT-vCache",Pe=(e,t)=>{const i=[];return e.forEach(((e,o)=>{const n=((e,t,i)=>{if(!Array.isArray(e)||e.length<1)return;const o=[];e.forEach((e=>{const t=Se(e.url);!t||Array.isArray(t)&&0===t.length||o.push({url:t,definition:e.definition,bitrate:e.bitrate,duration:e.duration})}));const n=e[0].id;return{order:t,data:{vid:`${Te}-${n}`,payload:o,preloadTime:i,codecType:e[0].codecType}}})(e,o,t);n&&n.data.payload.length>0&&i.push(n)})),i};function Ie(e,t,i){try{if(!e)return"";const{host:o}=new URL(e);return t.filter((e=>e===o)).length>0?"anonymous":i.filter((e=>e===o)).length>0?"use-credentials":""}catch(e){return""}}var Oe;!function(e){e[e.NIL=-255]="NIL",e[e.UnknownError=-1]="UnknownError",e[e.Ok=0]="Ok",e[e.ReportLiveFailed=90002]="ReportLiveFailed",e[e.VerifyCode=1e4]="VerifyCode",e[e.VideoLikeFreq=2150]="VideoLikeFreq",e[e.VideoLikeFreq2=2210]="VideoLikeFreq2",e[e.VideoUnavailableDeleted=2054]="VideoUnavailableDeleted",e[e.AdVideoUnavailableChange=2752]="AdVideoUnavailableChange",e[e.CommentBanCode=22]="CommentBanCode",e[e.CommentLikePermissionDisable=3002043]="CommentLikePermissionDisable",e[e.SearchSensitiveCode=403]="SearchSensitiveCode",e[e.SearchYoungCode=203]="SearchYoungCode",e[e.SmsInvalidNumber=-1]="SmsInvalidNumber",e[e.SmsSlideVerify=-4]="SmsSlideVerify",e[e.FypVideoListLimit=10404]="FypVideoListLimit",e[e.ClientPageError=450]="ClientPageError",e[e.LiveNeedLogin=10119]="LiveNeedLogin",e[e.SharkBlock=10114]="SharkBlock",e[e.SharkSlide=10113]="SharkSlide",e[e.NetError=10111]="NetError",e[e.ServerErrorNot500=10101]="ServerErrorNot500",e[e.VideoRisk=10228]="VideoRisk",e[e.VideoRMask=10229]="VideoRMask",e[e.VideoRiskMask=10230]="VideoRiskMask",e[e.VideoNeedRecheck=10227]="VideoNeedRecheck",e[e.VideoUnshelveByMusic=10220]="VideoUnshelveByMusic",e[e.VideoNotExist=10204]="VideoNotExist",e[e.VideoAbnormal=10215]="VideoAbnormal",e[e.VideoLowAgeM=10213]="VideoLowAgeM",e[e.VideoLowAgeT=10214]="VideoLowAgeT",e[e.VideoFirstReviewUnshelve=10217]="VideoFirstReviewUnshelve",e[e.VideoPrivateByUser=10216]="VideoPrivateByUser",e[e.VideoGeofenceBlock=10231]="VideoGeofenceBlock",e[e.VideoPhoto=10239]="VideoPhoto",e[e.VideoFriendsOnly=10240]="VideoFriendsOnly",e[e.VideoDeleted=10241]="VideoDeleted",e[e.VideoUserBlockedByAuthor=10242]="VideoUserBlockedByAuthor",e[e.HashtagNotExist=10205]="HashtagNotExist",e[e.HashtagUnshelve=10212]="HashtagUnshelve",e[e.HashtagSensitivityWord=10211]="HashtagSensitivityWord",e[e.HashtagBlackList=10209]="HashtagBlackList",e[e.UserInboxFollowBan=24]="UserInboxFollowBan",e[e.UserNotExist=10202]="UserNotExist",e[e.UserBan=10221]="UserBan",e[e.UserPrivate=10222]="UserPrivate",e[e.UserNotLogin=10102]="UserNotLogin",e[e.UserFtc=10223]="UserFtc",e[e.UserUniqueSensitivity=10225]="UserUniqueSensitivity",e[e.QuestionNotAvailable=10236]="QuestionNotAvailable",e[e.MusicNotExist=10203]="MusicNotExist",e[e.MusicUnshelve=10218]="MusicUnshelve",e[e.MusicNoCopyright=10219]="MusicNoCopyright",e[e.MusicUnavailable=202001]="MusicUnavailable",e[e.GameNotExist=10224]="GameNotExist",e[e.LiveNotExist=10210]="LiveNotExist",e[e.GoLiveRoomBaned=10018]="GoLiveRoomBaned",e[e.GoLiveBaned=4003035]="GoLiveBaned",e[e.LiveRoomPrepare=30019]="LiveRoomPrepare",e[e.LiveRoomEnd=30003]="LiveRoomEnd",e[e.LiveRoomBan=30012]="LiveRoomBan",e[e.LiveNoGatedAuth=4003043]="LiveNoGatedAuth",e[e.LiveNoAgeGatedAuth=4003110]="LiveNoAgeGatedAuth",e[e.LivePaidEvent=4003072]="LivePaidEvent",e[e.LiveSubscriberOnly=4003135]="LiveSubscriberOnly",e[e.LiveSuicideCase=2403]="LiveSuicideCase",e[e.LiveSensitiveTitle=50004]="LiveSensitiveTitle",e[e.LiveRoomBaned=10018]="LiveRoomBaned",e[e.LiveEnterRoomNeedLogin=20003]="LiveEnterRoomNeedLogin",e[e.LiveAccountUnderRiskControl=20063]="LiveAccountUnderRiskControl",e[e.LiveHitBanStrategy=30009]="LiveHitBanStrategy",e[e.LiveOBSAccessRecalled=4003105]="LiveOBSAccessRecalled",e[e.EffectNotExist=10208]="EffectNotExist",e[e.PlaylistNotExist=10233]="PlaylistNotExist",e[e.PlaylistInTrill=10234]="PlaylistInTrill",e[e.VideoPlaylistUnavailable=10243]="VideoPlaylistUnavailable",e[e.VideoPlaylistIsEmpty=10244]="VideoPlaylistIsEmpty",e[e.PrivateAccountLimitByBC=3026002]="PrivateAccountLimitByBC"}(Oe||(Oe={})),new Map([[2,"adapt_lowest_1080p"],[3,"adapt_lower_1080p"],[4,"adapt_1080p"],[7,"adapt_lowest_1440p"],[10,"normal_720p"],[11,"low_720p"],[12,"adapt_high_720p"],[13,"adapt_higher_720p"],[14,"adapt_lower_720p"],[15,"adapt_lowest_720p"],[16,"higher_720p"],[17,"highest_720p"],[18,"adapt_720p"],[19,"adapt_low_720p"],[191,"lower_720p"],[20,"normal_540p"],[21,"adapt_lower_540p"],[22,"adapt_high_540p"],[23,"adapt_higher_540p"],[24,"lower_540p"],[25,"lowest_540p"],[26,"higher_540p"],[27,"highest_540p"],[28,"adapt_540p"],[29,"adapt_lowest_540p"],[291,"adapt_low_540p"],[30,"normal_480p"],[31,"low_480p"],[32,"high_480p"],[33,"medium_480p"],[34,"lower_480p"],[35,"lowest_480p"],[36,"higher_480p"],[37,"highest_480p"],[38,"adapt_480p"],[39,"adapt_lower_480p"],[391,"adapt_high_480p"],[40,"normal_360p"],[41,"low_360p"],[42,"high_360p"],[43,"medium_360p"],[44,"lower_360p"],[45,"lowest_360p"],[46,"higher_360p"],[47,"highest_360p"],[48,"adapt_360p"],[49,"adapt_lowest_360p"],[50,"adapt_high_360p"]]);const De="use-credentials";let Me=!0,Re=!0,Le=ve;const{BitrateSelector:Be}=xe,Ae={width:"100%",height:"100%",controls:!1,closeVideoClick:!0,closeVideoDblclick:!0,closeVideoTouch:!0,closePlayerBlur:!0,closeControlsBlur:!0,closeFocusVideoFocus:!0,closePlayVideoFocus:!0,closeVideoStopPropagation:!0,ignores:["play","start"]},Fe=e=>{var t,i;const{playerType:o,id:n,mode:a,preloadUrlsList:r,url:s,volume:l,playbackRate:d,videoDuration:c,bitrateInfo:u,adaptBitrateVid:p="v1",defaultDefinition:m,playerInitHost:h,shouldUseVideoNormalization:g,defaultBitrate:v,videoOrder:y=[{property:"QualityType",detail:[10,28]},{property:"Bitrate",order:"desc"}],autoPlay:_=!0,bitrateSelectorConfigs:b=ye,preloadConfigVid:f="v1",pathId:x,hevcInfo:k,isTTP:w}=e;re.em.appId=548444,re.em.init(le.P,{channel_domain:w?"https://maliva-mcs.byteoversea.com":"https://sgali-mcs.byteoversea.com"});let{hevcTest:C={open:!1,qualityType:20}}=e,j=null!==(t=null==k?void 0:k.useHevc("desktop"))&&void 0!==t&&t;j=j&&null!==(i=null==k?void 0:k.robustnessTestResult)&&void 0!==i&&i,j||(C={open:!1,qualityType:20});const S=`xgwrapper-${a}-${n}`,T=function(e){switch(e){case"v1":default:return ke;case"v2":return we;case"v3":return Ce;case"v4":return je}}(f);window.preloadTest={preloadConfig:T,vid:f};const{src:P,finalBitrateInfo:I,codecType:O}=(0,ge.ih)({hevcTest:C,bitrateInfo:u,videoOrder:y,downgradeUrl:s}),D=(0,L.o7)(r,C),{group1:M,group2:R}=h;if(Re){try{if("v1"!==p&&b&&b.length>0){const e=Number(p.charAt(1));Be.defaultConfig=b[e-2],Le=b[e-2]}}catch(e){console.error("adaptBitRate Error:",e),"v1"!==p&&(Be.defaultConfig=ve,Le=ve)}Re=!1}window.bitrateConfig="v1"===p?"empty":Le;const B=Ie(P,M,R),A=g,F=B===De?{credentials:"include"}:{},E=!!_&&Me,Z={mode:a,pathId:x},z=e=>Ie(e.url,M,R)===De?{credentials:"include"}:{};let U;xe&&(U=xe.mp4Preloader,U||(U=se.D.registerPreloader(Object.assign(Object.assign({},T),{reqOptions:Object.assign({},F),getRequestOptionsCallback:z}),"v1"!==p?Be:null),xe.mp4Preloader=U,U.on("error",(e=>{Object.assign(Z,{currentTime:0,codec:O,duration:0}),fe("preload",Object.assign(e,Z))}))));const W=((e,t,i)=>!Array.isArray(e)||e.length<1?[]:e.map((e=>{var o,n;return{bitrate:e.Bitrate,definition:null!==(o=e.GearName)&&void 0!==o?o:i,duration:t,url:Se(null===(n=e.PlayAddr)||void 0===n?void 0:n.UrlList),codecType:"h264"===e.CodecType?"h264":"h265"}})))(I,c,m),V={line_app_id:1988,playerCoreVersion:se.Z.version,pv:"",vid:n,vtype:"MP4",codec_type:O.indexOf("h265")>-1?"h265":"h264",tag:x,playMode:ce(a),decodeFlag:O.indexOf("h265")>-1,defaultDefinition:m,defaultBitrate:v};let N;if("xgplayer"===o){const e=Object.assign({url:null!=P?P:"",id:S,autoplay:E,vid:`${Te}-${n}`,plugins:"v1"!==p?[Be,re.ZP,se.Z]:[re.ZP,se.Z],volume:l,playbackRate:d,defaultDefinition:m,defaultBitrate:v,duration:c,definition:W.length>0?{list:W}:void 0,bitrateSelector:Le,codecType:O,vodLogOpts:V,Mp4EncryptPlayer:{reqOptions:Object.assign({},F),getRequestOptionsCallback:z,closeDowngrade:!0,minBufferLength:10,maxBufferLength:30,needPreloadRangeList:!0,needPreloadCheck:!0,needAutoBitrate:!0,removeBufferLen:60,resumePlayWaterLevel:2,segmentMinDuration:10,xhrSetup(e){e.withCredentials=!0}},videoConfig:{crossorigin:A?B:""}},Ae);if(N=new de.ZP(e),U&&W.length>0&&D&&D.length>0&&(N.preloader=U),D&&D.length>0){const e=Pe(D,10);U.addPreloaderList(e)}N.on("PRELOAD_INFO",(e=>{const t=(0,L.Ld)();null==t||t.setPreloadCacheInfo(n,e)}))}else{N=null==oe?void 0:oe.getDowngradePlayer();try{N.load(P)}catch(e){console.info("player load error")}if(W&&W.length>0&&(N.mediaDefinitions=W),N.element.autoplay=E,N.element.volume=l,N.element.playbackRate=d,N.element.crossOrigin=B,N.element.style.width="100%",N.element.style.height="100%",U&&N&&W&&W.length>0&&U.attachPlayer(N.element),W&&W.length>0&&D&&D.length>0){const e=Pe(D,10);U.addPreloaderList(e)}const e=new re.Bg(V);N.logger=e,e.attachPlayer(N.element)}return Me=!1,N};class Ee extends Q{constructor(e,t){const i=Fe(Object.assign(Object.assign({},e),{isTTP:t,playerType:"xgplayer"}));super(i.video,"xgplayer",i),this.uuid=Ee.generateUUID()}static generateUUID(){return this.UUIDBase++,this.UUIDPrefix+this.UUIDBase}style(){}addSubtitle(){}mute(e){this.element.muted=e}get currentTime(){var e,t;return null!==(t=null===(e=this.player)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0}set currentTime(e){this.player.currentTime=e}get isCanplay(){return this.player.isCanplay}get duration(){return this.player.duration}get volume(){return this.player.volume}set volume(e){this.player.volume=e}get muted(){var e;return null===(e=this.player)||void 0===e?void 0:e.muted}set muted(e){this.player.muted=e}get playbackRate(){return this.player.playbackRate}set playbackRate(e){this.player.playbackRate=e}bindEvent(e,t){var i;null===(i=this.player)||void 0===i||i.on(e,t)}removeEvent(e,t){var i;null===(i=this.player)||void 0===i||i.off(e,t)}onceEvent(e,t){var i;null===(i=this.player)||void 0===i||i.once(e,t)}access(){}load(e){this.player&&(this.player.src=e)}demux(){}decode(){}render(){}seek(e){if(this.player){const{duration:t}=this.player;this.player.currentTime=t*e}}seekTime(e){this.player&&(this.player.currentTime=e)}play(){return this.player.play()}pause(){var e;null===(e=this.player)||void 0===e||e.pause()}getFullscreen(e){var t;return(0,P.__awaiter)(this,void 0,void 0,(function*(){yield null===(t=this.player)||void 0===t?void 0:t.getFullscreen(e)}))}exitFullscreen(e){var t;return(0,P.__awaiter)(this,void 0,void 0,(function*(){yield null===(t=this.player)||void 0===t?void 0:t.exitFullscreen(e)}))}release(){var e,t;(null===(e=this.player)||void 0===e?void 0:e.destroy)&&(null===(t=this.player)||void 0===t||t.destroy())}updateConfig(){}reset(){this.player.currentTime=0}replay(){var e;null===(e=this.player)||void 0===e||e.replay()}getCurrentDefinition(){var e,t,i,o,n,a;const r={url:"",definition:"",bitrate:-1,duration:-1,codecType:""},s=null===(e=this.player)||void 0===e?void 0:e.curDefinition;return s&&(r.url=null!==(t=null==s?void 0:s.url)&&void 0!==t?t:"",r.definition=null!==(i=null==s?void 0:s.definition)&&void 0!==i?i:"",r.bitrate=null!==(o=null==s?void 0:s.bitrate)&&void 0!==o?o:-1,r.duration=null!==(n=null==s?void 0:s.duration)&&void 0!==n?n:-1,r.codecType=null!==(a=null==s?void 0:s.codecType)&&void 0!==a?a:""),r}}Ee.UUIDBase=0,Ee.UUIDPrefix="PLAYER_";const Ze=Ee;var ze=i(60602);const Ue=new(i(15585).MultiMediaPlayback),We=(0,n.memo)((0,n.forwardRef)((function({containerId:e="",classList:t=[],player:i,bitrateInfo:o,oncanplay:a,onplay:r,onwaiting:s,onended:l,ontimeupdate:d,onerror:c,onpause:u,onplaying:p,subtitle:m,teaParams:h,videoDimensionParams:g,mode:v,id:y}){const _=(0,n.useMemo)((()=>{let e={};if(!h)return e;const t=Ue.attributes;let i=0;h.forFriend&&(i=2),h.secret&&(i=1);let o="";if(t&&t.src){const e=/^(?:https?:\/\/)?([^\/\s:]+)/,i=t.src.match(e);o=i?i[1]:""}const n={group_id:y,author_id:h.author_id||"",play_mode:ce(v),logo_type:"unwatermarked",item_status:i,play_url:t?t.src:"",host:o,aweme_type:h.aweme_type||0,pic_cnt:h.pic_cnt||0,playlist_id:h.playlist_id||"",popup_type:h.popup_type||"",size:h.size,video_width:g?g.video_width:0,video_height:g?g.video_height:0,video_duration:g?g.video_duration:0};return Ue.device&&(e=Object.assign({},{cpu_core:Ue.device.cpu,memory_size:Ue.device.memory,HEVC_supported:Ue.device.isHEVCSupported?1:0},n)),e}),[h,g,y,v]),b=(0,n.useCallback)((()=>i&&h?((e,t)=>{if(!e)return t;if("string"==typeof e&&e.indexOf("xgpreload_config")>-1)return e;const i=Number(e);if(!he.has(i)){const t=String(e).match(/^([a-zA-Z]*)+_([0-9]+)_0$/i);return t?`${t[1]}_${t[2]}p`:`_${e}`}return he.get(i)})(i.getCurrentDefinition().definition,h.definition):null),[i,h]),f=(0,n.useCallback)((()=>i&&h?i.getCurrentDefinition().bitrate:0),[i,h]),x=(0,n.useCallback)((()=>i&&h?i.getCurrentDefinition().codecType:null),[i,h]),k=(0,n.useCallback)((()=>{let e="";if(!h)return e;const t=b();return h.videoQuality&&t&&(e=`${h.videoQuality}_${t}`),e}),[h,b]),w=(0,n.useCallback)((()=>{const e={};if(h){const t=f(),o=x(),n=k(),a=(0,L.Ld)();let r;y&&(r=a.getPreloadCacheInfo(y)),e.video_bitrate=t||h.bitrate,e.video_format=h.format,e.codec_format=o||"h264",e.encoded_type=h.encodedType,e.bitrate_quality=h.videoQuality,e.video_quality=n,e.video_encodeUserTag=h.encodeUserTag,e.original_definition=h.definition,e.preload_size=r?r.byteLength:-1,e.preload_time=r?Math.floor(r.duration):-1,e.player_type=i?i.type:"defaultPlayer",e.video_type="mp4"}return e}),[h,b,f,x,k,y,i]),C=(0,n.useCallback)((()=>{let e=!1,t=x();return t||(t="h264"),e=!!t&&t.indexOf("h265")>-1,e}),[x]),j=(0,n.useCallback)((()=>{_&&_e.W.event("video_request",_)}),[_]),S=(0,n.useCallback)((e=>{if(!_)return;let t;Ue.attributes&&(t=Ue.attributes.error);const i=k(),o=C(),n=Object.assign({},{duration:Math.round(e.duration),error_code:t?String(t.code):"",is_success:t?"0":"1",video_quality:i,is_bytevc1:o?1:0,isExpired:2,isSupportMP4:1},_);_e.W.event("video_request_response",n)}),[_,C,k]),T=(0,n.useCallback)((()=>{_&&_e.W.event("video_block_start",_)}),[_]),P=(0,n.useCallback)((e=>{if(!_)return;const t=w(),i=C();let o,n=0;Ue.attributes&&(o=Ue.attributes.error,n=Ue.attributes.duration);const a=Object.assign({},t,{error_code:o?String(o.code):"",error_info:o?o.message:"",is_bytevc1:i?1:0,duration:Math.round(1e3*n),isExpired:2,isSupportMP4:1,is_before:0===e.status?0:1},_);_e.W.event("video_play_failed",a)}),[_,w,C]),I=(0,n.useCallback)((e=>{if(!_)return;const t=w(),i=C();let o,n,a=0;const r=e.currentTime;let s=0,l=1,d=!1;const c=e.duration-e.pauseDuration;Ue.attributes&&(o=Ue.attributes.error,a=Ue.attributes.duration||0,s=Ue.attributes.readyState,n=Ue.attributes.buffered,l=Ue.attributes.volume,d=Ue.attributes.muted);const u=Math.min(c,1e3*a);let p=f();p<=0&&(p=h&&h.bitrate?h.bitrate:0);const m=p/8*(u/1e3),g=Object.assign({},t,{is_success:o?"0":"1",video_duration:Math.round(1e3*a),play_duration:Math.round(1e3*r),buffering:s<=2?1:0,duration:Math.round(c),wait_duration:0,cur_cache_duration:me(n),local_time_ms:Date.now(),volume_level:l,volume_change:0,muted:d?1:0,click_mute:0,session_order:0,play_size:Math.round(m),data_player_type:2,cache_size:0,cache_duration:0,cdn_size_video:0,is_bytevc1:i?1:0,drop_frame:0,total_play_frame:0,drop_frame_rate:0,drop_frame_duration:0},_);_e.W.event("video_play_end",g)}),[_,w,C,f,h]),O=(0,n.useCallback)((e=>{if(!_)return;const t=Object.assign({},{feed_total:e.duration},_);_e.W.event("first_feed_show_time",t)}),[_]),D=(0,n.useCallback)((e=>{if(!_)return;let t=0,i=!1;Ue.attributes&&(t=Ue.attributes.duration,i=Ue.attributes.muted);const n=C(),a=w(),r=Object.assign({},a,{duration:Math.round(e.duration),is_bytevc1:n?1:0,video_duration:Math.round(1e3*t),muted:i?1:0,bitrate_set:ue(o),quality_bitrate:pe(o),duration_from_load:0,duration_with_load:0,is_same:0},_);_e.W.event("video_play_quality",r)}),[_,C,o,w]),M=(0,n.useCallback)((e=>{if(!_)return;const t=w();let i=0;Ue.attributes&&(i=Ue.attributes.currentTime);const o=C(),n=Object.assign({},t,{duration:Math.round(e.duration),is_bytevc1:o?1:0,position:Math.round(1e3*i),should_filter:"0",droppedRate:0,end_type:0},_);_e.W.event("video_block",n)}),[_,C,w]),R=(0,n.useCallback)((e=>{e.preventDefault()}),[]),A=(0,n.useCallback)((()=>{null==a||a()}),[a]),F=(0,n.useCallback)((e=>{null==r||r(e)}),[r]),E=(0,n.useCallback)((e=>{null==s||s(e)}),[s]),Z=(0,n.useCallback)((e=>{null==l||l(e)}),[l]),z=(0,n.useCallback)((()=>{null==d||d()}),[d]),U=(0,n.useCallback)((e=>{null==c||c(e)}),[c]),W=(0,n.useCallback)((e=>{null==u||u(e)}),[u]),V=(0,n.useCallback)((e=>{null==p||p(e)}),[p]);return(0,n.useEffect)((()=>()=>{Ue.metrics.finish()}),[y]),(0,n.useEffect)((()=>{if(Ue.metrics)return Ue.metrics.on("PlayEnded",I),()=>{Ue.metrics&&Ue.metrics.off("PlayEnded",I)}}),[I]),(0,n.useEffect)((()=>{if(Ue.metrics)return Ue.metrics.on("VideoRequest",j),Ue.metrics.on("VideoRequestResponse",S),Ue.metrics.on("BlockStart",T),Ue.metrics.on("Block",M),Ue.metrics.on("PlayQuality",D),Ue.metrics.on("PlayFailed",P),Ue.metrics.on("FirstFrame",O),Ue.element&&Ue.element.addEventListener("contextmenu",R),Ue.event&&(Ue.event.on("canplay",A),Ue.event.on("play",F),Ue.event.on("waiting",E),Ue.event.on("ended",Z),Ue.event.on("timeupdate",z),Ue.event.on("error",U),Ue.event.on("pause",W),Ue.event.on("playing",V)),()=>{Ue.metrics&&(Ue.metrics.off("VideoRequest",j),Ue.metrics.off("VideoRequestResponse",S),Ue.metrics.off("BlockStart",T),Ue.metrics.off("Block",M),Ue.metrics.off("PlayQuality",D),Ue.metrics.off("PlayFailed",P),Ue.metrics.off("FirstFrame",O),Ue.element&&Ue.element.removeEventListener("contextmenu",R),Ue.event&&(Ue.event.off("canplay",A),Ue.event.off("play",F),Ue.event.off("waiting",E),Ue.event.off("ended",Z),Ue.event.off("timeupdate",z),Ue.event.off("error",U),Ue.event.off("pause",W),Ue.event.off("playing",V)))}}),[F,A,E,Z,z,U,W,V,j,S,T,M,D,P,O,R,a]),(0,n.useEffect)((()=>{i&&(Ue.player=i)}),[i]),(0,B.tZ)("div",Object.assign({id:e,className:t.join(" ")},{children:m?(0,B.tZ)("track",{default:!0,kind:"subtitles",srcLang:m.language,src:m.url}):null}))})));var Ve=i(50097),Ne=i(17753);const $e=(0,i(40377).y)()?null:new class{constructor(){this.init=(e,t,i,o)=>{this.isInit()||(this.engine=new Ne.Z({meta:Object.assign(Object.assign({},e),{targetLufs:o}),processorName:"mammon-worklet-processor",processorUrl:this.isTTP?"https://lf16-tiktok-web.tiktokcdn-us.com/obj/tiktok-web-tx/tiktok/webapp/main/webapp-desktop/mammon-worklet-processor.min-2.js":"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok/webapp/main/webapp-desktop/mammon-worklet-processor.min-2.js",needPcmData:!1},null),this.engine.attachPlayer(t),this.engine.on("ready",(e=>{var t;this.isReady=!0,t={vid:i,muted:e.muted,volume:e.volume,peak:e.peak,loudness:e.loudness,state:e.state,connectState:e.connectState},_e.W.event("volume_norm_ready",t)})),this.engine.on("error",(e=>{var t;this.isReady=!0,t={vid:i,muted:e.muted,volume:e.volume,peak:e.peak,loudness:e.loudness,error:e.error,state:e.state,connectState:e.connectState},_e.W.event("volume_norm_error",t),console.log("mammon engine error")})))},this.engine=null,this.isReady=!1,this.isTTP=!1}isSupported(){return Ne.Z.isSupported()}resume(){this.engine&&this.engine.resume()}detach(){this.engine&&this.isReady&&this.engine.detachPlayer()}attach(e){this.engine&&this.engine.attachPlayer(e)}isInit(){return Boolean(this.engine)}updateMeta(e,t,i){try{const{peak:o,loudness:n}=t;this.engine&&o&&n&&i&&(this.attach(e),this.engine.updateMeta({peak:o,loudness:n,targetLufs:i}))}catch(e){console.log(e)}}};var qe;!function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context",e.AbortRequest="new load request"}(qe||(qe={}));const Ge=(e,t)=>{var i,o,n,a,r,s,l,d,c,u,p;const m=null!==(i=null==e?void 0:e.element.error)&&void 0!==i?i:null,h=null===(o=null==e?void 0:e.element)||void 0===o?void 0:o.buffered,g=null==e?void 0:e.currentTime,v=null==e?void 0:e.type,y=null==e?void 0:e.getCurrentDefinition();return{buffered:h,currentTime:g,ended:null===(n=null==e?void 0:e.element)||void 0===n?void 0:n.ended,currentSrc:null!=t?t:null===(a=null==e?void 0:e.element)||void 0===a?void 0:a.currentSrc,duration:null==e?void 0:e.duration,readyState:null===(r=null==e?void 0:e.element)||void 0===r?void 0:r.readyState,networkState:null===(s=null==e?void 0:e.element)||void 0===s?void 0:s.networkState,error:m?{code:null==m?void 0:m.code,message:null!==(d=null===(l=null==e?void 0:e.element)||void 0===l?void 0:l.error)&&void 0!==d?d:(null==m?void 0:m.message)||"UNKNOWN_ERROR_MESSAGE",MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4}:null,playerType:v,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted,videoBitrate:null==y?void 0:y.bitrate,videoQuality:null==y?void 0:y.definition,codecType:null!==(c=null==y?void 0:y.codecType)&&void 0!==c?c:"h264",play_url:null!==(p=null===(u=null==e?void 0:e.element)||void 0===u?void 0:u.currentSrc)&&void 0!==p?p:t}},He=(0,n.memo)((0,n.forwardRef)((function({id:e,url:t,mode:i,muteSetting:o,playProgress:a,duration:r,playbackRate:s=1,onCanPlay:l,onPause:d,onPlay:c,onPlaying:u,onTimeUpdate:p,onWaiting:h,onEnded:g,onError:v,onUnmount:y,onVideoChange:_,subtitleStruct:b,disableDownload:f,bitrateInfo:x,adaptBitrateVid:k,volumeInfo:w,defaultDefinition:C,bitrateConfig:j,normalizationVid:S,preloadUrlsList:T,preloader:I,defaultBitrate:O=-1,playerInitHost:D,videoOrder:M,teaParams:R,autoPlay:L,autoReplay:E=!0,size:Z,bitrateSelectorConfigs:z,preloadConfigVid:U,pathId:W="",metrics:V,hevcTest:N={open:!1,qualityType:20},hevcRobustnessTest:$={useHevcRobustTest:!1,forceRobustTest:[]},isTTP:q,videoDimensionParams:G},H){$e&&($e.isTTP=q);const[Q,Y]=(0,n.useState)(null),K=(0,n.useRef)(null),J=(0,n.useRef)(!1),ee=(0,n.useRef)(0),ie=(0,n.useRef)(null),ne=D||{group1:["v16-webapp.tiktok.com","v16m-webapp.tiktokcdn-us.com"],group2:["v16-webapp-prime.tiktok.com","v16-webapp-prime.us.tiktok.com","v19-webapp-prime.us.tiktok.com"]},[ae,re]=(0,n.useState)(!1),se=(0,n.useMemo)((()=>{const e="v1"!==S;if(window.location.host.match("localhost"))return!1;if("undefined"==typeof navigator)return!1;const i=(null===navigator||void 0===navigator?void 0:navigator.hardwareConcurrency)||1,{group1:o,group2:n}=ne,a=function(e){try{if(!e)return"";const{host:t}=new URL(e);return o.filter((e=>e===t)).length>0?"anonymous":n.filter((e=>e===t)).length>0?"use-credentials":""}catch(e){return""}}(t);return!!(e&&(null==$e?void 0:$e.isSupported())&&i>4&&a)}),[]),[{mute:le,volume:de},{setMute:ce}]=(0,F.b7)(m.x,{selector:e=>({mute:1===i?o:o||e.mute,volume:e.volume}),dependencies:[i,o]}),ue=(0,n.useCallback)(((t,o)=>{var n,a,r,s,l,d;const c={mode:i,pathId:W};if("MP4_2"===t){if(ie.current)try{const e=null===(n=ie.current)||void 0===n?void 0:n.element;Object.assign(c,{currentTime:null!==(a=e.currentTime)&&void 0!==a?a:0,codec:null!==(s=null===(r=ie.current)||void 0===r?void 0:r.getCurrentDefinition().codecType)&&void 0!==s?s:"",duration:null!==(l=e.duration)&&void 0!==l?l:0})}catch(e){console.error("playCatch error")}fe("running",Object.assign(o,c))}if(K.current){const t=Fe(Object.assign(Object.assign({},K.current),{playerType:"default",isTTP:q}));t&&(null===(d=ie.current)||void 0===d||d.release(),ie.current=t,re(!1),Y("downgrade"),((e,t)=>{const i=document.getElementById(t);i&&i.appendChild(e)})(t.element,`xgwrapper-${i}-${e}`))}}),[e,i,W]);(0,n.useEffect)((()=>{Ve.sv.hevcRobustnessTest=$}),[$]),(0,n.useEffect)((()=>{ie.current&&("downgrade"===Q?null==V||V.setPlayerType(2):"xgplayer"===Q&&(null==V||V.setPlayerType(1)))}),[V,Q]),(0,n.useEffect)((()=>{if(!Q){Ve.sv.hevcTest=N;const o={playerType:"xgplayer",id:e,url:t,mode:i,volume:de,playbackRate:s,preloadUrlsList:T,disableDownload:f,adaptBitrateVid:k,videoDuration:null!=r?r:0,bitrateInfo:x,bitrateConfig:j,defaultDefinition:C,defaultBitrate:O,playerInitHost:ne,shouldUseVideoNormalization:se||!1,videoOrder:M,autoPlay:L,bitrateSelectorConfigs:z,preloadConfigVid:U,pathId:W,hevcTest:N,hevcInfo:Ve.sv};K.current=o;const n=new Ze(o,q);null==n||n.bindEvent("playCatch",ue),n&&(ie.current=n,Y("xgplayer"))}}),[Q,Z,e,t,i,I,ce,k,C,q]),(0,n.useEffect)((()=>{if(!Q)return;const{mp4Preloader:e}=xe;if(e){const t=e=>{var t,i;A.Z.netSpeedSampling({mSpeed:e.speed,mBytes:e.len,mTime:e.time});const o={task_type:2,cdn_size:e.len,cdn_speed:e.speed,project:"webapp-desktop",is_hevc:null!==(i=null===(t=ie.current)||void 0===t?void 0:t.getCurrentDefinition().codecType)&&void 0!==i?i:""};(0,ze.y)(o),null==V||V.videoQualityReport.msePlayerCacheUpdate(e.len)};return e.on("real_time_speed",t),()=>{e.off("real_time_speed",t)}}}),[Q,V]),(0,n.useEffect)((()=>{var e;if(!Q)return;const t=ie.current;if(ie.current&&t instanceof Ze){const t=e=>{A.Z.netSpeedSampling({mSpeed:e.cdn_speed,mBytes:e.cdn_size});const t={task_type:1,cdn_size:e.cdn_size,cdn_speed:e.cdn_speed,project:"webapp-desktop"};(0,ze.y)(t),null==V||V.videoQualityReport.msePlayerCacheUpdate(e.cdn_size)};return null===(e=ie.current)||void 0===e||e.bindEvent("prf_data_size",t),()=>{var e;null===(e=ie.current)||void 0===e||e.removeEvent("prf_data_size",t)}}}),[Q,V]);const pe=(0,n.useCallback)((e=>{null==c||c(e)}),[c]),me=(0,F.mp)(m.x,{selector:e=>e.playing,dependencies:[]});(0,n.useImperativeHandle)(H,(()=>{const e=ie.current;return{play:()=>(0,P.__awaiter)(this,void 0,void 0,(function*(){$e&&se&&void 0!==(null==w?void 0:w.Peak)&&(null==$e||$e.resume());try{(null==e?void 0:e.isCanplay)?yield null==e?void 0:e.play():null==e||e.onceEvent("canplay",(()=>(0,P.__awaiter)(this,void 0,void 0,(function*(){yield null==e?void 0:e.play()}))))}catch(e){console.info("Video play error: ",e)}})),pause:()=>{try{null==e||e.pause()}catch(e){console.info("Video pause error: ",e)}},seek:t=>{if(e){const i=e.duration;i&&(e.currentTime=i*t)}},seekTime:t=>{null==e||e.seekTime(t)},onSeeked:t=>{null==e||e.bindEvent("seeked",t)},onSeeking:t=>{null==e||e.bindEvent("seeking",t)},onTimeUpdate:t=>{null==e||e.bindEvent("timeupdate",(()=>{var i,o;const n=null!==(i=null==e?void 0:e.currentTime)&&void 0!==i?i:0,a=null!==(o=null==e?void 0:e.duration)&&void 0!==o?o:0;t(n/a,n,a)}))},onCanPlay:t=>{null==e||e.bindEvent("canplay",t)},getFullscreen:t=>(0,P.__awaiter)(this,void 0,void 0,(function*(){yield null==e?void 0:e.getFullscreen(t)})),exitFullscreen:t=>(0,P.__awaiter)(this,void 0,void 0,(function*(){yield null==e?void 0:e.exitFullscreen(t)})),getPlayerAttributes:()=>Ge(e,t),replay:()=>{(null==e?void 0:e.replay)&&(null==e||e.replay())},getPlaybackQuality:()=>null==e?void 0:e.element.getVideoPlaybackQuality()}}));const he=(0,n.useCallback)(((e=0)=>(0,P.__awaiter)(this,void 0,void 0,(function*(){var t,i,o,n,a;if(!(e>=3))try{(null===(t=ie.current)||void 0===t?void 0:t.isCanplay)?yield null===(i=ie.current)||void 0===i?void 0:i.play():null===(o=ie.current)||void 0===o||o.onceEvent("canplay",(()=>(0,P.__awaiter)(this,void 0,void 0,(function*(){var e;yield null===(e=ie.current)||void 0===e?void 0:e.play()}))))}catch(t){const i=null!==(n=t.message)&&void 0!==n?n:"",o=i.indexOf("new load request")>-1,r=null!==(a=i.match("failed because the user didn't interact with the document first."))&&void 0!==a?a:i.match("The request is not allowed by the user agent or the platform in the current context");if(o)return;r?(ce(!0),setTimeout((()=>{he(e+1)}),0)):he(e+1)}}))),[ce]),ge=(0,n.useCallback)((()=>{var e,t;try{(null===(e=ie.current)||void 0===e?void 0:e.replay)&&(null===(t=ie.current)||void 0===t||t.replay())}catch(e){setTimeout((()=>{ce(!0)}),0)}}),[ce]);(0,n.useEffect)((()=>{Q&&ie.current&&($e&&se&&void 0!==(null==w?void 0:w.Peak)&&(null==$e||$e.resume()),ie.current.volume=de,ie.current.muted=le,ie.current.playbackRate=s)}),[Q,le,s,de]),(0,n.useEffect)((()=>{const e=ie.current;Q&&e&&(L&&Q&&he(),e&&Math.abs(e.currentTime-a)>.2&&(e instanceof Ze?ae&&(e.currentTime=a):e.currentTime=a))}),[ae,L,a,he,Q]),(0,n.useEffect)((()=>{var t;const i=null===(t=ie.current)||void 0===t?void 0:t.element;if(void 0!==(null==w?void 0:w.Peak)&&void 0!==(null==w?void 0:w.Loudness)&&Q&&se&&i){const t={peak:w.Peak,loudness:w.Loudness};let o=-12;switch(S){case"v2":default:o=-12;break;case"v3":o=-14;break;case"v4":o=-16}(null==$e?void 0:$e.isInit())&&"stream"!==Q?(null==$e?void 0:$e.isReady)&&$e.updateMeta(i,t,o):null==$e||$e.init(t,i,e,o)}}),[t,Q,e,S]);const ve=(0,n.useCallback)((e=>{Q&&(null==h||h(e))}),[Q,h]),ye=(0,n.useCallback)((e=>{Q&&(null==g||g(e),E&&ge())}),[Q,g,ge,E]),_e=(0,n.useCallback)((()=>{null==p||p()}),[p]),be=(0,n.useCallback)((e=>{null==v||v(e)}),[v]),ke=(0,n.useCallback)((()=>{null==l||l(),re(!0)}),[l]),we=(0,n.useCallback)((e=>{null==d||d(e)}),[d]),Ce=(0,n.useCallback)((e=>{null==u||u(e)}),[u]),je=(0,n.useMemo)((()=>"xgplayer"===Q?"autoplay_was_prevented":"AUTOPLAY_PREVENTED"),[Q]),Se=(0,n.useCallback)((e=>{Q&&setTimeout((()=>{try{if(ee.current>=3)return;if(!(null==e?void 0:e.errorName)||"NotAllowedError"===(null==e?void 0:e.errorName)){ce(!0);const e=ie.current;ie.current&&(ie.current.muted=!0),null==e||e.play()}ee.current+=1}catch(e){console.error("handle autoplay error",e)}}),0)}),[je,Q]);return(0,n.useEffect)((()=>{if(!Q)return;const e=ie.current;return null==e||e.bindEvent(je,Se),()=>{(null==e?void 0:e.element)&&e.removeEvent(je,Se)}}),[Q,Se,je]),(0,n.useEffect)((()=>{if(!Q)return;const e=ie.current;return()=>{"xgplayer"===Q&&e instanceof Ze&&e.removeEvent("playCatch",ue)}}),[Q,ue]),(0,n.useEffect)((()=>{var e;me?J.current&&L&&(J.current=!1,he()):(J.current=!0,null===(e=ie.current)||void 0===e||e.pause())}),[L,me,he]),(0,n.useEffect)((()=>()=>{var e,t,i;const o=null===(e=ie.current)||void 0===e?void 0:e.element.getVideoPlaybackQuality();if(o){null==V||V.updateFrameInfo({drop_frame:o.droppedVideoFrames,total_play_frame:o.totalVideoFrames,drop_frame_rate:o.droppedVideoFrames/o.totalVideoFrames,drop_frame_duration:o.creationTime});const e=null!==(i=null===(t=ie.current)||void 0===t?void 0:t.getCurrentDefinition().codecType)&&void 0!==i?i:"";Ve.sv.setDropRate(o.droppedVideoFrames,o.totalVideoFrames,e)}}),[]),(0,n.useEffect)((()=>()=>{y(Ge(ie.current,t))}),[]),(0,n.useEffect)((()=>()=>{var e,t,i,o;Y("downgrade"),null===(e=xe.mp4Preloader)||void 0===e||e.cancelLoading(),ie.current&&(ie.current instanceof X||ie.current instanceof te)&&(null==oe||oe.releasePlayer(ie.current)),null===(t=ie.current)||void 0===t||t.release(),null===(o=null===(i=ie.current)||void 0===i?void 0:i.logger)||void 0===o||o.destroy(),re(!1),ie.current=null,null==_||_(!1)}),[e,t,i,_]),(0,B.tZ)(We,{containerId:`xgwrapper-${i}-${e}`,classList:["xgplayer-container","tiktok-web-player"],player:ie.current,bitrateInfo:x,oncanplay:ke,onplay:pe,onwaiting:ve,onended:ye,ontimeupdate:_e,onerror:be,onpause:we,onplaying:Ce,subtitle:4===i&&b?b:void 0,teaParams:R,videoDimensionParams:G,mode:i,id:e})})));var Qe=i(70068),Ye=i(67051),Ke=i(18031),Je=i(17471),Xe=i(15137),et=i(45179);const tt=(0,n.memo)((0,n.forwardRef)((function({poster:e,videoCover:t,lazyLoading:i=!0,horizontal:u,playUrl:k,id:C,teaParams:j,index:S,mode:T,itemMute:O,desc:M,topSearchQueryAfterViewWord:B,duration:A,playbackRate:F=1,onVideoPause:E=R(),onVideoPlaying:Z=R(),onVideoPlay:z,onVideoEnded:U,onVideoError:W,onTimeUpdate:V,onVideoInit:N=R(),e2eTag:$,subtitleStruct:q,disableDownload:G=!0,volumeInfo:H=R(),adaptBitrateVid:Q,bitrateInfo:Y,bitrate:K,posterStyle:J,playModeForTea:X,autoPlay:ee=!0,autoReplay:te=!0,size:ie,playerStyle:oe},ne){var ae,re;const{currentVideo:se,playProgress:le,isAutoScroll:de=!1}=(0,r.m)(c.f),ce=(0,s.fz)(l.ec),ue=(0,s.fz)(d.KF),pe=(0,n.useRef)(null),me=(0,n.useRef)(null),[he,ge]=(0,n.useState)(!1),[ve,ye]=(0,n.useState)(k),[_e,be]=(0,n.useState)(!1),fe=(0,n.useRef)(null),xe=(0,I.q)(et.A),ke=(0,a.Km)(),we=(0,s.fz)(Qe.n),Ce=null!=X?X:T,je=(0,n.useMemo)((()=>{if(!se)return!1;const{id:e,index:t,mode:i}=se;return e===C&&t===S&&i===T}),[C,S,T,se]);(0,n.useEffect)((()=>{if(se){const{index:e}=se;if(D()(e)&&(S-e<0||S-e>=3))return void(_e&&(be(!1),fe.current=null))}if(!_e){const e=new p("webapp-desktop",{playReport:ce,experienceReport:ue});be(!0),fe.current=e}}),[_e,se,S,ce,ue]);const Se=(0,n.useCallback)((()=>{var e,t;try{null===(t=null===(e=pe.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}catch(e){}}),[]),Te=(0,n.useCallback)((()=>{var e,t;null===(t=null===(e=pe.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)}),[]);(0,n.useEffect)((()=>{const{id:e,mode:t}=null!=se?se:{};e===C&&T===t||ye(k)}),[se,C,T,k]),(0,n.useEffect)((()=>{je||ge(!1)}),[je]),(0,n.useImperativeHandle)(ne,(()=>({play:e=>{Se(),me.current=!0,e&&ce.triggerResume({enter_method:"click_resume",playMode:T})},pause:()=>{Te(),me.current=!1,ce.triggerPause({enter_method:"click_pause",playMode:Ce})},seek:e=>{var t;null===(t=pe.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=pe.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=pe.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=pe.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=pe.current)||void 0===t||t.onTimeUpdate(e)},getFullscreen:e=>{var t;null===(t=pe.current)||void 0===t||t.getFullscreen(e)},exitFullscreen:e=>{var t;null===(t=pe.current)||void 0===t||t.exitFullscreen(e)},replay:()=>{var e;null===(e=pe.current)||void 0===e||e.replay()},get currentTime(){var e,t;return null!==(t=null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return je&&he}})),[he,je,Te,Se,ce,Ce]);const Pe=(0,g.Mz)();(0,n.useEffect)((()=>{var e;const t=null===me.current||me.current,{ended:i}=(0,v.m7)(null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes());Pe&&t&&ee&&(!i||te)?Se():(Te(),je&&!Pe&&ce.triggerPause({enter_method:"switch_tab",playMode:Ce}))}),[ee,Pe,Se,Te,ce,je,Ce,te]);const Ie=(0,_.S1)(C),Oe=(0,_.mm)({id:C}),De=(0,_.FU)(C),Me=(0,n.useMemo)((()=>{var e;const{videoQuality:t}=(0,v.m7)(null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes()),{definition:i}=j;return(0,Ye.Yr)(t,i)}),[j]),Re=(0,n.useCallback)((()=>{var e;const t=(0,v.m7)(null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes()),{videoBitrate:i,videoQuality:o,codecType:n}=t,a=(0,P.__rest)(t,["videoBitrate","videoQuality","codecType"]),{bitrate:r,author_id:s,format:l,encodedType:d,videoQuality:c,encodeUserTag:u,secret:p,forFriend:m,definition:h,playlist_id:g,popup_type:y,size:_}=j;return Object.assign(Object.assign(Object.assign(Object.assign({id:C,authorId:s,playMode:Ce,bitrate:null!=i?i:r,format:l,encodedType:d,videoQuality:c,encodeUserTag:u,codecType:n,definition:Me,secret:p,forFriend:m,originalDefinition:h,playlist_id:g,popupType:y},null!=a?a:{}),Ie),De),{size:_})}),[C,j,Me,Ce,Ie,De]),{mute:Le}=(0,r.m)(m.x),Be=(0,n.useMemo)((()=>{const{group_id:e,author_id:t,is_scheduled:i,search_id:o,search_keyword:n,search_result_id:a,question_id:r,collection_id:s,collection_name:l,isPaidPartnership:d,poi_id:c,playlist_id:u,popup_type:p,enter_tab:m,diversify_id:h,enter_method:g,is_sub_only_video:v,tab_name:y,isPinnedItem:_}=j;return Object.assign(Object.assign({itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:o,searchKeyword:n,searchResultId:a,questionId:r,playMode:Ce,isMute:Le,collectionId:s,collectionName:l,isPaidPartnership:Boolean(d),poiId:c,playlistId:u,popupType:p,enterTab:m,diversifyId:h,enterMethod:g,isSubOnlyVideo:v,isCopyrightMuted:O,isPinnedItem:_,tab_name:y,isAutoScroll:de},De),Ie)}),[Le,O,j,de,Ce,Ie,De]),Ae=(0,n.useCallback)((()=>{var e;const{currentTime:t=0,duration:i=0}=(0,v.m7)(null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},Be),{currentTime:t,duration:i})}),[Be]);(0,n.useEffect)((()=>{j&&_e&&fe.current&&(fe.current.videoPlayHandleParams=Ae())}),[Ae,j,_e]);const Fe=(0,n.useMemo)((()=>(0,h.yF)()?"":(0,Ke.BB)(window.location.pathname)),[]),{loading:Ee,handleCanPlayWithLoading:Ze,handlePauseWithLoading:ze,handlePlayingWithLoading:Ue,handleWaitingWithLoading:We}=(0,g.Fk)({isCurrentVideo:je}),Ve=(0,n.useCallback)((()=>{var e,t,i;null===(e=fe.current)||void 0===e||e.updateMetricsParams({playbackAttribute:null===(t=pe.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:Re()}),null===(i=fe.current)||void 0===i||i.onLoadStart()}),[Re]),Ne=(0,n.useCallback)((()=>{var e,t,i;null===(e=fe.current)||void 0===e||e.updateMetricsParams({playbackAttribute:null===(t=pe.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:Re()}),null===(i=fe.current)||void 0===i||i.onLoadedData()}),[Re]),$e=(0,n.useCallback)((()=>{var e,t,i;null===(e=fe.current)||void 0===e||e.updateMetricsParams({playbackAttribute:null===(t=pe.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:Re()}),Ze(),ge(!0),null==N||N(!0),null===(i=fe.current)||void 0===i||i.onCanPlay()}),[Re,Ze,N]),qe=(0,n.useCallback)((e=>{var t,i,o;null===(t=fe.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=pe.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Re()}),null===(o=fe.current)||void 0===o||o.onPlay(),null==z||z(e),xe.addMlModelTrainData({id:C,action:"play",isPreview:1===T||7===T})}),[Re,z,C,xe,T]),Ge=(0,n.useCallback)((()=>{var e,t,i,o;const{currentTime:n=0,duration:a=0,playerType:r}=(0,v.m7)(null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes()),s=(0,L.Ld)(),{byteLength:l,duration:d}=s.getPreloadCacheInfo(C);null===(t=fe.current)||void 0===t||t.updateMetricsParams({playbackAttribute:Object.assign(Object.assign(Object.assign({},Oe),null===(i=pe.current)||void 0===i?void 0:i.getPlayerAttributes()),{preload_size:l,preload_time:d,player_type:r,bitrateInfo:Y}),videoQualityParams:Re()}),null===(o=fe.current)||void 0===o||o.onTimeUpdate(),null==V||V(n/a)}),[Re,V,C,Y,Oe]),tt=(0,g.db)(),it=(0,n.useCallback)((e=>{const{httpCode:t=-1,errorCode:i=-1,errorMessage:o="",url:n="",response:a="",mode:r="",pathId:s=""}=e;we.emitEvent("video_mse_error",{},{httpCode:String(t),errorCode:String(i),errorMessage:o,url:n,response:a,mode:r,pathId:s})}),[we]),ot=(0,n.useCallback)((e=>{var t,i,o,n;null==W||W(e);const a=Re(),r=null===(t=pe.current)||void 0===t?void 0:t.getPlayerAttributes();tt(Object.assign(Object.assign({},r),a)),null===(i=fe.current)||void 0===i||i.updateMetricsParams({playbackAttribute:null===(o=pe.current)||void 0===o?void 0:o.getPlayerAttributes(),videoQualityParams:Re()}),null===(n=fe.current)||void 0===n||n.onError()}),[Re,W,tt]),nt=(0,n.useCallback)((e=>{var t,i,o;E(e),ze(),null===(t=fe.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=pe.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Re()}),null===(o=fe.current)||void 0===o||o.onPause(),xe.addMlModelTrainData({id:C,action:"pause"})}),[Re,E,ze,C,xe]),at=(0,n.useCallback)((e=>{var t,i,o;Z(e),Ue(),null===(t=fe.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=pe.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Re()}),null===(o=fe.current)||void 0===o||o.onPlaying()}),[Re,Z,Ue]),rt=(0,n.useCallback)((()=>{var e,t,i,o,n,a;We();const r=null===(e=pe.current)||void 0===e?void 0:e.getPlayerAttributes();if(r){null===(t=fe.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=pe.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Re()});const{buffered:e,currentTime:s=0,duration:l=0}=r,d=(null!==(o=null==e?void 0:e.length)&&void 0!==o?o:0)>0&&null!==(n=null==e?void 0:e.start(0))&&void 0!==n?n:0;if(Math.abs(d-s)<.5)return;if(Math.abs(l-s)<.5)return;null===(a=fe.current)||void 0===a||a.onWaiting(),xe.addMlModelTrainData({id:C,action:"wait"})}}),[Re,We,C,xe]),st=(0,n.useCallback)((e=>{var t,i,o;null===(t=fe.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=pe.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Re()}),null===(o=fe.current)||void 0===o||o.onEnded(),null==U||U(e),xe.addMlModelTrainData({id:C,action:"finish"})}),[Re,U,C,xe]),lt=(0,n.useCallback)((e=>{var t,i,o,n;const a=(0,L.Ld)(),{byteLength:r,duration:s}=a.getPreloadCacheInfo(C);null===(t=fe.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=pe.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Re()});const l=null===(o=pe.current)||void 0===o?void 0:o.getPlaybackQuality(),d=l?l.droppedVideoFrames/l.totalVideoFrames*100:0;null===(n=fe.current)||void 0===n||n.onUnmount(Object.assign(Object.assign({},e),{preload_size:r,preload_time:s,droppedRate:d})),xe.addMlModelTrainData({id:C,action:"unmount"})}),[Re,C,xe]),dt=(0,n.useCallback)((e=>{e.preventDefault}),[]);(0,n.useEffect)((()=>{je||null==E||E({})}),[je,E]);const ct=(0,n.useCallback)((()=>{null==N||N()}),[N]),ut=u||2===T||3===T||4===T||6===T||5===T,pt=(0,n.useMemo)((()=>{const{videoQuality:e,definition:t}=j;return e&&t?`${e}_${t.substring(0,t.length-1)}_0`:"unknown_definition_from_xgpreload_config"}),[j]),{bitrateConfig:mt}=(0,v.m7)((0,Je.h)((()=>["bitrateConfig"]),[])),{isTTP:ht}=null!==(ae=(0,Je.h)((()=>["isTTP"]),[]))&&void 0!==ae?ae:{},{region:gt}=null!==(re=(0,Xe.Lh)((()=>["region"]),[]))&&void 0!==re?re:{},{normalizationVid:vt,playbackNormalizePath:yt}=(0,a.FH)(),_t=(0,s.fz)(L.Re),bt=_t.getPreloadUrls(),ft=(0,g.vN)(bt,pt),{playerInitHost:xt}=(0,a.kz)(),{videoOrder:kt}=(0,a.PM)(),{bitrateSelectorConfigs:wt}=(0,a.jG)(),{preloadConfigVid:Ct}=(0,a.wW)(),jt=(0,a.mF)("desktop"),St=(0,b.Y)()&&B?`${B}. ${M}`:M,{armCoreContentEvent:Tt}=(0,n.useContext)(x._);return(0,o.jsxs)(w.wu,Object.assign({horizontal:u,mode:T,style:oe},{children:[e?(0,o.jsx)(w.TF,{horizontal:ut,mode:T,src:e,alt:St,loading:i?"lazy":"eager",style:J,onLoad:Tt},void 0):t?(0,o.jsx)(f.y,{video:t,objectFit:ut?"contain":"cover",style:J,alt:St,onLoad:Tt},void 0):null,je&&(0,o.jsxs)(w.Kp,Object.assign({horizontal:ut,"data-e2e":$},{children:[(0,o.jsx)(He,{ref:pe,id:C,url:ve,playbackRate:F,mode:T,muteSetting:O||y.PA[T].forceMute,defaultMute:y.PA[T].defaultMute,playProgress:null!=le?le:0,duration:A,onUnmount:lt,onLoadStart:Ve,onLoadedData:Ne,onTimeUpdate:Ge,onError:ot,onCanPlay:$e,onPause:nt,onPlay:qe,onPlaying:at,onWaiting:rt,onEnded:st,onVideoChange:ct,onContextMenu:dt,subtitleStruct:q,disableDownload:G,volumeInfo:H,adaptBitrateVid:Q,bitrateInfo:Y,defaultDefinition:pt,bitrateConfig:mt,preloader:_t,normalizationVid:vt,playbackNormalizePath:yt,preloadUrlsList:ft,playerInitHost:xt,defaultBitrate:K,videoOrder:kt,teaParams:j,autoPlay:ee,autoReplay:te,size:ie,bitrateSelectorConfigs:wt,preloadConfigVid:Ct,pathId:Fe,metrics:fe.current,hevcTest:jt,hevcRobustnessTest:ke,handleMseError:it,isTTP:!!ht&&"US"===gt},void 0),Ee&&(0,o.jsx)(w.Nm,{},void 0)]}),void 0)]}),void 0)}))),it=(0,n.memo)((0,n.forwardRef)((function(e,t){const i=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(()=>({play:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.play)&&(null===(o=i.current)||void 0===o||o.play(e))},pause:()=>{var e,t;(null===(e=i.current)||void 0===e?void 0:e.pause)&&(null===(t=i.current)||void 0===t||t.pause())},seek:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.seek)&&(null===(o=i.current)||void 0===o||o.seek(e))},seekTime:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.seekTime)&&(null===(o=i.current)||void 0===o||o.seekTime(e))},onSeeked:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.onSeeked)&&(null===(o=i.current)||void 0===o||o.onSeeked(e))},onSeeking:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.onSeeking)&&(null===(o=i.current)||void 0===o||o.onSeeking(e))},onTimeUpdate:e=>{var t,o;(null===(t=i.current)||void 0===t?void 0:t.onTimeUpdate)&&(null===(o=i.current)||void 0===o||o.onTimeUpdate(e))},getFullscreen:e=>{var t;null===(t=i.current)||void 0===t||t.getFullscreen(e)},exitFullscreen:e=>{var t;null===(t=i.current)||void 0===t||t.exitFullscreen(e)},replay:()=>{var e,t;(null===(e=i.current)||void 0===e?void 0:e.replay)&&(null===(t=i.current)||void 0===t||t.replay())},get currentTime(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get currentCanPlay(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.currentCanPlay)&&void 0!==t&&t}})));const{isUseNativePlayer:r,adaptBitrateVid:s}=(0,a.It)();return r?(0,o.jsx)(C,Object.assign({},e,{ref:i}),void 0):(0,o.jsx)(tt,Object.assign({},e,{adaptBitrateVid:s,ref:i}),void 0)})))},84469:(e,t,i)=>{"use strict";i.d(t,{Ex:()=>d,Kp:()=>s,Nm:()=>l,TF:()=>r,wu:()=>a});var o=i(85093),n=i(23739);const a=(0,o.Z)("div",{target:"e1yey0rl0"})((({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},2===t||1===t||3===t||5===t?{display:"flex",alignItems:"center",justifyContent:"center"}:null]),"label:DivContainer;"),r=(0,o.Z)("img",{target:"e1yey0rl1"})((({horizontal:e,mode:t})=>2!==t&&3!==t&&4!==t&&5!==t?{width:"100%",height:"100%",objectFit:"cover"}:{width:"100%",height:"100%",objectFit:e?"contain":"cover"}),"label:ImgPoster;"),s=(0,o.Z)("div",{target:"e1yey0rl2"})((({horizontal:e=!0})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},"& .tiktok-web-player video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"}})),"label:DivBasicPlayerWrapper;"),l=(0,o.Z)(n.g,{target:"e1yey0rl3"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"label:StyledLoading;"),d=(0,o.Z)("video",{target:"e1yey0rl4"})((({horizontal:e})=>({display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"})),"label:VideoBasic;")},39085:(e,t,i)=>{"use strict";i.d(t,{Q:()=>v});var o=i(25879),n=i(44310),a=i(71030),r=i(99333),s=i(31738),l=i(13680),d=i(92742),c=i(81039),u=i(15137);function p({onShow:e,reportTarget:t,uid:i}){const{showModal:o}=(0,l.J)(),n=(0,r.q)(d.mg);return{handleShowReport:(0,s.useCallback)((a=>{null==e||e(a),o(),n.showReport({reportTarget:t,uid:i})}),[n,e,t,o])}}(0,s.memo)((function({onClose:e,reportTarget:t,onBack:i,reasonList:o,setPage:n,selectedReason:l,useBack:p,onSubmit:m}){var h;const g=(0,r.q)(d.mg),{user:v}=null!==(h=(0,u.Lh)((()=>["user"]),[]))&&void 0!==h?h:{};g.setReportTarget(t),void 0===o?g.getReasons({reportTarget:t,uid:null==v?void 0:v.uid}):g.setReasons(o),l&&g.setUserData({selectedReason:l}),n&&g.setPageState(n);const y=(0,s.useCallback)((()=>{null==e||e()}),[e]);return(0,a.jsx)(c.Z,{onClose:y,asComponent:!0,onBack:i,useBack:p,onSubmit:m},void 0)}));var m=i(17560),h=i(8650),g=i(88573);function v({item:e,play_mode:t,onShow:i,useAd:a=!1}){var r,s,l,d,c;const{lang:v}=(0,o.m)(h.G,{selector:e=>({lang:e.lang}),dependencies:[]}),y=(0,o.m)(g.z,{selector:t=>{var i,o,n;return null!==(n=null===(o=t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""])||void 0===o?void 0:o.id)&&void 0!==n?n:""},dependencies:[null==e?void 0:e.author]}),_=(0,o.m)(g.z,{selector:t=>{var i;return t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""]},dependencies:[null==e?void 0:e.author]}),b=(0,m.K$)(e),{user:f}=null!==(r=(0,u.Lh)((()=>["user"]),[]))&&void 0!==r?r:{},{handleShowReport:x}=(a?p:n.Qi)({onShow:i,reportTarget:Object.assign({lang:v,object_id:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:"",owner_id:y,object_owner_id:y,nickname:null!==(l=null==e?void 0:e.nickname)&&void 0!==l?l:null==e?void 0:e.author,video_id:null!==(d=null==e?void 0:e.id)&&void 0!==d?d:"",video_owner:_,report_type:"video",poi_id:null===(c=null==e?void 0:e.poi)||void 0===c?void 0:c.id,is_sub_only_video:(null==e?void 0:e.subVideoMeta)?1:0,ad_info:null==e?void 0:e.ad_info,play_mode:t},b),uid:null==f?void 0:f.uid});return x}},60602:(e,t,i)=>{"use strict";i.d(t,{E:()=>a,y:()=>n});var o=i(3979);const n=e=>{o.W.event("video_data_size",e)},a=e=>{o.W.event("basic_player_cdn_cost",e)}},39842:(e,t,i)=>{"use strict";i.d(t,{ih:()=>a});const o=e=>{const t={};return e.forEach((e=>{let{CodecType:i}=e;i.startsWith("h265")&&(i="h265"),t[i]||(t[i]=[]),t[i].push(e)})),t},n=({hevcTest:e,h264:t,backupDomain:i})=>{var o,n,a,r,s,l,d,c,u,p;if(t){const m=null===(n=null===(o=t.find((t=>t.QualityType===e.qualityType)))||void 0===o?void 0:o.PlayAddr)||void 0===n?void 0:n.UrlList;if(m&&m.length>0)return i&&m.length>1?m[1]:m[0];if(t.length>0&&(null===(a=t[0].PlayAddr)||void 0===a?void 0:a.UrlList)&&t[0].PlayAddr.UrlList.length>0)return i&&(null===(l=null===(s=null===(r=t[0])||void 0===r?void 0:r.PlayAddr)||void 0===s?void 0:s.UrlList)||void 0===l?void 0:l.length)>1?null===(c=null===(d=t[0])||void 0===d?void 0:d.PlayAddr)||void 0===c?void 0:c.UrlList[1]:null===(p=null===(u=t[0])||void 0===u?void 0:u.PlayAddr)||void 0===p?void 0:p.UrlList[0]}return null},a=({hevcTest:e,bitrateInfo:t,videoOrder:i,downgradeUrl:a,backupDomain:r=!1})=>{let s=t;i&&(s=((e,t)=>{try{const i=(t,i)=>t[e[0].property]!==i[e[0].property]?"Bitrate"===e[0].property?"desc"===e[0].order?i.Bitrate-t.Bitrate:t.Bitrate-i.Bitrate:e[0].detail.indexOf(t[e[0].property])>=0&&e[0].detail.indexOf(i[e[0].property])>=0?e[0].detail.indexOf(t[e[0].property])-e[0].detail.indexOf(i[e[0].property]):e[0].detail.indexOf(t[e[0].property])>=0?-1:1:t[e[1].property]!==i[e[1].property]?"Bitrate"===e[1].property?"desc"===e[1].order?i.Bitrate-t.Bitrate:t.Bitrate-i.Bitrate:e[1].detail.indexOf(t[e[1].property])>=0&&e[1].detail.indexOf(i[e[1].property])>=0?e[1].detail.indexOf(t[e[1].property])-e[1].detail.indexOf(i[e[1].property]):e[1].detail.indexOf(t[e[1].property])>=0?-1:1:1;return t&&t.length>0?[...t].sort(i):void 0}catch(e){return void console.error("bitrateInfo is empty")}})(i,t));const l=s&&o(s).h264,d=s&&o(s).h265,c=r?1:0;if(e.open&&d){const t=(({hevcTest:e,h265:t,h264:i,backupDomain:o})=>{var a,r;if(t){const i=null===(r=null===(a=t.find((t=>t.QualityType===e.qualityType)))||void 0===a?void 0:a.PlayAddr)||void 0===r?void 0:r.UrlList;if(i&&i.length>0)return o&&i.length>1?i[1]:i[0]}return n({hevcTest:e,h264:i,backupDomain:o})})({hevcTest:e,h265:d,h264:l,backupDomain:r});if(t){const e=d.filter((e=>{var i,o;return(null===(o=null===(i=e.PlayAddr)||void 0===i?void 0:i.UrlList)||void 0===o?void 0:o[c])===t}));return{src:t,codecType:"h265",finalBitrateInfo:e}}}else if(l){const t=n({hevcTest:e,h264:l,backupDomain:r});if(t){const e=l.filter((e=>{var i,o;return(null===(o=null===(i=e.PlayAddr)||void 0===i?void 0:i.UrlList)||void 0===o?void 0:o[c])===t}));return{src:t,codecType:"h264",finalBitrateInfo:e}}}return{src:null!=a?a:"",codecType:"h264",finalBitrateInfo:void 0}}},70418:(e,t,i)=>{"use strict";i.d(t,{vD:()=>l});var o,n,a,r=i(3979),s=i(46500);!function(e){e.MainPage="main_page",e.VideoFeed="video_feed",e.VideoDetail="video_detail"}(o||(o={})),function(e){e.Dismiss="download_app_dismiss",e.InfoCardShow="info_card_show",e.InfoCardClick="info_card_click",e.QueryTagShow="query_tag_show"}(n||(n={})),function(e){e.Close="close",e.CaptionSeeMore="caption_see_more",e.Hashtag="hashtag",e.Music="music",e.User="user"}(a||(a={}));const l={handleChannelGeneralClick:(e,t="main_page",i={})=>{s._.handleGeneralClick(e,Object.assign({scene:t},i))},handleDownloadDismiss:e=>{r.W.event("download_app_dismiss",{enter_method:e})},handleInfoCardShow:e=>{r.W.event("info_card_show",e)},handleInfoCardClick:e=>{r.W.event("info_card_click",e)},handleShowItemTags:e=>{r.W.event("query_tag_show",e)}}},9538:(e,t,i)=>{"use strict";i.d(t,{y:()=>d});var o,n,a=i(22403),r=i(3979),s=i(15638),l=i(94302);!function(e){e.ClickComment="click_comment_button",e.LikeComment="like_comment",e.CancelLikeComment="cancel_like_comment",e.PostComment="post_comment",e.SearchCommentEmoji="search_comment_emoji",e.SearchCommentAt="search_comment_at",e.AddCommentAt="add_comment_at",e.VideoCommentShow="video_comment_show",e.ShowMoreReply="show_more_reply",e.TapComment="tap_comment",e.CloseCommentTab="close_comment_tab",e.CloseComment="close_comment",e.KeepEditingComment="keep_editing_comment",e.LeaveCommentPage="leave_comment_page",e.CopyCommentUrl="web_comment_url",e.CloseCommentPanel="close_comment_panel",e.MentionItemShow="tag_mention_head_show",e.ClickBackToTop="click_back_to_top"}(o||(o={})),function(e){e.Original="original",e.Reply="reply",e.ReplyToReply="reply_to_reply"}(n||(n={}));const d={handleCommentClick:e=>{r.W.event("click_comment_button",e)},handleCommentLike:e=>{var{isLike:t}=e,i=(0,a.__rest)(e,["isLike"]);const o=t?"like_comment":"cancel_like_comment";r.W.event(o,i)},handlePostComment:e=>{const t=(0,s.St)(l.Qi);r.W.event("post_comment",Object.assign(Object.assign({},e),{from_group_id:t}))},handleShowMoreReply:e=>{r.W.event("show_more_reply",e)},handleCommentShow:e=>{r.W.event("video_comment_show",e)},handleSearchAt:e=>{r.W.event("search_comment_at",e)},handleSelectAt:e=>{r.W.event("add_comment_at",e)},handleEmojiSelect:e=>{r.W.event("search_comment_emoji",e)},handleClose:e=>{r.W.event("close_comment",e)},handleLeaveComment:e=>{r.W.event("leave_comment_page",e)},handleKeepComment:e=>{r.W.event("keep_editing_comment",e)},handleCopyCommentUrl:e=>{r.W.event("web_comment_url",e)},handleTapComment:e=>{r.W.event("tap_comment",e)},handleCloseCommentTab:()=>{r.W.event("close_comment_tab",{enter_method:"click_cancel"})},handleCloseCommentPanel:e=>{r.W.event("close_comment_panel",e)},handleMentionItemShow:e=>{r.W.event("tag_mention_head_show",Object.assign(Object.assign({},e),{function:"mention"}))},handleClickBackToTop:e=>{r.W.event("click_back_to_top",e)}}},14312:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var o,n,a=i(3979);!function(e){e.PrivateAccountPop="private_account_pop",e.PrivateAccountPopClick="private_account_pop_click",e.CookieBannerShow="cookie_banner_show",e.CookieBannerEnterPolicy="enter_cookie_policy",e.ChangeCookieSetting="change_cookie_setting",e.ClickCookiePolicy="click_cookie_policy",e.ClickCookieSettings="click_cookie_settings",e.ToSPopUpShow="tos_popup_shown",e.ToSPopUpPositiveCTA="tos_popup_positive_cta",e.ToSPopUpNegativeCTA="tos_popup_negative_cta"}(o||(o={})),function(e){e.ClickBannerAccept="click_banner_accept",e.ClickBannerDecline="click_banner_decline",e.ClickPolicy="click_banner_cookie_policy",e.ClickSettings="click_banner_cookie_settings",e.FYPPersonalization="fyp_personalization"}(n||(n={}));const r={handlePrivateBannerShow:()=>{a.W.event("private_account_pop")},handlePrivateBannerClick:e=>{a.W.event("private_account_pop_click",{result:e})},handleCookieBannerShow:e=>{a.W.event("cookie_banner_show",e)},handleClickCookieSettings:()=>{a.W.event("click_cookie_settings",{enter_method:"click_banner_cookie_settings"})},handleClickCookiePolicy:()=>{a.W.event("click_cookie_policy",{enter_method:"click_banner_cookie_policy"})},handleCookieBannerAccept:e=>{a.W.event("change_cookie_setting",Object.assign({enter_method:"click_banner_accept"},e))},handleCookieBannerDeny:e=>{a.W.event("change_cookie_setting",Object.assign({enter_method:"click_banner_decline"},e))},handleToSPopUpShow:()=>{a.W.event("tos_popup_shown",{enter_method:"fyp_personalization"})},handleToSPopUpPositiveCTAResponse:()=>{a.W.event("tos_popup_positive_cta",{enter_method:"fyp_personalization"})},handleToSPopUpNegativeCTAResponse:()=>{a.W.event("tos_popup_negative_cta",{enter_method:"fyp_personalization"})}}},30117:(e,t,i)=>{"use strict";i.d(t,{r:()=>r});var o,n,a=i(3979);!function(e){e.CreatorTabShow="from_this_creator_tab_show",e.CreatorPageShow="creator_page_show",e.ClickPlayNow="click_play_now_button",e.ExitCreatorPage="click_creator_page_button"}(o||(o={})),function(e){e.ClickBrowserModeProfile="click_browser_mode_profile",e.ClickCreatorTab="click_creator_tab"}(n||(n={}));const r={handleCreatorTabShow:e=>{a.W.event("from_this_creator_tab_show",e)},handleCreatorPageShow:e=>{a.W.event("creator_page_show",e)},handleClickPlayNow:e=>{a.W.event("click_play_now_button",e)},handleExitCreatorPage:e=>{a.W.event("click_creator_page_button",e)}}},7534:(e,t,i)=>{"use strict";i.d(t,{V:()=>a});var o,n=i(3979);!function(e){e.EnterText="enter_text",e.CloseText="close_text"}(o||(o={}));const a={handleEnterText:e=>{n.W.event("enter_text",e)},handleCloseText:e=>{n.W.event("close_text",e)}}},94557:(e,t,i)=>{"use strict";i.d(t,{p:()=>d});var o,n=i(22403),a=i(43549),r=i(3979),s=i(15638),l=i(94302);!function(e){e.Share="share",e.ShareVideo="share_video",e.SharePanelShow="share_panel_show",e.SharePanelClick="share_panel_click",e.ClickShare="click_share_button",e.ExpandSubtitle="expand_subtitle",e.ClickClosePanel="click_close_panel"}(o||(o={}));let d=class{handleEvent(e,t={}){r.W.event(e,Object.assign(Object.assign({},t),{type:t.group_id?"video":this.type}))}handleSubtitleExpand(e){r.W.event("expand_subtitle",{page_url:e.pageUrl,item_id:e.itemId,type:this.type})}handleSharePanelShow(e){const t=(0,s.St)(l.Qi);this.handleEvent("share_panel_show",Object.assign(Object.assign({},e),{from_group_id:t}))}handleSharePanelClick(e){this.handleEvent("share_panel_click",e)}handleShare(e){const t=(0,s.St)(l.Qi),i=e.group_id?"share_video":"share";this.handleEvent(i,Object.assign(Object.assign({},e),{from_group_id:t}))}handleClickClosePannel(e){this.handleEvent("click_close_panel",e)}handleClickShare(e){this.handleEvent("click_share_button",e)}get type(){const{page_name:e}=r.W.commonParams;switch(e){case"video_detail":return"video";case"single_song":return"music";case"challenge":return"tag";case"others_homepage":case"personal_homepage":return"profile";case"discover_kw":return"kep";case"collection":return"collection";case"poi_detail":return"poi";case"channel":return"channel";case"playlist":return"playlist";default:return}}};d=(0,n.__decorate)([(0,a.G)()],d)},30244:(e,t,i)=>{"use strict";i.d(t,{O:()=>a});var o,n=i(3979);!function(e){e.VideoPlayControl="video_play_control",e.ToggleCommentPanel="comments_panel_toggle",e.CommentPanelShow="comments_panel_show"}(o||(o={}));const a={handleVideoControlChange:e=>{n.W.event("video_play_control",e)},handleToggleCommentPanel:e=>{n.W.event("comments_panel_toggle",e)},handleCommentPanelShow:e=>{n.W.event("comments_panel_show",e)}}},9987:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o,n=i(22403),a=i(3979);!function(e){e.ShowProgressBar="show_progress_bar",e.ClickProgressBar="click_progress_bar"}(o||(o={}));const r={handleSeekBarAutoShow:e=>{a.W.event("show_progress_bar",Object.assign(Object.assign({},e),{show_method:"preview"}))},handleSeekBarClick:e=>{var{fromPercent:t,toPercent:i,video_length:o}=e,r=(0,n.__rest)(e,["fromPercent","toPercent","video_length"]);const s=i>t?"front":"back",l=o*t,d=o*i;a.W.event("click_progress_bar",Object.assign({action_type:s,seek_from:l,seek_to:d,video_length:o},r))}}},13413:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var o,n=i(3979);!function(e){e.SwitchSound="switch_sound",e.UnmuteButtonShow="unmute_show",e.UnmuteButtonClicked="unmute_click",e.VolumeChange="volume_change"}(o||(o={}));const a={0:"one-column",1:"three-column",2:"browser-mode",3:"swiper_mode",4:"video-detail",6:"pip",5:"fullscreen",7:"creator_tab"},r={handleSwitchSound:e=>{const{muted:t,playMode:i,enter_method:o="click",volume_from:r,volume_to:s,aweme_type:l,pic_cnt:d}=e;void 0!==r&&void 0!==s?n.W.event("switch_sound",{sound_mode:s>r?"adjust_up":"adjust_down",play_mode:a[i],enter_method:o,volume_from:r,volume_to:s,aweme_type:null!=l?l:0,pic_cnt:d}):n.W.event("switch_sound",{sound_mode:t?"off":"on",play_mode:a[i],enter_method:o,aweme_type:null!=l?l:0,pic_cnt:d})},handleVideoUnmuteButtonShow:()=>{n.W.event("unmute_show")},handleVideoUnmuteButtonClicked:()=>{n.W.event("unmute_click")},handleVolumeChange:e=>{const{volume_from:t=0,volume_to:i=0,click_mute:o=!1}=e;n.W.event("volume_change",{volume_change:o?0:Number((i-t).toFixed(4)),volume_level:i,click_mute:o})}}},51003:(e,t,i)=>{"use strict";i.d(t,{X:()=>p});var o=i(71030),n=i(31738),a=i(41573),r=i(7998),s=i(43340);const l=(0,r.Z)("label",{target:"e8efyri0"})((({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"14px",color:e.colors.TextPrimary,cursor:"pointer"})),"label:LabelCheckbox;"),d=(0,r.Z)("div",{target:"e8efyri1"})({color:"#fff",position:"relative"},"label:DivCheckboxSymbol;"),c=(0,r.Z)("input",{target:"e8efyri2"})((({selected:e,theme:t,theme:{direction:i}})=>[Object.assign({appearance:"none",border:`1.5px solid ${t.colors.LineSecondary}`,margin:"0 0 -2.5px 0",cursor:"pointer","&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${t.colors.Negative}`}},e?{border:"none",backgroundColor:t.colors.Primary}:{}),(0,s.YJ)({direction:i,marginEnd:4})]),"label:InputCheckbox;"),u=(0,r.Z)("div",{target:"e8efyri3"})((({theme:{direction:e}})=>[{pointerEvents:"none",position:"absolute",top:"3px"},(0,s.YJ)({direction:e,start:3})]),"label:DivCheckboxIcon;"),p=(0,n.memo)((function({id:e,value:t,label:i,size:r=16,isCircle:s=!0,disabled:p,style:m,e2eTag:h,onChange:g}){const v=r,y=r-6,_=(0,n.useCallback)((e=>{null==g||g(e.target.checked)}),[g]);return(0,o.jsxs)(l,Object.assign({htmlFor:e,style:m,"data-e2e":h},{children:[(0,o.jsxs)(d,Object.assign({className:"checkbox-symbol"+(t?" selected":"")},{children:[(0,o.jsx)(c,{style:{width:v,height:v,borderRadius:s?v/2:0},selected:t,id:e,checked:t,type:"checkbox",disabled:p,onChange:_},void 0),t&&(0,o.jsx)(u,Object.assign({style:{width:y,height:y}},{children:(0,o.jsx)(a.Z,{width:y,height:y},void 0)}),void 0)]}),void 0),i]}),void 0)}))},9819:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});const o=[{emoji:"😀",alias:"grinning"},{emoji:"😃",alias:"smiley"},{emoji:"😄",alias:"smile"},{emoji:"😁",alias:"grin"},{emoji:"😆",alias:"laughing"},{emoji:"😅",alias:"sweat_smile"},{emoji:"🤣",alias:"rofl"},{emoji:"😂",alias:"joy"},{emoji:"🙂",alias:"slightly_smiling_face"},{emoji:"🙃",alias:"upside_down_face"},{emoji:"😉",alias:"wink"},{emoji:"😊",alias:"blush"},{emoji:"😇",alias:"innocent"},{emoji:"😍",alias:"heart_eyes"},{emoji:"😘",alias:"kissing_heart"},{emoji:"😗",alias:"kissing"},{emoji:"😚",alias:"kissing_closed_eyes"},{emoji:"😙",alias:"kissing_smiling_eyes"},{emoji:"😋",alias:"yum"},{emoji:"😛",alias:"stuck_out_tongue"},{emoji:"😜",alias:"stuck_out_tongue_winking_eye"},{emoji:"😝",alias:"stuck_out_tongue_closed_eyes"},{emoji:"🤑",alias:"money_mouth_face"},{emoji:"🤗",alias:"hugs"},{emoji:"🤔",alias:"thinking"},{emoji:"🤐",alias:"zipper_mouth_face"},{emoji:"😐",alias:"neutral_face"},{emoji:"😑",alias:"expressionless"},{emoji:"😶",alias:"no_mouth"},{emoji:"😏",alias:"smirk"},{emoji:"😒",alias:"unamused"},{emoji:"🙄",alias:"roll_eyes"},{emoji:"😬",alias:"grimacing"},{emoji:"🤥",alias:"lying_face"},{emoji:"😌",alias:"relieved"},{emoji:"😔",alias:"pensive"},{emoji:"😪",alias:"sleepy"},{emoji:"🤤",alias:"drooling_face"},{emoji:"😴",alias:"sleeping"},{emoji:"😷",alias:"mask"},{emoji:"🤒",alias:"face_with_thermometer"},{emoji:"🤕",alias:"face_with_head_bandage"},{emoji:"🤢",alias:"nauseated_face"},{emoji:"🤧",alias:"sneezing_face"},{emoji:"😵",alias:"dizzy_face"},{emoji:"🤠",alias:"cowboy_hat_face"},{emoji:"😎",alias:"sunglasses"},{emoji:"🤓",alias:"nerd_face"},{emoji:"😕",alias:"confused"},{emoji:"😟",alias:"worried"},{emoji:"🙁",alias:"slightly_frowning_face"},{emoji:"😮",alias:"open_mouth"},{emoji:"😯",alias:"hushed"},{emoji:"😲",alias:"astonished"},{emoji:"😳",alias:"flushed"},{emoji:"😦",alias:"frowning"},{emoji:"😧",alias:"anguished"},{emoji:"😨",alias:"fearful"},{emoji:"😰",alias:"cold_sweat"},{emoji:"😥",alias:"disappointed_relieved"},{emoji:"😢",alias:"cry"},{emoji:"😭",alias:"sob"},{emoji:"😱",alias:"scream"},{emoji:"😖",alias:"confounded"},{emoji:"😣",alias:"persevere"},{emoji:"😞",alias:"disappointed"},{emoji:"😓",alias:"sweat"},{emoji:"😩",alias:"weary"},{emoji:"😫",alias:"tired_face"},{emoji:"😤",alias:"triumph"},{emoji:"😡",alias:"rage"},{emoji:"😠",alias:"angry"},{emoji:"😈",alias:"smiling_imp"},{emoji:"👿",alias:"imp"},{emoji:"💀",alias:"skull"},{emoji:"💩",alias:"hankey"},{emoji:"🤡",alias:"clown_face"},{emoji:"👹",alias:"japanese_ogre"},{emoji:"👺",alias:"japanese_goblin"},{emoji:"👻",alias:"ghost"},{emoji:"👽",alias:"alien"},{emoji:"👾",alias:"space_invader"},{emoji:"🤖",alias:"robot"},{emoji:"😺",alias:"smiley_cat"},{emoji:"😸",alias:"smile_cat"},{emoji:"😹",alias:"joy_cat"},{emoji:"😻",alias:"heart_eyes_cat"},{emoji:"😼",alias:"smirk_cat"},{emoji:"😽",alias:"kissing_cat"},{emoji:"🙀",alias:"scream_cat"},{emoji:"😿",alias:"crying_cat_face"},{emoji:"😾",alias:"pouting_cat"}]},37158:(e,t,i)=>{var o={"./af.js":[20179,3063],"./am.js":[61783,3063],"./ar-dz.js":[98136,3063],"./ar-iq.js":[82690,3063],"./ar-kw.js":[62009,3063],"./ar-ly.js":[49408,3063],"./ar-ma.js":[87330,3063],"./ar-sa.js":[66575,3063],"./ar-tn.js":[5742,3063],"./ar.js":[46567,3063],"./az.js":[14319,3063],"./be.js":[41737,3063],"./bg.js":[86835,3063],"./bi.js":[50045,3063],"./bm.js":[65561,3063],"./bn.js":[57602,3063],"./bo.js":[92594,3063],"./br.js":[34467,3063],"./bs.js":[53169,3063],"./ca.js":[97569,3063],"./cs.js":[30625,3063],"./cv.js":[6326,3063],"./cy.js":[49268,3063],"./da.js":[39710,3063],"./de-at.js":[12369,3063],"./de-ch.js":[71107,3063],"./de.js":[24569,3063],"./dv.js":[25427,3063],"./el.js":[32832,3063],"./en-au.js":[29061,3063],"./en-ca.js":[31304,3063],"./en-gb.js":[84252,3063],"./en-ie.js":[48757,3063],"./en-il.js":[98038,3063],"./en-in.js":[7282,3063],"./en-nz.js":[97960,3063],"./en-sg.js":[435,3063],"./en-tt.js":[90954,3063],"./en.js":[22039,3063],"./eo.js":[39399,3063],"./es-do.js":[47688,3063],"./es-mx.js":[81773,3063],"./es-pr.js":[66106,3063],"./es-us.js":[18541,3063],"./es.js":[23607,3063],"./et.js":[29776,3063],"./eu.js":[87939,3063],"./fa.js":[28288,3063],"./fi.js":[88189,3063],"./fo.js":[49697,3063],"./fr-ca.js":[15296,3063],"./fr-ch.js":[53415,3063],"./fr.js":[4938,3063],"./fy.js":[7811,3063],"./ga.js":[3368,3063],"./gd.js":[53560,3063],"./gl.js":[85222,3063],"./gom-latn.js":[38546,3063],"./gu.js":[78309,3063],"./he.js":[41436,3063],"./hi.js":[463,3063],"./hr.js":[27147,3063],"./ht.js":[95139,3063],"./hu.js":[18224,3063],"./hy-am.js":[25976,3063],"./id.js":[74970,3063],"./is.js":[799,3063],"./it-ch.js":[6071,3063],"./it.js":[97727,3063],"./ja.js":[78117,3063],"./jv.js":[22281,3063],"./ka.js":[87931,3063],"./kk.js":[52334,3063],"./km.js":[35155,3063],"./kn.js":[72879,3063],"./ko.js":[62905,3063],"./ku.js":[34078,3063],"./ky.js":[24026,3063],"./lb.js":[62619,3063],"./lo.js":[29979,3063],"./lt.js":[75887,3063],"./lv.js":[35493,3063],"./me.js":[50532,3063],"./mi.js":[73059,3063],"./mk.js":[17450,3063],"./ml.js":[66422,3063],"./mn.js":[16428,3063],"./mr.js":[35778,3063],"./ms-my.js":[40583,3063],"./ms.js":[33650,3063],"./mt.js":[6045,3063],"./my.js":[74361,3063],"./nb.js":[10697,3063],"./ne.js":[16608,3063],"./nl-be.js":[11377,3063],"./nl.js":[6987,3063],"./nn.js":[8758,3063],"./oc-lnc.js":[68064,3063],"./pa-in.js":[16767,3063],"./pl.js":[28012,3063],"./pt-br.js":[19978,3063],"./pt.js":[51357,3063],"./ro.js":[71948,3063],"./ru.js":[3381,3063],"./rw.js":[79914,3063],"./sd.js":[90126,3063],"./se.js":[46319,3063],"./si.js":[99008,3063],"./sk.js":[84600,3063],"./sl.js":[64955,3063],"./sq.js":[74716,3063],"./sr-cyrl.js":[55854,3063],"./sr.js":[23534,3063],"./ss.js":[19239,3063],"./sv-fi.js":[57972,3063],"./sv.js":[43032,3063],"./sw.js":[60125,3063],"./ta.js":[1565,3063],"./te.js":[92516,3063],"./tet.js":[26712,3063],"./tg.js":[39351,3063],"./th.js":[89225,3063],"./tk.js":[48485,3063],"./tl-ph.js":[17517,3063],"./tlh.js":[35984,3063],"./tr.js":[33092,3063],"./tzl.js":[69109,3063],"./tzm-latn.js":[13637,3063],"./tzm.js":[38063,3063],"./ug-cn.js":[98490,3063],"./uk.js":[65589,3063],"./ur.js":[85859,3063],"./uz-latn.js":[96588,3063],"./uz.js":[45589,3063],"./vi.js":[41191,3063],"./x-pseudo.js":[59018,3063],"./yo.js":[14163,3063],"./zh-cn.js":[9073,3063],"./zh-hk.js":[52970,3063],"./zh-tw.js":[78141,3063],"./zh.js":[42882,3063]};function n(e){if(!i.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return i.e(t[1]).then((()=>i.t(n,23)))}n.keys=()=>Object.keys(o),n.id=37158,e.exports=n}}]);