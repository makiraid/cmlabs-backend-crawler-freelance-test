(self.webpackChunklite=self.webpackChunklite||[]).push([[8824],{29969:(e,n,t)=>{"use strict";t.d(n,{X:()=>T});var i=t(34699),a=t(67294),l=t(6443),o=t(39727),r=t(77355),d=t(93310),c=t(20113),m=t(87691),s=t(18627),u=t(66411),p=t(14646),k=t(31889),v=t(34135),f=t(75221),E=t(43487),S=t(50458),g=t(19616),N=t(83302),w=function(e,n){return{borderTop:"1px solid ".concat(e.colorTokens.border.neutral.secondary.base),padding:"24px 0",marginBottom:"25px",minHeight:n}},x=function(e){var n=e.viewer,t=e.newsletterV3,i=e.newsletterV3LandingUrl,l=e.isOnCustomDomain,o=e.isVertical,r=e.handleClick;return t?n||l?a.createElement(g.x,{newsletterV3:t,buttonStyle:"SUBTLE",redirectUrl:l?i:void 0,isVertical:o}):a.createElement(N.Q,{newsletterV3:t,isVertical:o,handleClick:r}):null},T=function(e){var n,t,g,N,T,y=e.postId,b=e.publisher,h=e.isVertical,F=void 0!==h&&h,V=a.useRef(null),_=(0,E.v9)((function(e){return e.config.authDomain})),C=(0,s.A)(),R=(0,p.I)(),O=(0,k.F)(),D=(0,l.H)().value,Z=a.useState(!1),B=(0,i.Z)(Z,2),P=B[0],j=B[1],L=a.useState("0px"),I=(0,i.Z)(L,2),A=I[0],U=I[1],W=null==(0,E.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(_)),Y=b.newsletterV3,H=null==Y?void 0:Y.type,K=b.username,M=void 0===K?"":K,q=(0,S.iB)(null!==(n=null==Y?void 0:Y.slug)&&void 0!==n?n:"",_,H===f.Rr.NEWSLETTER_TYPE_COLLECTION?b:void 0,H===f.Rr.NEWSLETTER_TYPE_AUTHOR&&M?M:void 0),G="Collection"===b.__typename?b:void 0,Q=(0,o.g)(G).viewerEdge;switch(H){case f.Rr.NEWSLETTER_TYPE_COLLECTION:t="Sign up for ".concat(null==Y?void 0:Y.name),g="0px",N="You're an editor of ".concat(null==Y?void 0:Y.name),T=null==Q?void 0:Q.isEditor;break;case f.Rr.NEWSLETTER_TYPE_AUTHOR:t=(null==Y?void 0:Y.promoHeadline)||"Get an email whenever ".concat(b.name," publishes."),g="6px",N="You cannot subscribe to yourself",T=b.viewerEdge.isUser}P&&(t="Check your inbox.");var X=!1,z=function(){!X&&$()&&(C.event("newsletterV3.promoViewed",{newsletterV3Id:null==Y?void 0:Y.id,postId:y}),X=!0)},$=function(){var e;if(!V.current)return!1;var n=null===(e=V.current)||void 0===e?void 0:e.getBoundingClientRect(),t=n.top+n.height/2;return t>=0&&t<=window.innerHeight};return a.useEffect((function(){return z(),window&&v.V6.on("scroll",z),function(){v.V6.off("scroll",z)}}),[]),a.useEffect((function(){var e;if(V.current){var n=(null===(e=V.current)||void 0===e?void 0:e.getBoundingClientRect()).height;U("".concat(n,"px"))}}),[V]),Y&&a.createElement(u.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},a.createElement("div",{ref:V,className:F?void 0:R(w(O,A))},a.createElement(r.x,{wordBreak:"break-word",paddingBottom:g},a.createElement(c.X6,{scale:"S"},t)),H===f.Rr.NEWSLETTER_TYPE_COLLECTION&&!P&&a.createElement(a.Fragment,null,a.createElement(r.x,{paddingTop:"4px"},a.createElement(m.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(b.name))),a.createElement(r.x,{paddingTop:"8px",paddingBottom:"10px"},a.createElement(m.F,{scale:"S",color:"DARKER"},null==Y?void 0:Y.description,"Â ",a.createElement(d.r,{inline:!0,linkStyle:"OBVIOUS",href:q},"Take a look.")))),H===f.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==Y?void 0:Y.promoBody)&&!P&&a.createElement(a.Fragment,null,a.createElement(r.x,{wordBreak:"break-word",paddingTop:"8px",paddingBottom:"8px"},a.createElement(m.F,{scale:"S",color:"DARKER"},null==Y?void 0:Y.promoBody))),T?a.createElement(r.x,{paddingTop:"10px"},a.createElement(m.F,{scale:"S",color:"DARKER"},N)):a.createElement(r.x,{display:"flex",flexWrap:"wrap"},a.createElement(x,{viewer:D,isOnCustomDomain:W,newsletterV3:Y,newsletterV3LandingUrl:q,isVertical:F,handleClick:function(){return j(!0)}}))))}},41422:(e,n,t)=>{"use strict";t.d(n,{L:()=>o});var i=t(87329),a=t(95472),l=t(68216),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionDefaultBackgroundTheme_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}]}}].concat((0,i.Z)(a.Gi.definitions),(0,i.Z)(l.nf.definitions))}},83302:(e,n,t)=>{"use strict";t.d(n,{Q:()=>B});var i,a,l=t(34699),o=t(96156),r=t(64718),d=t(21919),c=t(67294),m=t(92210),s=t(92548),u=t(93717),p=t(18839),k=t(12890),v=t(98096),f=t(77355),E=t(21755),S=t(87691),g=t(66411),N=t(31889),w=t(40980),x=t(75221),T=t(43487),y=t(6855),b=t(17583),h=t(50458),F=t(3207),V=t(4442),_=t(43405),C=t(20121);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var D=(i={},(0,o.Z)(i,E.j.xl,"425px"),(0,o.Z)(i,E.j.lg,"425px"),(0,o.Z)(i,E.j.md,"375px"),(0,o.Z)(i,E.j.sm,"100%"),(0,o.Z)(i,E.j.xs,"100%"),i),Z=(a={},(0,o.Z)(a,E.j.xl,"375px"),(0,o.Z)(a,E.j.lg,"375px"),(0,o.Z)(a,E.j.md,"325px"),(0,o.Z)(a,E.j.sm,"100%"),(0,o.Z)(a,E.j.xs,"100%"),a),B=function(e){var n=e.centerContent,t=void 0!==n&&n,i=e.newsletterV3,a=e.isVertical,o=e.handleClick,R=(0,N.F)(),B=(0,g.pK)(),P=(0,g.hp)(),j=(0,T.v9)((function(e){return e.config.authDomain})),L=(0,T.v9)((function(e){return e.navigation.currentLocation})),I=(0,T.v9)((function(e){return e.config.productName})),A=c.useState(""),U=(0,l.Z)(A,2),W=U[0],Y=U[1],H=c.useState(""),K=(0,l.Z)(H,2),M=K[0],q=K[1],G=c.useState(!1),Q=(0,l.Z)(G,2),X=Q[0],z=Q[1],$=c.useState(!1),J=(0,l.Z)($,2),ee=J[0],ne=J[1],te=c.useState(!1),ie=(0,l.Z)(te,2),ae=ie[0],le=ie[1],oe=c.useState(!1),re=(0,l.Z)(oe,2),de=re[0],ce=re[1],me=c.useState(""),se=(0,l.Z)(me,2),ue=se[0],pe=se[1],ke="register",ve=i.type===x.Rr.NEWSLETTER_TYPE_AUTHOR?"Subscribe":"Get this newsletter",fe=null==L.match("http[s]?://[^/]*".concat(j)),Ee=i.collection,Se=i.id,ge=i.slug,Ne=i.user,we=(0,h.Zu)(Se),xe=Ee?(0,h.iB)(ge,j,Ee,(null==Ne?void 0:Ne.username)||""):L;(0,r.a)(C.qz,{fetchPolicy:"no-cache",skip:!we||fe,onCompleted:function(e){var n=e.accountToken;return n&&pe((0,p.hQ)(xe,B,P,we,n))}});var Te=function(e){Y(e),z(!0),setTimeout((function(){return z(!1)}),k.zn),ne(!1),le(!1)},ye=function(){(0,y.J)(M)?(le(!0),ne(!0)):Te("Enter a valid email address.")},be=function(){Te("We couldn't process your request. Try again, or contact our support team.")},he=(0,d.D)(V.b,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":q(M),ce(!0),o&&o();break;case"BadRequest":Te("Enter a valid email address.");break;default:be()}},onError:be}),Fe=(0,l.Z)(he,1)[0],Ve={newsletterV3Id:Se,email:M,operation:ke,redirect:ue},_e=(0,b.s)()||E.j.lg,Ce=i.type===x.Rr.NEWSLETTER_TYPE_AUTHOR?D:Z;return c.createElement(v.f,{theme:(0,F.jN)(Ee,R)},c.createElement(f.x,{alignItems:t?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:t?"center":"flex-start"},c.createElement(u.k,{callback:function(e){Fe({variables:O({captchaValue:e},Ve)})},shouldExecuteRecaptcha:ee}),c.createElement(f.x,{display:de?"none":"inline"},c.createElement(f.x,{alignItems:a?"flex-start":"flex-end",display:"flex",justifyContent:"space-between",flexDirection:a?"column":"row",sm:{alignItems:t?"center":"flex-start",flexDirection:"column",paddingTop:"16px"}},c.createElement(f.x,{marginTop:W?{lg:"25px",xl:"25px",md:"25px",sm:"0",xs:"0"}:void 0,width:a?"100%":{lg:void 0,xl:void 0,md:void 0,sm:"100%",xs:"100%"}},c.createElement(k.II,{errorMessage:W,handleInputChange:function(e){q(e.target.value.trim())},handleSubmit:ye,input:M,inputType:k.n$.EMAIL,isAnimating:X,textAlign:"start",placeholder:"Your email",width:a?"100%":Ce[_e],scale:"S"})),c.createElement(f.x,{marginBottom:"auto",marginLeft:a?"0":"15px",sm:{marginLeft:"0px",marginTop:"24px"},marginTop:a?"24px":void 0,flexShrink:"0"},ae?c.createElement(s.B,{newsletterV3Id:Se}):c.createElement(w.$,{eventData:{operation:ke}},c.createElement(m.w,{onClick:ye,buttonText:ve,buttonStyle:"SUBTLE"})))),c.createElement(f.x,{marginTop:W?"10px":"20px",sm:{marginTop:"20px"}},c.createElement(S.F,{scale:"XS"},c.createElement(_.b,null)))),c.createElement(f.x,{display:de?"inline":"none",marginBottom:"15px",marginTop:"5px",height:"75px"},c.createElement(S.F,{color:"DARKER",scale:"M"},I," sent you an email at ",M," to complete your subscription."))))}},75865:(e,n,t)=>{"use strict";t.d(n,{Rf:()=>m});var i=t(87329),a=t(13156),l=t(41422),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterSubscribeComponent_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeButton_newsletterV3"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"}}]}}].concat((0,i.Z)(a.B.definitions),(0,i.Z)(l.L.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"promoHeadline"}},{kind:"Field",name:{kind:"Name",value:"promoBody"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterSubscribeComponent_newsletterV3"}}]}}].concat((0,i.Z)(o.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUser"}}]}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat((0,i.Z)(r.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat((0,i.Z)(r.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_user"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_collection"}}]}}]}}].concat((0,i.Z)(d.definitions),(0,i.Z)(c.definitions))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8824.2c659ff2.chunk.js.map