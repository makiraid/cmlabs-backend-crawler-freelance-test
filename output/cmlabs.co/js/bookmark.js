document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".bookmark-article"),t=document.getElementById("toast-error"),o=document.getElementById("toast-success");e.forEach((function(e,a,s){var n=e.dataset.id,c=e.dataset.url,r=e.dataset.type,i=e.dataset.lang;fetch("/page/api/bookmark/data",{headers:{"Content-Type":"application/json",Accept:"application/json, text-plain, */*","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},method:"post",body:JSON.stringify({page_id:n,url:c,type:r,lang:i})}).then((function(e){return e.json()})).then((function(t){"success"==t.status&&(1==t.data.value?(e.querySelector("i").classList.remove("bx-bookmark"),e.querySelector("i").classList.add("bxs-bookmark")):(e.querySelector("i").classList.remove("bxs-bookmark"),e.querySelector("i").classList.add("bx-bookmark")))})).catch((function(e){console.log(e)})),e.addEventListener("click",(function(a){a.preventDefault(),fetch("/page/api/bookmark",{headers:{"Content-Type":"application/json",Accept:"application/json, text-plain, */*","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},method:"post",body:JSON.stringify({page_id:n,url:c,type:r,lang:i})}).then((function(e){return e.json()})).then((function(a){var s;"success"==a.status?(1==a.data.value?(e.querySelector("i").classList.remove("bx-bookmark"),e.querySelector("i").classList.add("bxs-bookmark")):(e.querySelector("i").classList.remove("bxs-bookmark"),e.querySelector("i").classList.add("bx-bookmark")),(s="bookmark"==a.data.status?o:t).querySelector(".message").innerHTML=a.message,s.style.display="block",setTimeout((function(){s.style.display="none"}),3e3)):(t.querySelector(".message").innerHTML=a.message,t.style.display="block",setTimeout((function(){t.style.display="none"}),3e3))})).catch((function(e){console.log(e)}))}))}))}));