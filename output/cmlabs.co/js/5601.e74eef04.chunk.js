/*! For license information please see 5601.e74eef04.chunk.js.LICENSE.txt */
(self.webpackChunklite=self.webpackChunklite||[]).push([[5601],{2316:(e,n,t)=>{"use strict";t.d(n,{Yz:()=>c});var i=t(87329),r=t(68216),o=t(27915),a=t(6177),s=t(28272),l=t(89748),d=t(75865),u=([{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherHomepagePosts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}].concat((0,i.Z)(r.nf.definitions),(0,i.Z)(o.C.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherHomepagePosts_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}].concat((0,i.Z)(a.F.definitions))}),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherHomepagePosts_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"homepagePostsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"homepagePostsLimit"}}},{kind:"ObjectField",name:{kind:"Name",value:"from"},value:{kind:"Variable",name:{kind:"Name",value:"homepagePostsFrom"}}}]}},{kind:"Argument",name:{kind:"Name",value:"includeDistributedResponses"},value:{kind:"Variable",name:{kind:"Name",value:"includeDistributedResponses"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"from"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherHomepagePosts_user"}}]}}].concat((0,i.Z)(s.y.definitions),(0,i.Z)(o.C.definitions),(0,i.Z)(l.Gk.definitions),(0,i.Z)(d.Rf.definitions),(0,i.Z)(u.definitions))}},94931:(e,n,t)=>{"use strict";t.d(n,{I:()=>T});var i=t(90484),r=t(96156),o=t(92137),a=t(67294),s=t(52998),l=t(29969),d=t(1951),u=t(35194),c=t(6443),m=t(61095),p=t(14813),v=t(77355),f=t(96370),h=t(18627),k=t(66411),y=t(32947),g=t(93310),b=t(43487),S=t(50458),N=t(42498),w=function(e){var n=e.viewerIsPublisher,t=e.authorName,i=e.viewerBlockedAuthor,r=(0,b.v9)((function(e){return e.config.authDomain}));return n?a.createElement(a.Fragment,null,"Have something to share?"," ",a.createElement(y.l,{type:"link",href:(0,S.Zp)(r),inline:!0,linkStyle:"OBVIOUS"},"Write your first story.")):i?a.createElement(a.Fragment,null,(0,N.Sb)(t)," stories are not available because you have blocked them."," ",a.createElement(g.r,{href:S.kx,inline:!0,linkStyle:"OBVIOUS",target:"_blank"},"Learn more")):a.createElement(a.Fragment,null,t," hasn't written any stories yet.")},F=t(87691),P=function(e){var n=e.viewerIsPublisher,t=e.authorName,i=e.viewerBlockedAuthor;return a.createElement(v.x,{marginLeft:"auto",marginRight:"auto",paddingTop:"80px",textAlign:"center"},a.createElement(F.F,{scale:"L"},a.createElement(w,{viewerIsPublisher:n,authorName:t,viewerBlockedAuthor:i})))};function E(){E=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,n,t){e[n]=t.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(e){u=function(e,n,t){return e[n]=t}}function c(e,n,t,i){var r=n&&n.prototype instanceof y?n:y,a=Object.create(r.prototype),s=new O(i||[]);return o(a,"_invoke",{value:x(e,t,s)}),a}function m(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=c;var p="suspendedStart",v="suspendedYield",f="executing",h="completed",k={};function y(){}function g(){}function b(){}var S={};u(S,s,(function(){return this}));var N=Object.getPrototypeOf,w=N&&N(N(D([])));w&&w!==t&&r.call(w,s)&&(S=w);var F=b.prototype=y.prototype=Object.create(S);function P(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function R(e,n){function t(o,a,s,l){var d=m(e[o],e,a);if("throw"!==d.type){var u=d.arg,c=u.value;return c&&"object"==(0,i.Z)(c)&&r.call(c,"__await")?n.resolve(c.__await).then((function(e){t("next",e,s,l)}),(function(e){t("throw",e,s,l)})):n.resolve(c).then((function(e){u.value=e,s(u)}),(function(e){return t("throw",e,s,l)}))}l(d.arg)}var a;o(this,"_invoke",{value:function(e,i){function r(){return new n((function(n,r){t(e,i,n,r)}))}return a=a?a.then(r,r):r()}})}function x(n,t,i){var r=p;return function(o,a){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=T(s,i);if(l){if(l===k)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var d=m(n,t,i);if("normal"===d.type){if(r=i.done?h:v,d.arg===k)continue;return{value:d.arg,done:i.done}}"throw"===d.type&&(r=h,i.method="throw",i.arg=d.arg)}}}function T(n,t){var i=t.method,r=n.iterator[i];if(r===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,T(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),k;var o=m(r,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,k;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,k):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,k)}function _(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function L(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(n){if(n||""===n){var t=n[s];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function t(){for(;++o<n.length;)if(r.call(n,o))return t.value=n[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError((0,i.Z)(n)+" is not iterable")}return g.prototype=b,o(F,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===g||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,d,"GeneratorFunction")),e.prototype=Object.create(F),e},n.awrap=function(e){return{__await:e}},P(R.prototype),u(R.prototype,l,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,i,r,o){void 0===o&&(o=Promise);var a=new R(c(e,t,i,r),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(F),u(F,d,"Generator"),u(F,s,(function(){return this})),u(F,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=D,O.prototype={constructor:O,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(i,r){return s.type="throw",s.arg=n,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),d=r.call(a,"finallyLoc");if(l&&d){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,k):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),k},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),L(t),k}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var r=i.arg;L(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:D(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),k}},n}function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T=function(e){var n=e.publisher,t=e.fetchMore,i=(0,h.A)(),r=(0,k.Lk)(),y=(0,c.H)().value,g=(0,m.Pd)({id:(null==n?void 0:n.id)||""}).viewerEdge,b=!(null==g||!g.isBlocking),S=(null==y?void 0:y.id)===n.id,N=n.homepagePostsConnection,w=null==N?void 0:N.posts,F="User"===n.__typename,R=F?n:null,T=(0,d.t)(R),_=a.useCallback((0,o.Z)(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F||i.event("collection.loadMore",{source:x(x({},r),{},{collectionId:n.id})}),t){e.next=3;break}return e.abrupt("return",null);case 3:return e.abrupt("return",t());case 4:case"end":return e.stop()}}),e)}))),[t]);if(!w)return null;if(!w.length&&F)return a.createElement(P,{viewerIsPublisher:S,authorName:n.name,viewerBlockedAuthor:b});var L=w.filter((function(e){return!e.inResponseToPostResult||!e.inResponseToCatalogResult}));return a.createElement(v.x,{padding:"8px 0"},a.createElement(p.P,{fetchMore:t?_:null},L.map((function(e,t){var i=!t,r=T.value&&(1===t||1===(null==w?void 0:w.length)),o=!(T.value&&2===t),d={post:e,showHighDensityPreview:!0,showBylinePublisherInfo:"Collection"===n.__typename,isFirst:i,publisher:n,index:t,includeTopDivider:o,showInResponseToEntityPreview:!0,mayShowPinned:!0};return r?a.createElement(a.Fragment,{key:"pub-post-".concat(e.id)},a.createElement(u.k,{post:e},a.createElement(s.G,d)),a.createElement(f.P,{size:"app"},a.createElement(v.x,{marginTop:"50px"},a.createElement(l.X,{publisher:n})))):a.createElement(u.k,{post:e,key:"pub-post-".concat(e.id)},a.createElement(s.G,d))}))))}},6177:(e,n,t)=>{"use strict";t.d(n,{F:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]}},1951:(e,n,t)=>{"use strict";t.d(n,{t:()=>a});var i=t(67294),r=t(9354),o=t(61095),a=function(e){var n,t,a,s=(0,o.Pd)(e),l=s.viewerEdge,d=s.loading,u=i.useRef(null),c=(0,r.T)({newsletterSlug:null==e||null===(n=e.newsletterV3)||void 0===n?void 0:n.slug,username:null==e?void 0:e.username}),m=c.viewerEdge,p=c.loading;return(a=null!==u.current?{value:u.current}:d||p?{loading:!0}:null!=e&&null!==(t=e.newsletterV3)&&void 0!==t&&t.showPromo?{value:!(!(null!=l&&l.isUser||null==m)&&m.isSubscribed)}:{value:!1}).loading||void 0===a.value||null!==u.current||(u.current=a.value),a}},14538:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var i=t(87329),r=t(52831),o=t(76075),a=t(33960),s=t(19830),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PagedThreadedPostResponses_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat((0,i.Z)(o.tt.definitions),(0,i.Z)(a.Df.definitions),(0,i.Z)(a.K5.definitions),(0,i.Z)(s.FN.definitions))},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PagedThreadedPostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"responseDepth"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PagedThreadedPostResponses_post"}}]}}]}}]}}]}}].concat((0,i.Z)(r.Z.definitions),(0,i.Z)(l.definitions))}},28272:(e,n,t)=>{"use strict";t.d(n,{y:()=>s});var i=t(87329),r=t(62236),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat((0,i.Z)(r.e9.definitions))},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat((0,i.Z)(o.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat((0,i.Z)(a.definitions))}},35194:(e,n,t)=>{"use strict";t.d(n,{k:()=>F});var i=t(34699),r=t(67294),o=t(6722),a=t(43242),s=t(80745),l=t(90484),d=t(81253),u=t(92137),c=t(38460),m=t(68356),p=t.n(m),v=t(76412),f=t(18733),h=t(66411),k=t(50742),y=t(75221),g=t(14538),b=["__typename"];function S(){S=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(e){u=function(e,n,t){return e[n]=t}}function c(e,n,t,i){var o=n&&n.prototype instanceof y?n:y,a=Object.create(o.prototype),s=new O(i||[]);return r(a,"_invoke",{value:x(e,t,s)}),a}function m(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=c;var p="suspendedStart",v="suspendedYield",f="executing",h="completed",k={};function y(){}function g(){}function b(){}var N={};u(N,a,(function(){return this}));var w=Object.getPrototypeOf,F=w&&w(w(D([])));F&&F!==t&&i.call(F,a)&&(N=F);var P=b.prototype=y.prototype=Object.create(N);function E(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function R(e,n){function t(r,o,a,s){var d=m(e[r],e,o);if("throw"!==d.type){var u=d.arg,c=u.value;return c&&"object"==(0,l.Z)(c)&&i.call(c,"__await")?n.resolve(c.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):n.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return t("throw",e,a,s)}))}s(d.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new n((function(n,r){t(e,i,n,r)}))}return o=o?o.then(r,r):r()}})}function x(n,t,i){var r=p;return function(o,a){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=T(s,i);if(l){if(l===k)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var d=m(n,t,i);if("normal"===d.type){if(r=i.done?h:v,d.arg===k)continue;return{value:d.arg,done:i.done}}"throw"===d.type&&(r=h,i.method="throw",i.arg=d.arg)}}}function T(n,t){var i=t.method,r=n.iterator[i];if(r===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,T(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),k;var o=m(r,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,k;var a=o.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,k):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,k)}function _(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function L(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function D(n){if(n||""===n){var t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,o=function t(){for(;++r<n.length;)if(i.call(n,r))return t.value=n[r],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError((0,l.Z)(n)+" is not iterable")}return g.prototype=b,r(P,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===g||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,d,"GeneratorFunction")),e.prototype=Object.create(P),e},n.awrap=function(e){return{__await:e}},E(R.prototype),u(R.prototype,s,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,i,r,o){void 0===o&&(o=Promise);var a=new R(c(e,t,i,r),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(P),u(P,d,"Generator"),u(P,a,(function(){return this})),u(P,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=D,O.prototype={constructor:O,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function r(i,r){return s.type="throw",s.arg=n,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),d=i.call(a,"finallyLoc");if(l&&d){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,k):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),k},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),L(t),k}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var r=i.arg;L(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:D(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),k}},n}var N=p()({loading:function(){return null},loader:function(){return Promise.all([t.e(7084),t.e(372),t.e(5459),t.e(6804),t.e(8883),t.e(6318),t.e(513),t.e(8913)]).then(t.bind(t,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,k.n)("ThreadedResponsesSidebarContent")}),w=function(e){var n,t,o,a,l,m,p,k,w,F=e.isResponsesSidebarVisible,P=e.inResponseToQuote,E=e.setInResponseToQuote,R=e.parentPost,x=e.continueThisThreadPost,T=e.continueThisThreadPostDepth,_=e.showPreviousSidebar,L=e.cleanupSidebar,O=e.initialSidebarRender,D=e.responsesSort,I=D?y.sV[D]:void 0,j=r.useState(I||y.sV.TOP),V=(0,i.Z)(j,2),C=V[0],Z=V[1],A=r.useState(!1),G=(0,i.Z)(A,2),B=G[0],Q=G[1],U=r.useRef(null),H=(0,c.t)(g.A,{variables:{postId:R.id,postResponsesPaging:{limit:s.p4},sortType:C},ssr:!1}),z=(0,i.Z)(H,2),M=z[0],Y=z[1],W=Y.called,X=Y.loading,q=Y.data,K=Y.fetchMore;W||x||!F||(M(),N.preload());var J=null==q||null===(n=q.post)||void 0===n?void 0:n.responsesLocked,$=null==q||null===(t=q.post)||void 0===t?void 0:t.isLockedResponse,ee=(0,s.aj)(F,O,null==q||null===(o=q.post)||void 0===o?void 0:o.threadedPostResponses,x),ne=ee.responses,te=ee.showCreateReplyEditor,ie=(null==q||null===(a=q.post)||void 0===a||null===(l=a.responseRootPost)||void 0===l||null===(m=l.post)||void 0===m?void 0:m.id)||"",re=T||(null==q||null===(p=q.post)||void 0===p||null===(k=p.responseRootPost)||void 0===k?void 0:k.responseDepth)||0,oe=void 0,ae=null==ne||null===(w=ne.pagingInfo)||void 0===w?void 0:w.next;return ae&&!x&&(oe=function(){var e=(0,u.Z)(S().mark((function e(){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=5;break}return ae.__typename,n=(0,d.Z)(ae,b),e.next=4,K({variables:{postId:R.id,postResponsesPaging:n}});case 4:Q(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),r.createElement(f.N8,null,r.createElement(h.cW,{source:{name:"responses",postId:R.id},extendSource:!0},r.createElement(v.I,{sidebarRef:U,cleanupSidebar:L,isResponsesSidebarVisible:F,pagingInfoNext:ae,isFetchingNextSetOfResponses:B,setIsFetching:Q,fetchMoreWithArguments:oe,initialSidebarRender:O},(function(e){var n=e.responseDistribution,t=e.setResponseDistribution,i=e.closeSidebar;return W||x?r.createElement(N,{responses:ne,parentPost:R,responsesLocked:J,isLockedResponse:$,isLoadingInitialContent:X,isFetchingNextSetOfResponses:B,isResponsesSidebarVisible:F,closeSidebar:i,showPreviousSidebar:_,inResponseToQuote:P,setInResponseToQuote:E,sidebarRef:U,responseDistribution:n,setResponseDistribution:t,responseSortType:C,setResponseSortType:Z,rootPostId:ie,postDepth:re,isContinueThisThread:!!x,showCreateReplyEditor:te}):null}))))},F=function(e){var n=e.children,t=e.post,l=(0,r.useState)(void 0),d=(0,i.Z)(l,2),u=d[0],c=d[1],m=(0,r.useCallback)((function(e){return function(n){c(n),e()}}),[]);return r.createElement(a.E,null,(function(e){var i=e.showPreviousSidebar,a=e.hasLoaded,l=e.initialSidebarRender,d=e.isVisible,p=e.continueThisThreadPosts,v=e.openSidebar,f=e.cleanupSidebar,h=e.responseSortOption;return r.createElement(o.Q.Provider,{value:{openSidebarToRespondToHighlight:m(v)}},!!t&&a&&r.createElement(w,{isResponsesSidebarVisible:d&&0===p.length,parentPost:t,inResponseToQuote:u,setInResponseToQuote:c,showPreviousSidebar:i,cleanupSidebar:f,initialSidebarRender:!!l.current,responsesSort:h}),!!t&&a&&p.map((function(e,n,o){var a=(0,s.iI)(n);return r.createElement(w,{key:t.id,isResponsesSidebarVisible:d&&n===o.length-1,parentPost:t,inResponseToQuote:u,setInResponseToQuote:c,continueThisThreadPost:e,continueThisThreadPostDepth:a,showPreviousSidebar:i,cleanupSidebar:f,initialSidebarRender:!!l.current,responsesSort:h})})),n)}))}},52831:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r,EI:()=>o,Fe:()=>a,eS:()=>s});var i=t(87329),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CloseDiscussion_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"isLockedResponse"}}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchPostResponsesLockedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}}]}}]}}].concat((0,i.Z)(r.definitions))},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},76412:(e,n,t)=>{"use strict";t.d(n,{I:()=>f});var i=t(34699),r=t(15303),o=t(67294),a=t(82186),s=t(80745),l=t(14646),d=t(75221),u=t(96156),c=t(97489),m=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white";return function(r){var o=n?"0.6s":"0s";return(0,u.Z)({width:t,position:"fixed",zIndex:520,backgroundColor:i,left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:e?"translateX(-".concat(t,")"):"translateX(0px)",transition:"transform ".concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity ").concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s"),visibility:e?"visible":"hidden"},(0,c.sm)(r),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:e?"translateY(30px)":"translateY(100%)","-webkit-overflow-scrolling":"touch"})}},p=function(e){var n={top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,pointerEvents:"none"};return e&&(n.transition="opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"),n},v={"@media print":{display:"none"}},f=function(e){var n=e.cleanupSidebar,t=e.children,u=e.isResponsesSidebarVisible,c=e.pagingInfoNext,f=e.isFetchingNextSetOfResponses,h=e.setIsFetching,k=e.fetchMoreWithArguments,y=e.initialSidebarRender,g=e.sidebarRef,b=(0,l.I)(),S=o.useRef(null),N=o.useState(null),w=(0,i.Z)(N,2),F=w[0],P=w[1],E=o.useState(d.Et.NOT_DISTRIBUTED),R=(0,i.Z)(E,2),x=R[0],T=R[1];o.useEffect((function(){var e=S.current;if(e&&u){if(!F){var n=(0,r.v)(e,{initialFocus:e,fallbackFocus:e,preventScroll:!0,allowOutsideClick:function(e){var n;return!(null===(n=e.target)||void 0===n||!n.closest("reach-portal"))}});n.activate(),P(n)}return function(){F&&(F.deactivate(),P(null))}}}),[S.current,F,P,u]);var _,L=o.useCallback((function(){T(d.Et.NOT_DISTRIBUTED),n()}),[n]);return o.createElement("div",{className:b(v),role:"dialog","aria-modal":"true",ref:S,tabIndex:-1},o.createElement("div",{className:b([p(y),(_=u,_?{opacity:1,pointerEvents:"all"}:{})]),onClick:L,onKeyUp:function(e){13===e.keyCode&&L()},"aria-hidden":!u,role:"presentation"}),o.createElement("div",{className:b([m(u,y,a.ZR)]),"aria-hidden":!u,onScroll:function(e){return(0,s.vL)(e,c,f,h,k)},ref:g},t({responseDistribution:x,setResponseDistribution:T,closeSidebar:L})))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5601.e74eef04.chunk.js.map