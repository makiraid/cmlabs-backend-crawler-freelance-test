"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7467],{38168:(e,t,i)=>{i.d(t,{T:()=>h});var o=i(71030),n=i(31738),a=i(30036),r=i(30471),s=i(53551),l=i(45378);const d=(0,r.Z)("div",{target:"e1cg0wnj0"})((({borderRadius:e})=>Object.assign({position:"relative",width:"100%"},e?{borderRadius:e,overflow:"hidden"}:{})),"label:DivContainer;"),c=(0,r.Z)("div",{target:"e1cg0wnj1"})({position:"absolute",top:"0",left:"0",right:"0",bottom:"0",[`&:hover ${l.AA}`]:{opacity:1},[`&.copyright-muted ${l.AA}`]:{opacity:1}},"label:DivWrapper;"),u=(0,r.Z)(d,{target:"eq741c50"})((({borderRadius:e})=>({borderRadius:null!=e?e:"4px",overflow:"hidden"})),"label:StyledDivContainerV2;"),p=(0,n.memo)((e=>{const{isDetailPage:t}=(0,s.U)(),i=t?u:d;return(0,o.jsx)(i,Object.assign({},e),void 0)})),h=(0,n.memo)((function({ratio:e=0,children:t,className:i,borderRadius:n,e2eTag:r="",copyrightMuted:s=!1,onKeyDown:l,id:d}){const u=(0,a.Q)(),h=0===e?100:100/e,v=s?"copyright-muted":"";return(0,o.jsx)(p,Object.assign({"data-e2e":r,borderRadius:n,className:i,id:d,tabIndex:0,onKeyDown:l,role:"button","aria-label":u("accessibilityLabels_forYou_videoCard_fullScreen")},{children:(0,o.jsx)("div",Object.assign({style:{paddingTop:`${h}%`}},{children:(0,o.jsx)(c,Object.assign({className:v},{children:t}),void 0)}),void 0)}),void 0)}))},63825:(e,t,i)=>{i.d(t,{Z:()=>V});var o=i(71030),n=i(25879),a=i(31738),r=i(91600),s=i(81530),l=i(62990),d=i(62068),c=i(22403),u=i(78502),p=i(99448),h=i(25790);const v=(0,a.forwardRef)(((e,t)=>{const{defaultVolume:i,defaultMuted:n,onVolumeChange:r,onMutedChange:s,showVolumeIcon:l}=e,d=(0,a.useRef)(null),{xgplayer:c,mutedPlay:v,handlePlayerDestroy:m}=(0,u.n)(Object.assign(Object.assign({},e),{playerContainerRef:d}));return(0,a.useImperativeHandle)(t,(()=>({destroy:()=>{m()},retry:()=>{var e;null===(e=c.current)||void 0===e||e.retry()}}))),(0,o.jsx)(h.Id,Object.assign({ref:d},{children:(0,o.jsx)(h.Se,{children:(0,o.jsx)(p.Q,{xgplayer:c,visible:l,defaultVolume:i,defaultMuted:n,mutedPlay:v,onVolumeChange:r,onMutedChange:s},void 0)},void 0)}),void 0)}));var m=i(37122),g=i(2740),f=i(89804);const x=(0,a.memo)((e=>{const{visible:t=!0,teaParams:i}=e,n=(0,c.__rest)(e,["visible","teaParams"]),{handlePlayerClick:r}=function(e=!0,t){const i=(0,a.useRef)(!1),o=(0,a.useRef)(0),n=(0,a.useRef)(t),r=(0,a.useRef)("automatic");n.current=t,(0,a.useEffect)((()=>{n.current&&g.yY.handleLiveShow(Object.assign({action_type:"click"},n.current))}),[]);const s=(0,a.useCallback)((()=>{const e=Date.now()-o.current;e>0&&o.current>0&&n.current&&(g.yY.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:e},n.current),{play_type:r.current})),o.current=Date.now())}),[]);return(0,a.useEffect)((()=>{!i.current&&e&&(n.current&&(r.current=n.current.play_type),o.current=Date.now());const t=Date.now()-o.current;n.current&&i.current&&!e&&t>0&&o.current>0&&(g.yY.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:t},n.current),{play_type:r.current})),o.current=Date.now()),i.current=e}),[e]),{handlePlayerClick:s}}(t,i),s=(0,m.M)({handleParentPlayError:n.onPlayError}),l=(0,a.useCallback)((()=>{r()}),[r]);return(0,o.jsx)(f.Y,Object.assign({onClick:l},{children:t?(0,o.jsx)(v,Object.assign({},s,n),void 0):null}),void 0)}));var b=i(30036),y=i(30471),j=i(43340),_=i(77613);const w={id:"person-fill-8d35ca06",use:"person-fill-8d35ca06-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="person-fill-8d35ca06"><path d="M5 .25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5ZM1.622 10.5c-.449 0-.802-.396-.662-.822a4.252 4.252 0 0 1 8.08 0c.14.426-.213.822-.662.822H1.622Z" clip-rule="evenodd" /></symbol>'};function k(e){const t=(0,a.useContext)(_.e);return(0,a.useLayoutEffect)((()=>(t.add(w),()=>{t.remove("person-fill-8d35ca06")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#person-fill-8d35ca06"},void 0)}),void 0)}const C={id:"thumbs-up-fill-6a32cddf",use:"thumbs-up-fill-6a32cddf-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="thumbs-up-fill-6a32cddf"><path d="M6.512 3.784V2.036c0-.51-.272-.957-.677-1.203-.395-.239-.842-.006-1.029.417L3 4.625v5.5c0 .069.056.125.125.125h5.29a.933.933 0 0 0 .931-.796l.643-4.469a.939.939 0 0 0-.218-.755.93.93 0 0 0-.713-.321H6.637a.125.125 0 0 1-.125-.125Zm-4.387.824c.069 0 .125.056.125.125v5.392a.125.125 0 0 1-.125.125h-.823A1.05 1.05 0 0 1 .25 9.326V5.584c.07-.537.523-.985 1.052-.976h.823Z" /></symbol>'};function T(e){const t=(0,a.useContext)(_.e);return(0,a.useLayoutEffect)((()=>(t.add(C),()=>{t.remove("thumbs-up-fill-6a32cddf")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#thumbs-up-fill-6a32cddf"},void 0)}),void 0)}var D;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(D||(D={}));const I=(0,y.Z)("div",{target:"ej426ge0"})((({theme:{direction:e,fontFamilies:t,fontWeights:i}})=>[{position:"absolute",height:"17px",display:"flex",alignItems:"center",fontFamily:t.TikTokFont,fontWeight:i.semiBold,top:"8px",zIndex:10},(0,j.YJ)({direction:e,start:"8px"})]),"label:LiveTag;"),O=(0,y.Z)("div",{target:"ej426ge1"})((({position:e})=>[{padding:"0 4px",height:"17px",display:"flex",alignItems:"center"},0===e?{background:"linear-gradient(131.17deg, #ff1764 0%, #ed3495 94.15%)",borderBottomLeftRadius:"2px",borderTopLeftRadius:"2px"}:{background:"rgba(37, 37, 37, 0.6)",borderBottomRightRadius:"2px",borderTopRightRadius:"2px"}]),"label:LiveTextWrap;"),S=(0,y.Z)("div",{target:"ej426ge2"})((({theme:{direction:e}})=>[{color:"#fff",textAlign:"center"},(0,j.YJ)({direction:e,marginStart:"2px"})]),"label:LiveText;"),L={width:"12px",height:"12px",color:"#fff"},P=(0,y.Z)(T,{target:"ej426ge5"})(L,"label:IconThumbsUp;"),Z=(0,y.Z)(k,{target:"ej426ge6"})(L,"label:IconPerson;");function M(e=0){return e<1e3?e.toString():e<1e5?`${(e/1e3).toFixed(1)}K`:e<1e6?`${(e/1e3).toFixed(0)}K`:`${(e/1e6).toFixed(1)}M`}const q=(0,a.memo)((function({live:e}){const{user_count:t=0,like_count:i=0}=e,n=(0,b.Q)();let a=Z,r=M(t);return t<=50&&i>t&&(a=P,r=M(i)),(0,o.jsxs)(I,{children:[(0,o.jsx)(O,Object.assign({position:0},{children:(0,o.jsx)(S,{children:n("pm_main_live_entry_final")},void 0)}),void 0),(0,o.jsxs)(O,Object.assign({position:1},{children:[(0,o.jsx)(a,{},void 0),(0,o.jsx)(S,{children:r},void 0)]}),void 0)]},void 0)})),E=(0,y.Z)("div",{target:"e1474lcs0"})((({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},1===t?{display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover"}:null]),"label:DivLink;"),R=(0,y.Z)("img",{target:"e1474lcs1"})({width:"100%",height:"100%",objectFit:"cover"},"label:ImgPoster;"),B=(0,y.Z)("div",{target:"e1474lcs2"})((({horizontal:e=!0,show:t=!1})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},zIndex:1,opacity:t?1:0,transition:"opacity 0.5s"})),"label:DivBasicPlayerWrapper;");var F=i(39726);const V=(0,a.memo)((function({id:e,mode:t,searchType:i,search_result_id:c,searchTopCardType:u}){var p,h,v;const{live:m}=(0,n.m)(r.m,{selector:t=>({live:t[e]}),dependencies:[e]}),[g,f]=(0,a.useState)(null!==(v=null===(h=null===(p=m.cover)||void 0===p?void 0:p.url_list)||void 0===h?void 0:h[0])&&void 0!==v?v:""),{currentVideo:b,playType:y}=(0,n.m)(s.f),[j,_]=(0,a.useState)(!1),w=(0,l.Ek)(),{keyword:k,rid:C}=(0,n.m)(d.t8,{selector:e=>e[i],dependencies:[i]}),{isVertical:T}=(0,F.yK)(m),{streamData:D}=(0,a.useMemo)((()=>(0,F.Ue)(m)),[m]),I=(0,a.useMemo)((()=>{var e,t,i,o,n;const{ld:a,sd:r,hd:s,origin:l}=null!==(e=D.data)&&void 0!==e?e:{};return null!==(n=null===(o=null!==(i=null!==(t=null!=a?a:r)&&void 0!==t?t:s)&&void 0!==i?i:l)||void 0===o?void 0:o.main.flv)&&void 0!==n?n:""}),[D.data]),O=(0,a.useMemo)((()=>{if(!b)return!1;const{id:i,mode:o}=b,n=i===e&&o===t;return n||_(!1),n}),[e,t,b]),S=(0,a.useCallback)((()=>{_(!0)}),[]),L=(0,a.useMemo)((()=>{var e;return{enter_from_merge:"live"===i?"search_result":"general_search",enter_method:20===u?"live_cover":"live_cell",room_id:m.id_str,anchor_id:null===(e=m.owner)||void 0===e?void 0:e.id_str,search_type:"live"===i?"live":"general",search_id:C,search_result_id:null!=c?c:m.id_str,search_keyword:k,play_type:y}}),[k,m,y,C,u,i,c]),P=(0,a.useCallback)((e=>{var t,i,o;console.log(null==m?void 0:m.id_str,"======poster error, use anther url",e),f(null!==(o=null===(i=null===(t=m.cover)||void 0===t?void 0:t.url_list)||void 0===i?void 0:i[1])&&void 0!==o?o:"")}),[m]);return(0,o.jsxs)(E,Object.assign({mode:t,horizontal:!T},{children:[g?(0,o.jsx)(R,{mode:2,src:g,alt:m.title,loading:"lazy",onError:P},void 0):null,(0,o.jsx)(B,Object.assign({horizontal:!T,"data-e2e":"browse-live-player",show:O&&j},{children:(0,o.jsx)(x,{visible:O,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:!0,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:I,onLoadedData:S,teaParams:L,loggerConfig:w},void 0)}),void 0),(0,o.jsx)(q,{live:m},void 0)]}),void 0)}))},39726:(e,t,i)=>{var o,n;function a(e){var t,i,o,n,a;try{const r={common:{},data:{}},s=e?JSON.parse(null!==(n=null===(o=null===(i=null===(t=e.stream_url)||void 0===t?void 0:t.live_core_sdk_data)||void 0===i?void 0:i.pull_data)||void 0===o?void 0:o.stream_data)&&void 0!==n?n:""):{};if(r.common=s.common,s.data)for(const e in s.data){if(s.data[e].main){const t=JSON.parse(s.data[e].main.sdk_params);r.data[e]={},r.data[e].main=s.data[e].main,r.data[e].main.sdk_params=t}if(s.data[e].backup){const t=JSON.parse(s.data[e].backup.sdk_params);r.data[e]=null!==(a=r.data[e])&&void 0!==a?a:{},r.data[e].backup=s.data[e].backup,r.data[e].backup.sdk_params=t}}return{streamData:r}}catch(e){return{streamData:{}}}}i.d(t,{Ue:()=>a,yK:()=>r}),function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(o||(o={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(n||(n={}));const r=e=>{var t,i,o,n,r;const{streamData:s}=a(e),l=null!==(r=null===(n=null===(o=null===(i=null===(t=s.data)||void 0===t?void 0:t.origin)||void 0===i?void 0:i.main)||void 0===o?void 0:o.sdk_params)||void 0===n?void 0:n.resolution)&&void 0!==r?r:"1920x1080",[d,c]=l.split("x");return d&&c?{isVertical:Number(d)<Number(c),width:Number(d),height:Number(c),ratio:Number(d)/Number(c),ratioStr:`${d}/${c}`}:{}}},45378:(e,t,i)=>{i.d(t,{AA:()=>O,F:()=>v,G9:()=>j,HZ:()=>g,Io:()=>_,Ir:()=>x,OR:()=>u,Q$:()=>I,TU:()=>D,Up:()=>C,Vc:()=>k,XM:()=>w,k7:()=>f,kn:()=>b,ot:()=>h,pG:()=>y,pj:()=>T,qq:()=>d,uc:()=>c,zo:()=>m});var o=i(38725),n=i(837),a=i(30471),r=i(36995),s=i(19341),l=i(43340);const d=(0,a.Z)("div",{target:"e19c29qe0"})((({theme:e,hasSolidBackground:t})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:t?e.colors.ConstBGInverse:e.colors.SDSecondary,position:"absolute",borderRadius:"4px"})),"label:DivMask;"),c=(0,a.Z)("div",{target:"e19c29qe1"})((({theme:e})=>({position:"absolute",top:"50%",left:"50%",color:e.colors.ConstTextInverse,transform:"translate(-50%, -50%)"})),"label:DivMaskContainer;"),u=(0,a.Z)("canvas",{target:"e19c29qe2"})((({horizontal:e})=>({display:"block",visibility:"hidden",[e?"width":"height"]:"100%"})),(0,l.f1)({max:479,style:{width:"100%",height:"auto"}}),"label:CanvasPlaceholder;"),p=(0,a.Z)("div",{target:"e19c29qe3"})({position:"relative",boxSizing:"border-box",background:"#eee center no-repeat",backgroundSize:"cover",cursor:"pointer",borderRadius:"8px",overflow:"hidden"},(({theme:{direction:e}})=>(0,l.YJ)({direction:e,marginEnd:"20px"})),(({horizontal:e})=>{const t=e?"width":"height";return[{[t]:"600px"},(0,l.f1)({max:1919,style:{[t]:"calc(450px + (100vw - 768px) / 1152 * 100)"}},{max:767,style:{[t]:"calc(380px + (100vw - 480px) / 288 * 20)"}},{max:479,style:{width:"calc(100vw - 32px - 60px)",height:"auto"}})]}),"label:DivContainer;");p.defaultProps=Object.assign(Object.assign({},p.defaultProps),{"data-e2e":"feed-video"});const h=(0,a.Z)("div",{target:"e19c29qe4"})({width:"100%",height:"100%"},"label:DivCover;"),v=(0,a.Z)("div",{target:"e19c29qe5"})({position:"absolute",left:0,top:0,width:"100%",height:"100%"},"label:DivPlayerContainer;"),m=(0,a.Z)("div",{target:"e19c29qe7"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),g=(0,a.Z)("div",{target:"e19c29qe8"})((({theme:e})=>[(0,l.YJ)({direction:e.direction}),{borderRadius:"4px"}]),"label:DivItemContainerV2;"),f=(0,a.Z)("div",{target:"e19c29qe9"})((({theme:{direction:e},hasDescUnderItem:t})=>[{display:"block",float:(0,l.$K)(e,"start")},(0,l.YJ)({direction:e,marginEnd:"2px"}),t?{width:"190px",marginBottom:"12px",":nth-of-type(even)":(0,l.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(odd)":(0,l.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(3n)":(0,l.YJ)({direction:e,marginEnd:"0"})}:{width:"196px",marginBottom:"2px",":nth-of-type(even)":[(0,l.YJ)({direction:e,marginEnd:"2px"})]},(0,l.f1)({max:1071,style:t?{width:"calc(50% - 6px)",height:"auto",":nth-of-type(3n)":(0,l.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(even)":(0,l.YJ)({direction:e,marginEnd:"0"})}:{width:"50%",height:"auto",":nth-of-type(even)":[(0,l.YJ)({direction:e,marginEnd:"-2px"})]}})]),"label:DivItemContainer;"),x=(0,a.Z)("div",{target:"e19c29qe10"})((({theme:{direction:e}})=>[{display:"block",float:(0,l.$K)(e,"start"),borderRadius:"2px"},(0,l.YJ)({direction:e,marginEnd:"2px"}),{width:"calc(33.3% - 12px)",marginInlineEnd:"12px"},(0,l.f1)({max:1071,style:{width:"calc(50% - 12px)",marginEnd:"12px"}})]),"label:DivItemContainerForSearch;"),b=(0,a.Z)("div",{target:"e19c29qe11"})((({theme:e})=>[(0,l.YJ)({direction:e.direction,marginStart:"8px"}),{position:"absolute",top:"8px",padding:"4px 5px",borderRadius:"2px",background:e.colors.Primary}]),"label:DivVideoTagContainer;"),y=(0,a.Z)("span",{target:"e19c29qe12"})((({theme:e})=>[(0,l.GI)({theme:e,typography:"P3",color:"ConstTextInverse",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{position:"relative",zIndex:2}]),"label:SpanVideoTag;"),j=(0,a.Z)("span",{target:"e19c29qe13"})((({theme:{colors:e}})=>[{display:"flex",justifyContent:"center",alignItems:"center",height:"33px",background:e.BGInverse3,lineHeight:"33px",fontSize:"13px",color:"#fff"}]),"label:SpanScheduleTimeWarn;"),_=(0,a.Z)(o.Z,{target:"e19c29qe14"})((({theme:{direction:e}})=>[(0,l.YJ)({direction:e,marginEnd:5})]),"label:StyledClock;"),w=(0,a.Z)("div",{target:"e19c29qe15"})((({theme:e})=>[(0,l.GI)({theme:e,typography:"P2",color:"ConstTextInverse",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{width:"88px",height:"20px",display:"flex",alignItems:"center"}]),"label:DivTimeTag;"),k=(0,a.Z)("div",{target:"e19c29qe16"})((({theme:{direction:e}})=>[Object.assign({position:"absolute",top:"12px",color:"#fff"},(0,r.s)()),(0,l.YJ)({direction:e,end:"12px"})]),"label:DivPhotoIconContainer;"),C=(0,a.Z)(s.y,{target:"e19c29qe17"})({transition:"transform 150ms linear",":hover":{transform:"scale(1.1)"}},"label:StyledCover;"),T=(0,a.Z)("div",{target:"e19c29qe18"})({display:"flex",alignItems:"center",flexShrink:0,position:"absolute",width:"100%",bottom:"0",height:"100px",background:"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 12px 12px"},"label:DivPlayContainer;"),D=(0,a.Z)(n.Z,{target:"e19c29qe19"})((({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,l.YJ)({direction:e,marginEnd:4})]),"label:StyledPlay;"),I=(0,a.Z)("strong",{target:"e19c29qe20"})({fontSize:"16px",lineHeight:"24px",fontWeight:600,color:"#fff"},"label:StrongVideoCount;"),O=(0,a.Z)("div",{target:"e19c29qe21"})((({theme:{direction:e}})=>[{width:"24px",height:"24px",display:"flex",justifyContent:"center",position:"absolute",bottom:12,cursor:"pointer",opacity:0},(0,l.YJ)({direction:e,end:12})]),"label:DivMuteIconContainer;")},60479:(e,t,i)=>{i.d(t,{X:()=>Nt});var o=i(71030),n=i(99333),a=i(31738),r=i(88029),s=i(81530),l=i(30036),d=i(17474),c=i(50297),u=i(15220),p=i(98514),h=i(37071),v=i(28974),m=i(55599),g=i(23739),f=i(32438),x=i(555),b=i(51553),y=i(44233),j=i(25879),_=i(6156),w=i(91600),k=i(66943),C=i(47248),T=i(83480),D=i(17560),I=i(85762),O=i(15137),S=i(21622),L=i(98999),P=i(72975),Z=i(51136),M=i(78340),q=i(25129),E=i(10967),R=i(6703),B=i(85093);const F=(0,B.Z)("div",{target:"e1txrytm0"})((({theme:{colors:e,fontFamilies:t}})=>({display:"inline-flex",padding:"0.0625rem 0.3125rem",alignItems:"center",gap:"0.625rem",borderRadius:"4px",background:"#fe2c55",color:e.ConstTextInverse,textAlign:"center",fontSize:"0.75rem",fontStyle:"normal",fontFamily:t.TikTokFont,fontWeight:500,lineHeight:"130%",letterSpacing:"0.01006rem"})),"label:DivBadge;"),V=({children:e})=>(0,o.jsx)(F,Object.assign({"data-e2e":"video-card-badge"},{children:e}),void 0),A=(0,B.Z)("div",{target:"e1ario2k0"})((({padding:e,theme:{direction:t}})=>({position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:null!=e?e:".5rem",direction:t,zIndex:1})),"label:DivHeaderContainer;"),z=(0,B.Z)("div",{target:"e1ario2k1"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",direction:e})),"label:DivLeftSection;"),U=(0,B.Z)("div",{target:"e1ario2k2"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",direction:e})),"label:DivRightSection;"),N=(0,a.memo)((function({left:e,right:t}){return(0,o.jsxs)(A,{children:[e&&(0,o.jsx)(z,{children:e},void 0),t&&(0,o.jsx)(U,{children:t},void 0)]},void 0)})),$=(0,a.memo)((function({videoData:e,pageType:t,itemListKey:i}){const n=(0,l.Q)();if(!(0,D.Ws)(e,"user-post"===i))return null;const a=1===t&&(0,o.jsx)(V,{children:n("profile_page_pin",{},"Pinned")},void 0);return(0,o.jsx)(N,{left:a},void 0)}));var W=i(77613);const H={id:"eye-slash-0fc1400e",use:"eye-slash-0fc1400e-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="eye-slash-0fc1400e"><path fill="#fff" fill-rule="evenodd" d="M37.176 41.474a.746.746 0 0 0 1.058-.011l1.738-1.787a.755.755 0 0 0-.012-1.063L7.319 6.526a.745.745 0 0 0-1.058.012L4.523 8.324a.755.755 0 0 0 .012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a6.951 6.951 0 0 1-1.688.207c-3.849 0-6.968-3.136-6.968-7.005 0-.53.058-1.047.17-1.544z" clip-rule="evenodd" /><path fill="#fff" d="M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627 0-2.204-1.265-4.608-4.133-6.626-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 0 0-4.894.5l-3.316-3.26z" /><path fill="#fff" d="M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004z" /></symbol>'};function Y(e){const t=(0,a.useContext)(W.e);return(0,a.useLayoutEffect)((()=>(t.add(H),()=>{t.remove("eye-slash-0fc1400e")})),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#eye-slash-0fc1400e"},void 0)}),void 0)}var Q=i(3979),G=i(84033),J=i(70717),K=i(46996),X=i(40362),ee=i(38168),te=i(53551),ie=i(63825),oe=i(51722),ne=i.n(oe);function ae(e,t,i,o=!1){const n="JP"===e;return{showLike:n,count:o?t:n?i:t}}var re,se=i(49907),le=i(49724),de=i(30471),ce=i(69988),ue=i(43340),pe=i(72914);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE=1]="INSIDE"}(re||(re={}));const he=(0,de.Z)("div",{target:"exdlci10"})((({type:e})=>[{display:"flex",alignItems:"center",overflow:"hidden",marginTop:"2px"},1===e?{position:"absolute",bottom:"0",boxSizing:"border-box",width:"100%",height:"60px",background:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(0, 0, 0, .5) 100%)",marginTop:"0",padding:"24px 12px 12px"}:null]),"label:DivCardAvatar;"),ve=(0,de.Z)(pe.q,{target:"exdlci11"})({flex:"none"},"label:StyledAvatar;"),me=(0,de.Z)(se.rU,{target:"exdlci12"})({overflow:"hidden"},"label:StyledLink;"),ge=(0,de.Z)(ce.Z,{target:"exdlci13"})((({theme:{direction:e}})=>[{flex:"none"},(0,ue.YJ)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),fe=(0,de.Z)("h4",{target:"exdlci14"})((({theme:{colors:e,direction:t},type:i})=>[{display:"flex",alignItems:"center",fontSize:"16px",lineHeight:"22px",color:1===i?e.BGPrimary:e.TextSecondary,whiteSpace:"nowrap",overflow:"hidden",":hover":{textDecoration:"underline"}},(0,ue.YJ)({direction:t,marginStart:1===i?4:8})]),"label:H4UserTitle;"),xe=(0,de.Z)("p",{target:"exdlci15"})((({theme:e,type:t})=>[(0,ue.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:1===t?"semiBold":"normal"}),{flex:"1",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,1.0)"}]),"label:PUserName;");var be=i(53677);const ye=(0,a.memo)((function({videoData:e,teaParams:t,e2ePrefix:i,type:n=0}){var r;const{language:s}=null!==(r=(0,O.Lh)((()=>["language"]),[]))&&void 0!==r?r:{},{author:l,id:d}=null!=e?e:{},c=(0,be.dV)((e=>{var t;if(l)return null===(t=e.users)||void 0===t?void 0:t[l]})),{uniqueId:u="",secUid:p,avatarThumb:h,verified:v,nickname:m}=(0,k.m7)(c),g=`${(0,q.ylP)({uniqueId:u,secUid:null!=p?p:""})}?lang=${s}`,f=(0,a.useCallback)((e=>i=>{null==i||i.stopPropagation(),le.W.handleEnterUser(Object.assign(Object.assign({},t),{enter_method:e,to_user_id:l,group_id:d,author_id:l}))}),[l,d,t]);return(0,o.jsxs)(he,Object.assign({type:n},{children:[(0,o.jsx)(se.rU,Object.assign({"data-e2e":`${i}-item-avatar`,to:g,onClick:f("user_portrait")},{children:(0,o.jsx)(ve,{src:h,size:24,alt:`${m},${u}`},void 0)}),void 0),(0,o.jsx)(me,Object.assign({title:u,onClick:f("user_name"),to:g},{children:(0,o.jsxs)(fe,Object.assign({type:n},{children:[(0,o.jsx)(xe,Object.assign({"data-e2e":`${i}-item-username`,className:"user-name",type:n},{children:u}),void 0),v&&(0,o.jsx)(ge,{width:14,height:14},void 0)]}),void 0)}),void 0)]}),void 0)}));var je=i(26183),_e=i(837),we=i(16883),ke=i(77969);const Ce=(0,de.Z)("div",{target:"e148ts220"})((({notPass:e})=>[{position:"absolute",width:"100%",bottom:"0",height:e?"100%":"100px",background:e?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:e?"100%":"67px"},(0,ue.f1)({max:479,style:e?null:{paddingTop:"72px"}})]),"label:DivCardFooter;"),Te=(0,de.Z)("span",{target:"e148ts221"})((({theme:e})=>[(0,ue.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,ue.f1)({max:479,style:{fontSize:"14px",lineHeight:"18px"}})]),"label:SpanNotPass;"),De=(0,de.Z)("strong",{target:"e148ts222"})((({theme:e})=>[(0,ue.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}]),"label:StrongVideoCount;"),Ie=({theme:{direction:e}})=>[(0,ue.YJ)({direction:e,marginEnd:4}),{verticalAlign:"middle"},(0,ue.f1)({max:479,style:{verticalAlign:"-.15em"}})],Oe=({theme:{direction:e}})=>({float:(0,ue.$K)(e,"end"),position:"relative",top:"4px"}),Se=(0,de.Z)(je.Z,{target:"e148ts223"})(Ie,"label:StyledHeart;"),Le=(0,de.Z)(_e.Z,{target:"e148ts225"})(Ie,"label:StyledPlay;"),Pe=(0,de.Z)(we.Z,{target:"e148ts226"})(Oe,"label:StyledLock3pt;"),Ze=(0,de.Z)(ke.Z,{target:"e148ts227"})(Oe,"label:StyledTwoPerson;"),Me=(0,a.memo)((function({videoData:e,content:t}){var i,n,a;const r=(0,l.Q)(),{region:s=""}=null!==(i=(0,O.Lh)((()=>["region"]),[]))&&void 0!==i?i:{},{secret:d,forFriend:c,showNotPass:u,scheduleTime:p}=(0,k.m7)(e),{diggCount:h,playCount:v}=null!==(a=null!==(n=null==e?void 0:e.statsV2)&&void 0!==n?n:null==e?void 0:e.stats)&&void 0!==a?a:{},m=(0,k.BT)(h),g=(0,k.BT)(null!=v?v:0),{showLike:f,count:x}=ae(s,g,m);return t?(0,o.jsx)(Ce,Object.assign({notPass:u},{children:t}),void 0):(0,o.jsx)(Ce,Object.assign({notPass:u},{children:p?null:u?(0,o.jsx)(Te,{children:r("cover_notice_violation")},void 0):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(o.Fragment,{children:[f?(0,o.jsx)(Se,{className:"like-icon",width:18,height:18,fill:"#fff"},void 0):(0,o.jsx)(Le,{"data-e2e":"video-play",className:"like-icon",width:18,height:18,fill:"#fff"},void 0),(0,o.jsx)(De,Object.assign({"data-e2e":"video-views",className:"video-count"},{children:x}),void 0)]},void 0),d&&!c&&(0,o.jsx)(Pe,{className:"private",width:18,height:18,fill:"#fff"},void 0),c&&(0,o.jsx)(Ze,{className:"private",width:18,height:18,fill:"#fff"},void 0)]},void 0)}),void 0)}));var qe=i(56445),Ee=i(88573),Re=i(94163),Be=i(12318),Fe=i(80984);const Ve=(0,de.Z)("div",{target:"ewsiauk0"})((({disable:e})=>e?{pointerEvents:"none"}:null),"label:DivVideoExploreCardDesc;"),Ae=(0,de.Z)("div",{target:"ewsiauk1"})((({ellipsisLine:e})=>[(0,ue.FC)(e),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}]),"label:DivMetaCaptionLine;"),ze=(0,de.Z)("div",{target:"ewsiauk2"})((({theme:e})=>[(0,ue.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"8px"}]),"label:DivCardBottomInfo;"),Ue=(0,de.Z)("div",{target:"ewsiauk3"})((({theme:e})=>[(0,ue.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"}]),"label:DivPlayLine;"),Ne=(0,de.Z)("div",{target:"ewsiauk4"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",flexShrink:0,fontSize:"20px",color:e.TextTertiaryAlt,cursor:"pointer"})),"label:DivPlayIcon;"),$e=(0,de.Z)("div",{target:"ewsiauk5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),We=(0,de.Z)("p",{target:"ewsiauk6"})((({theme:{direction:e}})=>[(0,ue.YJ)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),He=(0,de.Z)("strong",{target:"ewsiauk7"})((({theme:{direction:e}})=>()=>[{fontSize:"16px",fontWeight:600},(0,ue.YJ)({direction:e,marginStart:"2px"})]),"label:StrongVideoCount;"),Ye=(0,a.memo)((function({videoData:e,onClick:t,onMouseEnter:i,onLikeClick:n}){var r,s;const l=(0,k.m7)(e),{scheduleTime:d,author:c=""}=l,u=(0,j.m)(Ee.z,{selector:e=>e.users[c],dependencies:[]}),{avatarThumb:p="",uniqueId:h="",verified:v=!1,secUid:m}=(0,k.m7)(u),g=(0,a.useMemo)((()=>{var e;return{to_user_id:null!==(e=null==u?void 0:u.id)&&void 0!==e?e:"",enter_method:"click_category_video_user_name"}}),[null==u?void 0:u.id]),{diggCount:f}=null!==(s=null!==(r=null==e?void 0:e.statsV2)&&void 0!==r?r:null==e?void 0:e.stats)&&void 0!==s?s:{},x=(0,k.BT)(f),b=2===(null==e?void 0:e.adLabelVersion);return(0,o.jsx)(Ve,Object.assign({"data-e2e":"explore-card-desc",disable:d},{children:(0,o.jsxs)(ze,{children:[(0,o.jsx)(Ae,Object.assign({ellipsisLine:b?1:2,onClick:null==t?void 0:t("video_desc"),onMouseEnter:null==i?void 0:i("hover_cover"),"data-e2e":"explore-card-video-caption"},{children:(0,o.jsx)(Re.Q,{item:e,ellipsisOnNarrow:!0,styleType:"explore"},void 0)}),void 0),(0,o.jsx)(Be.C,{item:l},void 0),d?null:(0,o.jsxs)(Ue,{children:[(0,o.jsxs)($e,{children:[(0,o.jsxs)(Fe.D,Object.assign({"data-e2e":"explore-card-user-link",uniqueId:h,secUid:m,teaParams:Object.assign(Object.assign({},g),{enter_method:"click_category_video_user_icon"})},{children:[(0,o.jsx)(pe.q,{style:{flexShrink:0},src:p,shape:"circle",size:24},void 0)," "]}),void 0),(0,o.jsx)(Fe.D,Object.assign({"data-e2e":"explore-card-user-link",uniqueId:h,secUid:m,teaParams:g},{children:(0,o.jsx)(We,Object.assign({"data-e2e":"explore-card-user-unique-id"},{children:h}),void 0)}),void 0),v&&(0,o.jsx)(ce.Z,{"data-e2e":"explore-card-user-verified",style:{flexShrink:0},width:14,height:14},void 0)]},void 0),(0,o.jsxs)(Ne,Object.assign({"data-e2e":"explore-card-like-container",onClick:n},{children:[(0,o.jsx)(qe.Z,{},void 0),(0,o.jsx)(He,{children:x},void 0)]}),void 0)]},void 0)]},void 0)}),void 0)}));var Qe=i(55819),Ge=i(45378),Je=i(36226);const Ke=(0,de.Z)("a",{target:"epeqwgm0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),Xe=(0,de.Z)("div",{target:"epeqwgm1"})((({theme:e})=>[(0,ue.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivQuestionCardDesc;"),et={enter_method:"video_desc"},tt=(0,a.memo)((function(e){var t,i,n;const{videoData:a,mode:r}=e,{user:s}=(0,k.m7)((0,O.Lh)((()=>["user"]),[])),l=null==s?void 0:s.ftcUser,{scheduleTime:d,warnInfo:c=[]}=(0,k.m7)(a),{questionInfo:u}=(0,j.m)(Je.D,{selector:e=>({questionInfo:e.questionInfo}),dependencies:[]}),p=c&&c.length>0,{content:h="",id:v=""}=(0,k.m7)(u),m=`https://www.tiktok.com${(0,q._9x)({questionId:v,questionContent:h})}`,g=Boolean(d||l);return p?null:(0,o.jsx)(Xe,Object.assign({onClick:null===(t=e.onClick)||void 0===t?void 0:t.call(e,"click_blank"),onMouseEnter:null===(i=e.onMouseEnter)||void 0===i?void 0:i.call(e,"hover_blank")},{children:(0,o.jsx)(Ke,Object.assign({"data-e2e":"question-item-caption",onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==a?void 0:a.desc,href:m},{children:(0,o.jsx)(Re.Q,{mode:r,ellispsisLine:1,styleType:"question",item:a,ellipsisOnNarrow:!0,reportParams:et,shouldReport:g},void 0)}),void 0)}),void 0)}));var it=i(71928),ot=i(43226),nt=i.n(ot),at=i(67351),rt=i(45179),st=i(62591),lt=i(4146);const dt=(0,de.Z)("div",{target:"etrd4pu0"})((({disable:e})=>({pointerEvents:e?"none":"auto",padding:"0 8px"})),"label:DivVideoSearchCardDesc;"),ct=(0,de.Z)("div",{target:"etrd4pu1"})([(0,ue.FC)(2),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),ut=(0,de.Z)("div",{target:"etrd4pu2"})((({theme:e})=>[(0,ue.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"26px"}]),"label:DivCardBottomInfo;"),pt=(0,de.Z)("div",{target:"etrd4pu3"})((({theme:e})=>[(0,ue.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"}]),"label:DivPlayLine;"),ht=(0,de.Z)("div",{target:"etrd4pu4"})({display:"flex",alignItems:"center",flexShrink:0},"label:DivPlayIcon;"),vt=({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,ue.YJ)({direction:e,marginEnd:4})],mt=(0,de.Z)("div",{target:"etrd4pu5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),gt=(0,de.Z)("p",{target:"etrd4pu6"})((({theme:{direction:e}})=>[(0,ue.YJ)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),ft=(0,de.Z)(je.Z,{target:"etrd4pu7"})(vt,"label:StyledHeart;"),xt=(0,de.Z)(lt.Z,{target:"etrd4pu8"})(vt,"label:StyledHeartFill;"),bt=(0,de.Z)(_e.Z,{target:"etrd4pu9"})(vt,"label:StyledPlay;"),yt=(0,de.Z)("strong",{target:"etrd4pu10"})({fontWeight:"normal"},"label:StrongVideoCount;"),jt=(0,a.memo)((function({videoData:e,reportParams:t,onClick:i,onMouseEnter:r,onReportClick:s,hasPlayInfo:d=!0,id:c}){var u,p,h;const v=(0,l.Q)(),m=(0,k.m7)(e),{scheduleTime:g,id:f="",digged:x,author:b=""}=m,y=(0,j.m)(Ee.z,{selector:e=>e.users[b],dependencies:[]}),{avatarThumb:_="",uniqueId:w="",verified:C=!1,secUid:T,nickname:D}=(0,k.m7)(y),I=(0,at.CN)(Object.assign({user:y,enterMethod:"click_search_result"},t)),{region:S=""}=null!==(u=(0,O.Lh)((()=>["region"]),[]))&&void 0!==u?u:{},{diggCount:L,playCount:P=0}=null!==(h=null!==(p=null==e?void 0:e.statsV2)&&void 0!==p?p:null==e?void 0:e.stats)&&void 0!==h?h:{},Z=(0,k.BT)(L),M=(0,k.BT)(P),{showLike:q,count:E}=ae(S,M,Z),R=(0,n.q)(rt.A),B=(0,a.useCallback)((()=>{R.postLikeVideo(Object.assign({id:f,enter_method:"click",channel_id:23},t))}),[f,R,t]),F=(0,st.W)({actionWhenUserLoggedIn:q?B:nt(),modalConfig:{query:{enter_method:"click_like",redirect_url:window.location.href,group_id:f}}}),V=(0,a.useCallback)((()=>{null==s||s()}),[s]),{colors:A}=(0,it.u)();return(0,o.jsx)(dt,Object.assign({"data-e2e":"search-card-desc",disable:g},{children:(0,o.jsxs)(ut,{children:[(0,o.jsx)(ct,Object.assign({onClick:null==i?void 0:i("video_desc"),onMouseEnter:null==r?void 0:r("hover_cover"),"data-e2e":"search-card-video-caption"},{children:(0,o.jsx)(Re.Q,{item:e,ellipsisOnNarrow:!0,reportParams:t,onSearchResultClick:s},void 0)}),void 0),(0,o.jsx)(Be.C,{item:m},void 0),g?null:(0,o.jsxs)(pt,{children:[(0,o.jsx)(Fe.D,Object.assign({"data-e2e":"search-card-user-link",uniqueId:w,secUid:T,teaParams:I,id:c,onClick:V,ariaLabel:v("accessibilityLabels_link_userProfile",{username:D})},{children:(0,o.jsxs)(mt,{children:[(0,o.jsx)(pe.q,{style:{flexShrink:0},src:_,shape:"circle",size:24},void 0)," ",(0,o.jsx)(gt,Object.assign({"data-e2e":"search-card-user-unique-id"},{children:w}),void 0),C&&(0,o.jsx)(ce.Z,{"data-e2e":"search-card-user-verified",style:{flexShrink:0},width:14,height:14},void 0)]},void 0)}),void 0),d&&(0,o.jsxs)(ht,Object.assign({"data-e2e":"search-card-like-container",onClick:F},{children:[q?x?(0,o.jsx)(xt,{className:"like-icon",width:18,height:18,fill:A.Primary},void 0):(0,o.jsx)(ft,{className:"like-icon",width:18,height:18,fill:A.TextReverse2},void 0):(0,o.jsx)(bt,{className:"like-icon",width:16,height:16,fill:A.TextReverse2},void 0),(0,o.jsx)(yt,{children:E},void 0)]}),void 0)]},void 0)]},void 0)}),void 0)}));var _t=i(46500),wt=i(57066);const kt=(0,de.Z)("a",{target:"eih2qak0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;");var Ct;!function(e){e.ArrowLeft="left",e.ArrowRight="right",e.ArrowTop="top",e.ArrowBottom="bottom"}(Ct||(Ct={}));const Tt=(0,de.Z)("div",{target:"eih2qak1"})((({theme:e})=>[(0,ue.GI)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivTagCardDesc;"),Dt=(0,de.Z)("span",{target:"eih2qak2"})((({theme:e})=>({color:e.colors.TextTertiaryAlt})),{marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"},"label:SpanInfoExpandIconWrapper;");function It(e,t){return"right"===e?function(e){const t={borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderRight:"10px solid",borderRightColor:e.colors.BGSecondary};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginTop:"32px",marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginTop:"30px",marginLeft:"8px"})}(t):"bottom"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"10px solid",borderBottomColor:e.colors.BGSecondary,marginTop:"60px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-16px"}):Object.assign(Object.assign({},t),{marginLeft:"-20px"})}(t):"left"===e?function(e){return{borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderLeft:"10px solid",borderLeftColor:e.colors.BGSecondary,marginTop:"30px",marginLeft:"-30px"}}(t):"top"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderTop:"10px solid",borderTopColor:e.colors.BGSecondary,marginRight:"-20px",marginTop:"20px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginLeft:"-18px"})}(t):{}}const Ot=(0,de.Z)("div",{target:"eih2qak3"})((({renderDirection:e,visible:t,theme:i})=>[{width:0,height:0,position:"absolute",display:t?"block":"none",zIndex:100},It(e,i)]),"label:DivInfoCardArrow;"),St=(0,de.Z)("div",{target:"eih2qak4"})({display:"flex",position:"relative"},"label:DivDesContainer;"),Lt=(0,de.Z)("span",{target:"eih2qak5"})({position:"absolute",display:"flex",top:-28,":hover":{cursor:"pointer"}},(({theme:{direction:e}})=>"ltr"===e?{right:0}:{left:0}),"label:SpanInfoExpandWrapper;");var Pt=i(82394),Zt=i(21463),Mt=i(3281),qt=i(10822);const Et={enter_method:"video_desc"},Rt=(0,a.memo)((function(e){var t,i,n,r;const{videoData:s,mode:l,itemListKey:d,pageType:c,userData:u,botAllTagsResult:p={}}=e,{user:h}=null!==(t=(0,O.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},v=null==h?void 0:h.ftcUser,[m,g]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),b=(0,Zt.D)(),[y,j]=(0,a.useState)(!1),_=(0,C.YA)(),w=(0,a.useCallback)((e=>{1===c&&null!==e&&(Array.from(e.querySelectorAll("*")).forEach((e=>{e.tabIndex=-1})),e.tabIndex=0)}),[c]),{scheduleTime:k,warnInfo:T=[],id:D="",author:I=""}=null!=s?s:{},S=T&&T.length>0,[P,Z]=(0,a.useState)("");(0,a.useEffect)((()=>{Z(`https://www.tiktok.com${_(s)}`)}),[I,D]);const M=(0,a.useCallback)((()=>{var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e,"hover_blank"),g(!0),x(!0)}),[e]),q=(0,a.useCallback)((()=>{window.setTimeout((()=>{x(!1)}),2e3)}),[]);(0,a.useEffect)((()=>{y||g(f)}),[f,y]);const E=(0,a.useRef)(null),R=Boolean(k||v),[B,F]=(0,a.useState)("down"),V=(0,a.useCallback)((e=>{(0,L.NS)(e),_t._.handleGeneralClick("info_card_icon",{group_id:null==s?void 0:s.id}),wt.O.showSection("info_card",{group_id:null==s?void 0:s.id});const t=(0,qt.q)(E,null!=c?c:999);F(t),j(!0)}),[c]);return S?null:(0,o.jsxs)(St,{children:[(0,o.jsx)(Tt,Object.assign({"aria-label":null==s?void 0:s.desc,"data-e2e":`${d}-item-desc`,onClick:null===(i=e.onClick)||void 0===i?void 0:i.call(e,"click_blank"),onMouseEnter:M,onMouseLeave:q,ref:w},{children:(0,o.jsx)(kt,Object.assign({onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==s?void 0:s.desc,href:P},{children:(0,o.jsx)(Re.Q,{mode:l,ellispsisLine:1,styleType:"tag",item:s,ellipsisOnNarrow:!0,reportParams:Et,shouldReport:R},void 0)}),void 0)}),void 0),m&&(0,o.jsx)(Dt,Object.assign({onClick:V,ref:E},{children:(0,o.jsx)(Pt.Z,{size:16},void 0)}),void 0),(0,o.jsx)(Lt,{children:(b||y)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ot,{visible:y,renderDirection:B},void 0),(0,o.jsx)(Mt.u,{item:s,author:u,description:null!==(r=null==s?void 0:s.desc)&&void 0!==r?r:"",stats:null==s?void 0:s.stats,isBot:b,pageType:null!=c?c:999,handleClose:()=>{j(!1),g(!1),x(!1)},visible:y,renderDirection:B,botAllTagsResult:p},void 0)]},void 0)},void 0)]},void 0)}));var Bt=i(45220);const Ft={width:24,height:24,fill:"#fff"},Vt=[3,16,4,18,121],At=(0,a.memo)((0,a.forwardRef)((function({index:e,id:t,pageType:i,itemListKey:r,mode:c="compact",hasDescUnderItem:p,borderRadius:v,teaParams:m,searchTopCardType:g,handleClick:f,handleVideoClick:B,searchType:F,mute:V=!0,hasSound:A=!1,volume:z=.7,handleToggleMute:U,botAllTagsResult:N={}},W){var H,oe,ae,re,se,le;const de=(0,j.m)(w.m,{selector:e=>e[t],dependencies:[t]}),ce=(0,Bt.rF)((e=>e[t])),ue=(0,a.useMemo)((()=>123===i||61===g),[i,g]),{video:pe,itemMute:he=!1,warnInfo:ve,desc:me="",showNotPass:ge=!1,author:fe="",scheduleTime:xe,authorId:je="",secret:_e=!1,forFriend:we=!1,adLabelVersion:ke}=(0,k.m7)(ce),{playAddr:Ce="",duration:Te,bitrateInfo:De,volumeInfo:Ie,bitrate:Oe,encodedType:Se="",format:Le="",videoQuality:Pe="",encodeUserTag:Ze="",codecType:qe="",definition:Ee="",zoomCover:Re,cover:Be}=(0,k.m7)(pe),Fe=(0,a.useMemo)((()=>({zoomCover:Re,cover:Be,quality:"480"})),[Re,Be]),Ve=(0,l.Q)(),Ae=(0,C.YA)(),ze=(({item:e,itemListKey:t})=>{const i=(0,l.Q)(),{originalItem:n,officalItem:a}=null!=e?e:{},r=Boolean(n);return Boolean(a)?(0,o.jsx)(Ge.kn,Object.assign({"data-e2e":`${t}-official`},{children:(0,o.jsx)(Ge.pG,{children:i("official_tag")},void 0)}),void 0):r?(0,o.jsx)(Ge.kn,Object.assign({"data-e2e":`${t}-original`},{children:(0,o.jsx)(Ge.pG,{children:i("original_tag")},void 0)}),void 0):null})({item:ce,itemListKey:r}),Ue=(0,j.m)(T.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),Ne=(0,n.q)(T.bg),$e=(0,n.q)(s.f),We=(0,be.dV)((e=>{if(fe)return e.users[fe]})),{uniqueId:He="",secUid:Je="",nickname:Ke=""}=(0,k.m7)(We),{music:Xe}=(0,k.m7)(ce),{title:et="",authorName:it=""}=(0,k.m7)(Xe),ot=Ve("seo_user_video_cover",{videoText:null!==(H=null==ce?void 0:ce.desc)&&void 0!==H?H:"",videoAuthor:Ke,musicAuthor:it,musicName:et}),nt=function(e){const{teaParams:t,id:i,pageType:o}=e;return(0,a.useMemo)((()=>{const{search_id:e,search_keyword:n}=null!=t?t:{};let a,r={};switch(e&&(r=Object.assign(Object.assign({},r),{search_id:e,impr_id:e,search_keyword:n,search_result_id:i})),o){case 105:a="general";break;case 106:a="user";break;case 107:a="video";break;case 123:a="live";break;default:a=void 0}return a&&(r.search_type=a),r}),[t,i,o])}({teaParams:m,id:t,pageType:i}),at=(0,D.K$)(ce),rt=(0,D.g7)(ce,i),st=(0,D.Ws)(ce,"user-post"===r),lt=(0,a.useMemo)((()=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},m),nt),{group_id:t,author_id:je,is_scheduled:Boolean(xe),bitrate:Number(Oe),encodedType:Se,format:Le,videoQuality:Pe,encodeUserTag:Ze,codecType:qe,definition:Ee,secret:_e,forFriend:we,isPaidPartnership:2===ke,isPinnedItem:st}),at),rt)),[m,nt,t,je,xe,Oe,Se,Le,Pe,Ze,qe,Ee,_e,we,ke,at,rt,st]),dt=function(e){const{teaParams:t,pageType:i}=e;return(0,a.useMemo)((()=>[105,106,107,123].includes(i)?Object.assign(Object.assign({},t),{enter_from:`${Q.W.commonParams.page_name}_result`}):t),[t,i])}({teaParams:lt,pageType:i}),ct=(0,a.useRef)(null),ut=(0,a.useRef)(null),{showBrowserMode:pt}=(0,a.useContext)(h._),ht=(0,u.zI)(),vt=(0,_.fz)(G.KF),mt=(0,_.fz)(J.ec),gt=(0,n.q)(I.rE),ft=(0,O.Lh)((()=>["abTestVersion"]),[]),xt=null!==(oe=(0,S.N8)(null==ft?void 0:ft.abTestVersion,"search_video"))&&void 0!==oe?oe:"v1",{wid:bt}=(0,k.m7)((0,O.Lh)((()=>["wid"]),[])),{user:yt}=null!==(ae=(0,O.Lh)((()=>["user"]),[]))&&void 0!==ae?ae:{},_t=Boolean(yt),wt=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.setHours(0,0,0,0)},kt=(0,a.useCallback)(((e,t)=>{const i={data:t,expire:wt()};(0,L.D$)(e,JSON.stringify(i))}),[]),Ct=(0,a.useCallback)((e=>{const t=(0,L.le)(e),i=Date.now();let o;if(t){const n=JSON.parse(t);i<n.expire?o=n.data:(0,L.e8)(e)}return o}),[]),Tt=("user-liked"===r||"favorites"===r)&&(null==ce?void 0:ce.isContentClassified),Dt=(0,a.useCallback)(((i,o)=>{var n,a;if(Tt)return X.h.destroy(),X.h.open({content:Ve("cc_webapp_age_video_details_body"),duration:3,widthType:"half"}),i.stopPropagation(),void i.preventDefault();if(f)return void f(i,t);if(i.preventDefault(),i.stopPropagation(),null==ce?void 0:ce.showNotPass)return;const s=Object.assign(Object.assign({},lt),{enter_method:o,from_mode:1});if(!("v4"!==xt||_t||"general_search"!==Q.W.commonParams.page_name&&"search_video"!==Q.W.commonParams.page_name||Ct(`${P.Z2}${bt}`)))return kt(`${P.Z2}${bt}`,bt),gt.setCloseCallback((()=>{var t,i;ht.setItemListKey(r),pt({index:e,teaParams:dt,enterFrom:Q.W.commonParams.page_name,playProgress:null!==(i=null===(t=ct.current)||void 0===t?void 0:t.currentTime)&&void 0!==i?i:0,reportTeaParams:s}),mt.setEnterMethod(o),vt.handleUserChangeVideoOrPlayMode(),vt.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o})})),void gt.openModal({isSignup:!1,query:{enter_method:"click_top_bar",enter_from:Q.W.commonParams.page_name,redirect_url:window.location.href,type:"loginsearchmore"}});ht.setItemListKey(r),pt({index:e,teaParams:dt,enterFrom:Q.W.commonParams.page_name,playProgress:null!==(a=null===(n=ct.current)||void 0===n?void 0:n.currentTime)&&void 0!==a?a:0,reportTeaParams:s}),mt.setEnterMethod(o),vt.handleUserChangeVideoOrPlayMode(),vt.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o}),null==B||B()}),[Tt,f,null==ce?void 0:ce.showNotPass,lt,xt,_t,Ct,bt,r,pt,e,dt,mt,vt,Ve,t,kt,gt,ht,B]),It=(0,a.useCallback)((e=>{var t;13!==e.keyCode&&32!==e.keyCode||null===(t=ut.current)||void 0===t||t.click()}),[]),{showVideoMask:Ot}=(0,d.g)({item:null!=ce?ce:{},playMode:1}),{hideMaskTempVideoId:St}=(0,j.m)(Z.P),Lt=Ot&&St!==t||Tt,Pt=(0,a.useCallback)((e=>{Lt||(e.preventDefault(),e.stopPropagation(),ce&&Ne.removeBlockVideo(ce.id))}),[Lt,ce,Ne]),Zt=(0,a.useCallback)((()=>{var e;const{search_id:t="",search_keyword:i="",search_result_id:o="",search_type:n="general",impr_id:a}=nt;K.xq.handleSearchResultClick({search_id:t,search_keyword:i,search_result_id:o,search_type:n,token_type:ue?"live_card":"person",nickname:ue?null===(e=null==de?void 0:de.owner)||void 0===e?void 0:e.nickname:Ke,impr_id:a})}),[ue,nt,Ke,de]),Mt=(0,a.useCallback)((e=>t=>Dt(t,e)),[Dt]),qt=function(e,t){return![3,4,103,16,18,121,19,123].includes(e)&&!t}(Number(i),ue),{ratio:Et}=M.h[c];let At;At="following-recommend"===c?`https://www.tiktok.com${(0,q.ylP)({uniqueId:He,secUid:null!=Je?Je:""})}`:`https://www.tiktok.com${Ae(ce)}`;const zt=(0,a.useCallback)((i=>o=>{var n,a;Lt||(o.preventDefault(),$e.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:null!==(a=null===(n=ct.current)||void 0===n?void 0:n.currentTime)&&void 0!==a?a:0,playType:"hover"}),mt.setEnterMethod(i),vt.reportVideoInteractStart({startTime:Date.now(),situation:"three_column_user_hover",enter_method:i}))}),[Lt,t,$e,e,mt,vt]),{isDetailPage:Ut}=(0,te.U)(),Nt=Vt.includes(i),$t=(0,a.useMemo)((()=>{var t;let n=null;switch(i){case 16:n=(0,o.jsx)(tt,{mode:c,index:e,onMouseEnter:zt,onClick:Mt,videoData:ce},void 0);break;case 3:case 4:case 1:case 121:case 18:n=(0,o.jsx)(Rt,{mode:c,index:e,itemListKey:r,onMouseEnter:zt,onClick:Mt,videoData:ce,pageType:i,userData:We,botAllTagsResult:N},void 0);break;case 105:case 107:case 123:let a=ce;ue&&(a={author:null===(t=null==de?void 0:de.owner)||void 0===t?void 0:t.display_id,desc:null==de?void 0:de.title}),n=(0,o.jsx)(jt,{onClick:Mt,onMouseEnter:zt,videoData:a,reportParams:nt,onReportClick:Zt,pageType:i,hasPlayInfo:!ue,id:`${r}-item-user-link-${e}`},void 0);break;case 19:n=(0,o.jsx)(Ye,{videoData:ce,onClick:Mt,onMouseEnter:zt,onLikeClick:Dt},void 0)}return n}),[i,c,e,zt,Mt,ce,r,ue,nt,Zt,Dt,null===(re=null==de?void 0:de.owner)||void 0===re?void 0:re.display_id,null==de?void 0:de.title]),Wt=105===i||107===i||ue?Ge.Ir:Ge.k7,Ht=Ut?Ge.HZ:Wt,Yt=(e=>{const{timeTranslator:t}=(0,Qe.e)(),{createTime:i}=null!=e?e:{},n=t(1e3*Number(i));return(0,o.jsx)(Ge.XM,{children:n},void 0)})(ce),Qt=105===i||107===i?Yt:null,Gt=(0,D.kw)(ce),{playCount:Jt=0}=null!==(le=null!==(se=null==ce?void 0:ce.statsV2)&&void 0!==se?se:null==ce?void 0:ce.stats)&&void 0!==le?le:{},Kt=(0,k.BT)(Jt),Xt=(0,a.useCallback)((e=>{e.preventDefault()}),[]),ei=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),he?(X.h.destroy(),X.h.open({content:Ve("music_detail_unavailable_1"),duration:3,widthType:"half"})):null==U||U(e)}),[he,U,Ve]),ti=(0,a.useRef)(null);(0,a.useImperativeHandle)(W,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=ti.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}})),[]);const ii=(0,a.useMemo)((()=>he||V?(0,o.jsx)(b.Z,Object.assign({},Ft),void 0):(0,o.jsx)(y.Z,Object.assign({},Ft),void 0)),[he,V]);return(0,o.jsxs)(Ht,Object.assign({ref:ti,hasDescUnderItem:p},{children:[(0,o.jsx)(ee.T,Object.assign({e2eTag:`${r}-item`,ratio:Et,borderRadius:v,hasDescUnderItem:p,copyrightMuted:he,onKeyDown:It},{children:(0,o.jsxs)("a",Object.assign({style:(null==ce?void 0:ce.showNotPass)?{pointerEvents:"none"}:void 0,href:At,onMouseEnter:zt("hover_cover"),onClick:Dt,tabIndex:-1,ref:ut},{children:[(0,o.jsx)(Ge.OR,{width:100*Et,height:100},void 0),ue?(0,o.jsx)(Ge.F,{children:(0,o.jsx)(ie.Z,{id:t,mode:1,searchType:null!=F?F:"live",search_result_id:null==m?void 0:m.search_result_id},void 0)},void 0):(0,o.jsxs)(Ge.F,Object.assign({onContextMenu:Xt},{children:[Gt?(0,o.jsx)(Ge.ot,{children:(0,o.jsx)(Ge.Up,{video:Fe,alt:me},void 0)},void 0):(0,o.jsx)(E.S,{desc:ot,horizontal:!1,mode:1,ref:ct,id:t,playUrl:Ce,index:e,itemMute:V||he,duration:Te,bitrateInfo:De,teaParams:lt,disableDownload:!0,volumeInfo:{Loudness:z}||Ie,bitrate:Number(Oe),videoCover:Fe},void 0),(null==ve?void 0:ve[0])&&(0,o.jsx)(Ge.zo,{children:(0,o.jsx)(R.p,{needExtraBottom:!0,info:null==ve?void 0:ve[0]},void 0)},void 0),Boolean(xe)&&(0,o.jsx)(Ge.zo,{children:(0,o.jsxs)(Ge.G9,{children:[(0,o.jsx)(Ge.Io,{width:14.67,height:14.67},void 0),(e=>{const[t,i]=e.split(" "),[n,a,r]=t.split("-");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:n},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:a},void 0),(0,o.jsx)("span",{children:"-"},void 0),(0,o.jsx)("span",{children:r},void 0),(0,o.jsx)("span",{children:" "},void 0),(0,o.jsx)("span",{children:i},void 0)]},void 0)})((oi=xe,ne().unix(oi).format("YYYY-M-D H:mm")))]},void 0)},void 0),ze,Gt&&(0,o.jsx)(Ge.Vc,{children:(0,o.jsx)(x.d,{size:20},void 0)},void 0),qt&&(0,o.jsx)(Me,{videoData:ce,content:Qt},void 0),!(null==ve?void 0:ve[0])&&Nt&&(0,o.jsx)(ye,{e2ePrefix:r,type:1,videoData:ce,teaParams:m},void 0),19===i&&(0,o.jsxs)(Ge.pj,{children:[(0,o.jsx)(Ge.TU,{width:20,height:20,fill:"#fff"},void 0),(0,o.jsx)(Ge.Q$,{children:Kt},void 0)]},void 0),Lt||Ue.includes((null==ce?void 0:ce.id)||"")?(0,o.jsx)(Ge.qq,Object.assign({hasSolidBackground:Tt},{children:(0,o.jsx)(Ge.uc,Object.assign({onClick:Pt},{children:(0,o.jsx)(Y,{width:"48",height:"48"},void 0)}),void 0)}),void 0):null,(A||he)&&(0,o.jsx)(Ge.AA,Object.assign({onClickCapture:ei},{children:ii}),void 0)]}),void 0),(0,o.jsx)($,{videoData:ce,pageType:i,itemListKey:r},void 0)]}),void 0)}),void 0),!ge&&$t]}),void 0);var oi})));var zt=i(96703),Ut=i(34579);const Nt=(0,a.memo)((0,r.J)()((function({mode:e="compact",loading:t,itemList:i,pageType:r,itemListKey:x,onHitBottom:b,threshold:y,frozen:j,borderRadius:_,renderMap:w,renderTitle:k,teaParams:C,searchTopCardType:T,notWrap:D=!1,autoPlayFirst:I=!0,handleClick:O,handleVideoClick:S,searchType:L,customItemRender:P,hasMore:Z=!0,mute:M=!0,hasSound:q=!1,handleToggleMute:E,children:R}){const B=(0,a.useCallback)((()=>{j||null==b||b()}),[j,b]),F=(0,m.s)({onHitBottom:B,threshold:y}),V=(0,n.q)(s.f),A=(0,l.Q)(),z=i[0],U=(0,Bt.rF)((e=>e[z])),{showVideoMask:N}=(0,d.g)({item:null!=U?U:{},playMode:1});(0,f.sC)(i,F,Z,b),(0,a.useEffect)((()=>{!N&&I&&i.length&&V.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{isThreeColumnAuto:!0},playProgress:0,playType:"automatic"})}),[N,i]),(0,c.$v)(1);const $=3===r||105===r||107===r||123===r||16===r||61===T,W=(0,a.useRef)([]),H=(0,a.useCallback)((e=>t=>{W.current||(W.current=[]),W.current[e]=t}),[]),Y=(0,u.QR)((e=>e.currentIndex)),Q=(0,p.GG)(),{isBrowserModeShowing:G}=(0,a.useContext)(h._);(0,a.useEffect)((()=>{let e;if("explore"===x&&G&&0!==Y){const{itemListKey:t,index:i}=Q.getSourceIndex(Y);return t===x&&(e=setTimeout((()=>{var t,o,n;e=void 0,window.scrollTo(0,(null!==(n=null===(o=null===(t=W.current)||void 0===t?void 0:t[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:144)-144)}),0)),()=>e&&clearTimeout(e)}}),[Y,G,x,Q]);const J=(0,Zt.D)(),K=i,X=(0,v.k)(K,J),ee=e=>{if(null==w?void 0:w.length){const t=w.filter((({position:t})=>t===e));if(t.length>0)return t.map((t=>t.renderNode(e)))}return null},te=(0,a.useMemo)((()=>null!==ee(0)),[w,ee]);return(0,o.jsxs)(Ut.hZ,Object.assign({ref:F,isSearchTopCard:Boolean(T)},{children:[(0,o.jsxs)(zt.$,Object.assign({"data-e2e":`${x}-item-list`,hasDescUnderItem:$,mode:e,notWrap:D},{children:[ee(0),i.map(((t,i)=>P?P(t,i):(0,o.jsxs)(a.Fragment,{children:[0===i&&te&&k,(0,o.jsx)(At,{id:t,index:i,mode:e,pageType:r,borderRadius:_,itemListKey:x,hasDescUnderItem:$,teaParams:C,searchTopCardType:T,handleClick:O,handleVideoClick:S,searchType:L,ref:H(i),mute:M,hasSound:q,handleToggleMute:E,botAllTagsResult:X},t),ee(i+1)]},t))),R]}),void 0),t&&(0,o.jsx)(g.g,{center:!0},void 0),!t&&!Z&&(0,o.jsx)(Ut.HY,{children:A("search_nomoreresults_text")},void 0)]}),void 0)})))},96703:(e,t,i)=>{i.d(t,{$:()=>h,YK:()=>p});var o=i(71030),n=i(30471),a=i(31738),r=i(41115),s=i(43340),l=i(53551),d=i(34579);const c=()=>[{display:"grid",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(278px, 1fr))",gridAutoRows:"minmax(min-content, max-content)"},(0,s.f1)({max:1535.98,style:{gridTemplateColumns:"repeat(auto-fill, minmax(226px, 1fr))"}},{max:1071.98,style:{gridTemplateColumns:"repeat(auto-fill, minmax(187px, 1fr))"}})],u=()=>[{display:"grid",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(304px, 1fr))"},(0,s.f1)({max:1919,style:{gridTemplateColumns:"repeat(auto-fill, minmax(256px, 1fr))"}},{max:767,style:{gridTemplateColumns:"repeat(auto-fill, minmax(209px, 1fr))"}})],p=(0,n.Z)("div",{target:"ecyq5ls0"})((({mode:e})=>{const{showExploreAllTab:t}=(0,r.Ic)();return"explore"===e?t?c:u:{display:"grid",width:"100%",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(184px, 1fr))"}}),"label:DivVideoFeedV2;"),h=(0,a.memo)((e=>{const{isDetailPage:t}=(0,l.U)(),i=t?p:d.$;return(0,o.jsx)(i,Object.assign({},e),void 0)}))},34579:(e,t,i)=>{i.d(t,{$:()=>a,HY:()=>s,hZ:()=>r});var o=i(30471),n=i(43340);const a=(0,o.Z)("div",{target:"eegew6e0"})((({hasDescUnderItem:e,notWrap:t})=>[{"::after":{content:'""',height:"0",display:"block",clear:"both"}},e?{display:"flex",flexWrap:"wrap"}:null,t?{flexWrap:"nowrap"}:null,(0,n.f1)({max:767,style:{width:"100%"}})]),"label:DivVideoFeed;"),r=(0,o.Z)("div",{target:"eegew6e2"})((({isSearchTopCard:e})=>({width:e?"calc(100% + 12px)":"100%"})),"label:DivThreeColumnContainer;"),s=(0,o.Z)("div",{target:"eegew6e3"})((({theme:{colors:e}})=>({height:"48px",color:e.TextTertiaryAlt,fontSize:"18px",lineHeight:"22px",display:"flex",justifyContent:"center",alignItems:"center"})),"label:DivNoMoreResultsContainer;")},36226:(e,t,i)=>{i.d(t,{D:()=>D});var o=i(22403),n=i(98279),a=i(3312),r=i(82790),s=i(82941),l=i(45809),d=i(28952),c=i(90950),u=i(17620),p=i(80986),h=i(8460),v=i(27503),m=i(11580),g=i(82874),f=i(35380),x=i(89403),b=i(59477),y=i(47294),j=i(45179),_=i(88573),w=i(98171),k=i(43549),C=i(32565);let T=class{constructor(e){this.fetch=e}getQuestionDetail(e){return this.fetch.get("/api/question/detail/",{query:e,baseUrlType:2})}};T=(0,o.__decorate)([(0,k.G)(),(0,o.__metadata)("design:paramtypes",[C.r])],T);let D=class extends n.D{constructor(e,t,i,o,n,a){super(),this.service=e,this.seoModule=t,this.itemList=i,this.item=o,this.user=n,this.bizContext=a,this.defaultState={statusCode:0,questionInfo:void 0,loading:!0}}setQuestionInfo(e,t){const{statusCode:i=0,questionInfo:o}=null!=t?t:{};e.statusCode=i,e.questionInfo=o}resetData(e){e.loading=!0,e.statusCode=0,e.questionInfo=void 0}setLoading(e,t){e.loading=t}resetQuestionData(e){return e.pipe((0,c.z)((()=>(0,s.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"question"})))))}getQuestionPageData(e){return e.pipe((0,u.z)((({questionId:e="",scene:t="",abTestVersion:i,user:o,language:n,appType:a})=>this.service.getQuestionDetail({questionId:e,language:n}).pipe((0,p.K)((()=>(0,s.of)({statusCode:-1}))),(0,c.z)((r=>{const{statusCode:d}=r,c=[(0,s.of)(this.getActions().setQuestionInfo(r),this.getActions().setLoading(!1))];let u;return 0===d&&(u=this.itemList.getQuestionList$({questionID:e,abTestVersion:i,user:o,language:n}),c.push(u)),(0,l.T)(...c,this.setSEO(r,t,n,a,u))})),(0,h.O)(this.getActions().setLoading(!0)),(0,v.l)(this.getActions().setLoading(!1),this.terminate()),(0,m.R)(this.dispose$),(0,p.K)((e=>(console.error(e),(0,s.of)(this.noop()))))))))}setSEO(e,t,i,o,n){var a;if((null===(a=this.bizContext.state.bizContext)||void 0===a?void 0:a.isBot)&&n){const a=this.itemList.state$.pipe((0,g.q)(1),(0,f.M)(this.item.state$,this.user.state$),(0,c.z)((([n,a,r])=>{var s,l;const d=null===(s=n.question)||void 0===s?void 0:s.list,c=(null!==(l=null==d?void 0:d.map((e=>a[e])))&&void 0!==l?l:[]).filter(Boolean),u=c.map((e=>{var t;return Object.assign(Object.assign({},e),{author:r.users[null!==(t=e.author)&&void 0!==t?t:""]})}));return this.seoModule.setQuestionSEOProps(e,{language:i},c,o,{scene:t},u)})));return n.pipe((0,x.T)(a))}return this.seoModule.setQuestionSEOProps(e,{language:i},[],o,{scene:t})}};(0,o.__decorate)([(0,a.cQ)(),(0,o.__metadata)("design:type",d.y)],D.prototype,"dispose$",void 0),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setQuestionInfo",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetData",null),(0,o.__decorate)([(0,a.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setLoading",null),(0,o.__decorate)([(0,a.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetQuestionData",null),(0,o.__decorate)([(0,a.Qm)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.y]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"getQuestionPageData",null),D=(0,o.__decorate)([(0,r.Y)("QuestionModuleDesktop"),(0,o.__metadata)("design:paramtypes",[T,b.q,y.h,j.A,_.z,w.r])],D)},32438:(e,t,i)=>{i.d(t,{Es:()=>_,O7:()=>g,Wo:()=>w,mv:()=>y,pu:()=>f,sC:()=>k,tF:()=>j});var o=i(99333),n=i(31738),a=i(5909),r=i(15137),s=i(17471),l=i(85762),d=i(21622),c=i(62068),u=i(93988),p=i(15220),h=i(53292),v=i(3979),m=i(22940);const g=()=>{var e,t;const{user:i}=null!==(e=(0,r.Lh)((()=>["user"]),[]))&&void 0!==e?e:{},{isBot:d,searchVideoForLoggedin:c,searchLiveForLoggedin:u}=null!==(t=(0,s.h)((()=>["isBot","searchVideoForLoggedin","searchLiveForLoggedin"]),[]))&&void 0!==t?t:{},p=(0,o.q)(l.rE),{search:v,pathname:m}=(0,a.TH)(),g=Boolean(i),f=(0,a.k6)();(0,n.useEffect)((()=>{if(!(d||g||m===h.nT.searchUser||m===h.nT.searchHome&&!c||m===h.nT.searchVideo&&!c||m===h.nT.searchLive&&!u)){p.setCloseCallback((()=>{let e=h.nT.searchUser;c||(e=h.nT.searchHome),f.push({pathname:e,search:v,state:{needLoad:!1,enterMethod:"click_icon",searchSource:"switch_tab"}})}));const{state:{enterFrom:e}}=f.location;p.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"explore_page"===e?"explore_all":"prompt",type:"search"}})}}),[])},f=()=>{var e;const{user:t}=null!==(e=(0,r.Lh)((()=>["user"]),[]))&&void 0!==e?e:{};return Boolean(t)};function x(e){return!!["no_results","show_with_button"].includes(e)}function b(e){return"show_with_button"===e}const y=e=>{const t=(null==e?void 0:e.data)?null==e?void 0:e.data.show_results_type:"",[i,o]=(0,n.useState)((()=>x(t))),[a,r]=(0,n.useState)((()=>b(t)));return(0,n.useEffect)((()=>{o((()=>x(t))),r((()=>b(t)))}),[t]),{hideSearchResult:i,skipError:e&&11===e.type||!1,onShowResult:function(){b(t)&&(o(!1),r(!1))},showResultButton:a}},j=()=>{var e,t;const i=(0,r.Lh)((()=>["abTestVersion"]),[]),a=null!==(e=(0,d.N8)(null==i?void 0:i.abTestVersion,"search_video"))&&void 0!==e?e:"v1",{user:s}=null!==(t=(0,r.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},c=Boolean(s),u=(0,o.q)(l.rE);return(0,n.useCallback)((()=>{"v3"!==a&&"v4"!==a||c||u.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:v.W.commonParams.page_name,type:"loginsearchmore"}})}),[u,a,c])},_=e=>{const[{loading:t=!0,hasMore:i=!0}]=(0,o.b)(c.t8,{dependencies:[e],selector:t=>t[e]}),{handleSearch:a}=(0,u.Ob)(e);return(0,n.useCallback)((()=>{!t&&i&&a.bind(null,!0,!1)()}),[a,t,i])},w=(e,t)=>{var i;const a=(0,r.Lh)((()=>["abTestVersion"]),[]),s=null!==(i=(0,d.N8)(null==a?void 0:a.abTestVersion,"search_video"))&&void 0!==i?i:"v1",l=f(),[{hasMore:u=!0,error:h}]=(0,o.b)(c.t8,{dependencies:[e],selector:t=>t[e]}),v=_(e),g=j(),{showingBrowserMode:x,currentIndex:b}=(0,p.QR)((e=>({showingBrowserMode:e.showingBrowserMode,currentIndex:e.currentIndex})),m.wU);(0,n.useEffect)((()=>{const e=("v3"===s||"v4"===s)&&!l;!u&&x&&e&&t.length-b==1?g():u&&x&&!e&&!h&&t.length-b<=3&&v()}),[b,x,s,t.length,l,h,g,v,u])},k=(e,t,i,o)=>{(0,n.useEffect)((()=>{var n,a,r,s,l,d;const c=null!==(a=null===(n=document.getElementById("app-header"))||void 0===n?void 0:n.clientHeight)&&void 0!==a?a:0,u=null!==(s=null===(r=document.getElementById("search-tabs"))||void 0===r?void 0:r.clientHeight)&&void 0!==s?s:0,p=window.innerHeight;e.length>0&&(null!==(d=null===(l=t.current)||void 0===l?void 0:l.clientHeight)&&void 0!==d?d:0)+c+u<=p&&i&&(null==o||o())}),[e.length,t,i,o])}},88029:(e,t,i)=>{i.d(t,{J:()=>d});var o=i(71030),n=i(31738),a=i(87317),r=i(23739),s=i(76709);const l=function({onShow:e}){const t=(0,n.useRef)(null),i=(0,s.fB)((()=>{if(t.current){const{top:i}=t.current.getBoundingClientRect();i>=0&&i<window.innerHeight&&e()}}),[e],100);return(0,n.useEffect)((()=>{i()}),[]),(0,n.useEffect)((()=>(window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)})),[i]),(0,o.jsx)("div",Object.assign({ref:t},{children:(0,o.jsx)(r.g,{center:!0,maskKey:"self-detector"},void 0)}),void 0)};function d(){return function(e){const t=t=>{const{ssrLimitDisable:i=!1}=t,[a,r]=(0,n.useState)(!i),s=(0,n.useCallback)((()=>{r(!1)}),[]);(0,n.useEffect)((()=>{void 0!==window.requestIdleCallback?window.requestIdleCallback(s):setTimeout((()=>{s()}),0)}),[s]);const d=(0,n.useMemo)((()=>{var e;return"undefined"!=typeof window?t.itemList:a&&!i?t.itemList.slice(0,null!==(e=t.ssrLimit)&&void 0!==e?e:2):t.itemList}),[a,t.itemList,t.ssrLimit,i]),c=Object.assign(Object.assign({},t),{itemList:d,frozen:a});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e,Object.assign({},c),void 0),a&&(0,o.jsx)(l,{onShow:s},void 0)]},void 0)};return t.displayName=`WithLimitedListSSR(${(0,a.i)(e)})`,t}}},87862:(e,t,i)=>{i.d(t,{sp:()=>r});var o=i(6156),n=i(31738),a=i(47654);function r(e){const t=(0,o.fz)(a.Re);(0,n.useEffect)((()=>{t.setPreloadQueue(e)}),[e,t])}},78340:(e,t,i)=>{var o;i.d(t,{h:()=>n}),function(e){e.Compact="compact",e.Follow="following-recommend",e.SearchVideoList="search-video-list",e.Explore="explore"}(o||(o={}));const n={compact:{ratio:196/260,borderRadius:0},"following-recommend":{ratio:.75,borderRadius:8},"search-video-list":{ratio:229/305,borderRadius:2},explore:{ratio:.75,borderRadius:8}}}}]);