(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5146],{7216:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/keyword-research",function(){return a(9776)}])},4225:function(e,t,a){"use strict";var s=a(5893),r=a(6426),n=a(3255),o=a(4732),l=a(4283),c=a(9583);t.Z=e=>{let{type:t,gtmClass:a}=e,i=(0,c.useRouter)(),{setUser:d}=(0,l.aC)(),{getHistoryData:h,getResult:u}=(0,l.lt)(),m=(0,r.Nq)({onSuccess:async e=>{try{await loginOrRegister(e.code)}catch(e){console.log(e)}},onError:()=>console.log("An error occured with google login..."),redirect_uri:"https://www.sequence.day",flow:"auth-code",scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email"}),handleGoogleLogin=()=>{i.push("".concat("https://www.sequence.day","/keyword-research/?type=research-login")),m()},loginOrRegister=async e=>{let t=await fetch("".concat("https://api.sequence.day","/api/auth/login-google"),{method:"POST",body:JSON.stringify({state:"secret",authorization_code:e,redirect_url:"https://www.sequence.day",type:"keyword-research"})}),a=await t.json(),s=a.data.token.value,r=await getProfile(s);saveUserData(r),(0,o.wp)("success","Login success!"),await sendHistoryData(r.token),await h(),await u()},getProfile=async e=>{let t=await fetch("".concat("https://api.sequence.day","/api/profile/info/get"),{headers:{Authorization:"Bearer ".concat(e)}}),a=await t.json(),s=a.data,r={...s.user,token:e};return r},saveUserData=e=>{localStorage.setItem(o.Fy,JSON.stringify(e)),d(e)},sendHistoryData=async e=>{let t=JSON.parse(localStorage.getItem(o.H2)),a=t.discoverNewKeyword.map(e=>({date:e.date,keywords:e.keywords,ideas:e.ideas}));a.push(...t.getSearchVolume.map(e=>({date:e.date,keywords:e.keywords,ideas:0})));let s=await fetch("".concat("https://api.sequence.day","/api/public/keyword-research-histories"),{method:"POST",body:JSON.stringify({token:"".concat(JSON.parse(localStorage.getItem(o.Fy)).token),histories:a})}),r=await s.json();200===r.code?(0,o.wp)("success","Successfully sync your history data"):(0,o.wp)("error","Failed to sync your history data")};return(0,s.jsx)(n.z,{onClick:()=>handleGoogleLogin(),type:"graph"===t?"outline":"solid",color:"graph"===t?"white":"celestial",custom:a,className:a,children:"table"===t?"Sign In with Google":(0,s.jsxs)("span",{className:a,children:[(0,s.jsx)("span",{className:"text-celestial-50 underline ".concat(a),children:"Sign In with Google"})," ","to view 12 months data"]})})}},9776:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return K},default:function(){return M}});var s=a(5893),r=a(7294),n=a(9583),o=a(7516),l=a(3461),c=a(2920),i=a(7482),d=a(9755),h=a.n(d),u=a(6893),m=a(1669),x=a(4105),p=a(4283),g=a(6501),y={src:"/_next/static/media/globe.f5295f1f.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXF/goh/god/g4mBhYiAhIp+gYl/god+gIeEhI1+goiAgomjn+KZAAAADHRSTlMAiTFOG64mY2wJzXOSB7ZmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANklEQVR4nB3LuQ0AIBDEQO/9QP/9IoisCQzAsvqJGRVYZvdxlmQeJ6hMSQ4hRcsA39rzJsqfLyB1ANY/Tc7hAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},w={src:"/_next/static/media/lang.b37293f2.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEV/gol/g4pMaXGAhIp/gol/f39/f4d+g4l/g4h+g4hPWhl1AAAACnRSTlNkWwCmcw4fi0bCewW8JAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADNJREFUeJwVyEESACAIw8C0BdH/f9ghtw0tADWKKLK0VXtJqUasbOC+UeZd3Mk5x9jt7QMS/wCooAwgxQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},b=a(4732),k=a(3255),f=a(1163),keyword_research_Dropdown=e=>{let{placeholder:t,children:a,isFlat:r,position:n,isLarge:l,isWide:c,isTall:i,gtmClass:d}=e,{ref:h,isComponentVisible:u,setIsComponentVisible:m}=(0,f.IC)(!1);return(0,s.jsxs)("div",{ref:h,className:"relative ".concat(d),children:[r?(0,s.jsxs)("button",{className:"mt-[2px] flex cursor-pointer items-center gap-1 border-0 bg-transparent p-0 text-white transition hover:text-celestial-50 ".concat(d),onClick:()=>m(e=>!e),children:[t,u?(0,s.jsx)(o.jRD,{className:d}):(0,s.jsx)(o.OrA,{className:d})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(k.z,{color:"dark",className:"!text-neutral-30 hover:!bg-neutral-40 hover:!text-neutral-20 ".concat(d),custom:d,icon:u?o.jRD:o.OrA,iconPosition:"right",onClick:()=>m(e=>!e),children:["Column Settings"," ",(0,s.jsxs)("span",{className:"text-white ".concat(d),children:["(",t,")"]})]})}),(0,s.jsx)("div",{className:"\n          no-scrollbar absolute overflow-auto rounded-lg border border-neutral-40 bg-neutral-60 \n          ".concat("right"===n?"sm:right-0":"sm:left-0"," \n          ").concat(l?"top-14":"top-8","\n          ").concat(c?"w-[250px] sm:w-[350px]":"w-[200px]","\n          ").concat(i?"h-[270px]":"h-[200px]","\n          ").concat(u?"":"hidden"," \n        "),onWheel:e=>e.stopPropagation(),children:a})]})},keyword_research_KeywordResearchCard=e=>{let{languages:t,locations:a,title:l,description:c,maximumKeyword:d,feature:k,onSubmit:f,historyData:N,isSubmit:j,todaySearch:_,isLoading:v}=e,[A,S]=(0,r.useState)(b.E3),[C,E]=(0,r.useState)([]),[T,D]=(0,r.useState)(!1),I=(0,r.useRef)(null),K=(0,r.useRef)(null),M=(0,r.useRef)(null),R=(0,n.useRouter)(),{keywords:O}=R.query,{user:F}=(0,p.aC)(),{setLanguage:L,setLocation:V}=(0,p.lt)();(0,r.useEffect)(()=>{if(O){let e=O.split(",");S(t=>({...t,keywords:e})),D(!0)}},[O]),(0,r.useEffect)(()=>{j&&fetch("".concat("https://api.sequence.day","/api/public/broaden-keyword-research"),{method:"POST",body:JSON.stringify({keywords:A.keywords})}).then(e=>e.json()).then(e=>{let t=[];e.keywords.forEach(e=>{A.keywords.includes(e)||t.push(e)}),E(t)}).catch(e=>console.log(e.message))},[j,A.keywords]);let handleLanguageChange=e=>{let{language_code:t,language_name:a}=e;I.current.click(),S(e=>({...e,language:{code:t,name:a}})),L(t)},handleLocationChange=e=>{let{location_code:t,location_name:a,country_code:s}=e;I.current.click(),S(e=>({...e,location:{cCode:s,code:t,name:a}})),V(t)},addKeyword=e=>{D(!1);let t=A.keywords;t.push(e),S(e=>({...e,keywords:t}))},handleDelete=e=>{let t=A.keywords,a=t.indexOf(e);t.splice(a,1),S(e=>({...e,keywords:t}))},readCsvKeyword=e=>{let t=new Promise((t,a)=>{let s=new FileReader;s.readAsArrayBuffer(e),s.onload=e=>{let a=e.target.result,s=x.ij(a,{type:"buffer"}),r=s.SheetNames[0],n=s.Sheets[r],o=x.P6.sheet_to_json(n);t(o)},s.onerror=e=>{a(e)}});t.then(e=>{if(!e.length||!e[0].no||!e[0].keyword_name)throw Error("The entered file format is incorrect");let t=A.keywords.length;if(t+e.length>d)throw Error("The number of keywords entered exceeds the limit");e.map(e=>{A.keywords.includes(e.keyword_name)?(0,b.wp)("warning",'Keyword "'.concat(e.keyword_name,'" was not added because it is already in the list.')):addKeyword(e.keyword_name)})}).catch(e=>{(0,b.wp)("error",e.message)})},addBroadenToKeywords=e=>{let t=C[e];addKeyword(t),C.splice(e,1)};return(0,s.jsxs)("div",{className:"rounded bg-neutral-70 p-6 sm:p-10",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"mb-2 text-h6-500",ref:I,children:l}),(0,s.jsx)("div",{className:"text-neutral-30 text-b2-400",children:c})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center\n            ".concat(l===b.Mb.DNK?"justify-end":"justify-between"),children:[l===b.Mb.GSV&&(0,s.jsxs)("div",{className:"mb-4 sm:mb-0",children:[(0,s.jsx)(i.zx,{icon:o.yf7,className:"mktkwresearchtool_getsv_button_import border-none bg-neutral-40 text-white hover:bg-neutral-30",onClick:()=>{M.current.click()},custom:"mktkwresearchtool_getsv_button_import",children:"Import from .csv"}),(0,s.jsx)("input",{type:"file",ref:M,className:"hidden",onChange:e=>{var t;if(!(null===(t=e.currentTarget.files)||void 0===t?void 0:t.length))return;let a=e.currentTarget.files[0];readCsvKeyword(a)},accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"})]}),(0,s.jsxs)("div",{className:"text-neutral-30 text-b2-400",children:[(0,s.jsx)(o.aNd,{className:"-mt-1 inline"}),"\xa0 You had"," ",(0,s.jsxs)("span",{className:"cursor-pointer text-white underline transition text-b2-300 hover:text-celestial-50",onClick:()=>{R.push("/keyword-research/history?tab=".concat(k===b.Mb.DNK?b.fZ.DNK:b.fZ.GSV))},children:[N," search",N>1?"s":""]})," ","in history."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"relative cursor-text rounded border-2 border-neutral-40 bg-neutral-50 px-4 py-3",onClick:()=>{K.current&&K.current.focus()},children:[(0,s.jsx)("div",{className:"-ml-1 mb-4 flex flex-wrap items-center gap-2",children:A.keywords.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-neutral-60 px-4 py-2",children:[e,(0,s.jsx)(o.czh,{className:"cursor-pointer text-xl text-neutral-30 transition hover:text-celestial-50",onClick:()=>handleDelete(e)})]},e))}),A.keywords.length!==d&&(F||_<b.jm)?(0,s.jsx)("textarea",{placeholder:"Enter Keyword(s)",className:"h-20 w-full bg-transparent outline-none",required:!0,onKeyUp:e=>{if(e.preventDefault(),"Enter"===e.key){let t=e.target.value.trim();if(!t){K.current.value="",(0,b.wp)("error","No keyword entered");return}if(A.keywords.includes(t)){K.current.value=t,(0,b.wp)("error","Keyword can't be same");return}addKeyword(t),K.current.value=""}},ref:K}):null,(0,s.jsx)("div",{className:"absolute right-4 top-[43%] hidden cursor-pointer text-neutral-30 transition hover:font-bold hover:text-celestial-50 sm:block",children:(0,s.jsx)(u.jRj,{})})]}),(0,s.jsxs)("div",{className:"mb-6 mt-3 flex flex-col justify-between text-b2-400 sm:flex-row sm:items-center",children:[(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-4 sm:mb-0 sm:flex-row sm:items-center",children:[(0,s.jsxs)("div",{className:"flex items-center text-neutral-30",children:[(0,s.jsx)(h(),{src:w,alt:"Language Icon"}),"\xa0",(0,s.jsx)("div",{children:"Lang"}),"\xa0",(0,s.jsx)(keyword_research_Dropdown,{placeholder:A.language.name||"Indonesian (default)",isFlat:!0,gtmClass:"".concat(k===b.Mb.DNK?"mktkwresearchtool_discover_button_language":"mktkwresearchtool_getsv_button_language"),children:t.map((e,a)=>(0,s.jsx)("div",{className:"\n                          cursor-pointer border-neutral-40 p-3 hover:bg-celestial-60 hover:text-white\n                          ".concat(e.language_code===A.language.code?"bg-celestial-60 text-white":"","\n                          ").concat(a<=t.length-2?"border-b":"","\n                        "),onClick:()=>handleLanguageChange({language_code:e.language_code,language_name:e.language_name}),children:e.language_name},e.language_code))})]}),(0,s.jsxs)("div",{className:"flex items-center text-neutral-30",children:[(0,s.jsx)(h(),{src:y,alt:"Globe Icon"}),"\xa0",(0,s.jsx)("div",{children:"Region"}),"\xa0",(0,s.jsx)(keyword_research_Dropdown,{placeholder:A.location.name||"Indonesia (default)",isFlat:!0,gtmClass:"".concat(k===b.Mb.DNK?"mktkwresearchtool_discover_button_region":"mktkwresearchtool_getsv_button_region"),children:a.map((e,t)=>(0,s.jsx)("div",{className:"\n                          cursor-pointer border-neutral-40 p-3 hover:bg-celestial-60 hover:text-white\n                          ".concat(e.location_code.toString()===A.location.code.toString()?"bg-celestial-60 text-white":"","\n                          ").concat(t<=a.length-2?"border-b":"","\n                        "),onClick:()=>handleLocationChange({location_code:e.location_code,location_name:e.location_name,country_code:e.country_code}),children:e.location_name},e.location_code))})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"-mt-[2px] cursor-pointer transition hover:text-red-50",onClick:()=>{S({keywords:[],language:{code:"id",name:"Indonesian"},location:{code:"2360",name:"Indonesia",cCode:"ID"}})},children:(0,s.jsx)(o.SW4,{})}),(0,s.jsxs)("div",{className:"text-neutral-30 ".concat(d-A.keywords.length>0?"":"text-red-50"),children:[(0,s.jsx)("span",{className:"".concat(A.keywords.length===d?"text-red-50":"text-white"),children:A.keywords.length}),"/",d," keyword(s)"]})]})]}),(0,s.jsxs)("div",{className:"\n            flex items-center \n            ".concat(F?"justify-end":_===b.jm?"justify-between":"justify-end","\n          "),children:[_!==b.jm||F?null:(0,s.jsxs)("div",{className:"text-celestial-70 text-b2-400",children:["Whoops! You have exceeded the search limit in a day.\xa0",(0,s.jsx)("span",{className:"cursor-pointer text-celestial-50 underline transition hover:text-celestial-60",onClick:b.Sv,children:"Register"}),"\xa0 for unlimited keyword search."]}),(0,s.jsx)(i.zx,{onClick:()=>{0===A.keywords.length?g.ZP.error("Please input some keywords"):A.language.code?A.location.code?f(A,T):g.ZP.error("Please select the location"):g.ZP.error("Please select the language")},disabled:_===b.jm&&!F,custom:"".concat(k===b.Mb.DNK?"mktkwresearchtool_discover_button_submit":"mktkwresearchtool_getsv_button_submit"),className:"".concat(k===b.Mb.DNK?"mktkwresearchtool_discover_button_submit":"mktkwresearchtool_getsv_button_submit"),children:(0,s.jsxs)("div",{className:"".concat(k===b.Mb.DNK?"mktkwresearchtool_discover_button_submit":"mktkwresearchtool_getsv_button_submit"," flex items-center gap-2"),children:["Submit",v&&(0,s.jsx)(m.iT,{height:14,width:14,color:"#21262e",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})})]}),j&&(F||_<b.jm)?(0,s.jsxs)("div",{className:"mt-6 flex flex-wrap items-center gap-4",children:[(0,s.jsx)("span",{className:"text-neutral-20 text-b2-400",children:"Broaden your search"}),(0,s.jsx)("span",{className:"flex flex-wrap items-center gap-2",children:C.map((e,t)=>(0,s.jsxs)("span",{className:"group flex cursor-pointer items-center gap-2 rounded-full border border-neutral-50 px-4 py-3 transition hover:border-neutral-40",onClick:()=>addBroadenToKeywords(t),children:[(0,s.jsx)(o.poH,{className:"text-neutral-30 group-hover:text-celestial-50"})," ",e]},t))})]}):null]})]})]})},N=a(6038),j=a(2504),keyword_research_Insights=e=>{let{content:t}=e,[a,n]=(0,r.useState)(!1),toggleFeatureSection=()=>{let e=document.getElementById("read-more-booster");e.classList.contains("h-0")?N.ZP.to(e,{height:e.scrollHeight,transition:.15,ease:"Power3.easeInOut",onStart(){n(!0)},onComplete(){e.classList.remove("h-0"),setTimeout(()=>{window.asscroll.resize()},400)}}):N.ZP.to(e,{height:0,transition:.15,ease:"Power3.easeInOut",onStart(){let t=e.getBoundingClientRect().height;window.asscroll.scrollTo(t,!0),n(!1)},onComplete(){e.classList.add("h-0"),setTimeout(()=>{window.asscroll.resize()},400)}})};return(0,s.jsx)("section",{id:"seo-booster",className:"my-[100px]",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6 rounded-lg border border-neutral-40 bg-neutral-50 px-10 py-6 md:gap-4 md:px-[120px] md:py-12 xl:py-20",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,s.jsx)("h1",{className:"text-h4-500 md:text-h2-500",children:t.title}),(0,s.jsx)("h2",{className:"text-b1-400 md:text-p-400",children:t.subtitle})]}),(0,s.jsxs)("div",{className:"prose prose-white max-w-none xl:prose-lg",children:[(0,s.jsx)(j.rZ,{data:t.shortDesc,renderBlock:e=>{let{record:t}=e,a=t.blogAsset;return a?(0,s.jsx)(h(),{alt:a.alt,blurDataURL:a.blurhash,src:a.url,height:a.height,width:a.width}):null}}),!a&&(0,s.jsxs)("button",{className:"text-celestial-50",onClick:toggleFeatureSection,children:[" ","Read More"]})]}),(0,s.jsxs)("div",{id:"read-more-booster",className:"prose prose-white h-0 max-w-none overflow-hidden xl:prose-lg",children:[(0,s.jsx)(j.rZ,{data:t.content,renderBlock:e=>{let{record:t}=e,a=t.blogAsset;return a?(0,s.jsx)(h(),{alt:a.alt,blurDataURL:a.blurhash,src:a.url,height:a.height,width:a.width}):null}}),(0,s.jsx)("button",{className:"text-celestial-50",onClick:toggleFeatureSection,children:"Hide Content"})]})]})})},_=a(6495);a(9085);var keyword_research_GraphResultFilterButton=e=>{let{dataType:t,isActive:a,changeDataType:r}=e;return(0,s.jsx)("button",{className:"rounded-md p-2 outline-none transition \n        ".concat(a?"bg-white font-bold text-neutral-50":"bg-neutral-50 text-neutral-30 hover:bg-neutral-40 hover:text-neutral-10"),onClick:()=>r(t),children:t})},v=a(4225),keyword_research_GraphResult=e=>{let{monthlyData:t,feature:a}=e,[n,o]=(0,r.useState)(b.QQ.SEARCH_VOLUME_TOTAL),{user:l}=(0,p.aC)(),c={labels:t.map(e=>"".concat(b.iL[e.month],", ").concat(e.year)).reverse(),datasets:[{label:n,data:t.map(e=>{switch(n){case b.QQ.SEARCH_VOLUME_TOTAL:return e.search_volume;case b.QQ.AVG_CPC:return e.avg_cpc;case b.QQ.AVG_COMPETITION_INDEX:return e.avg_competition}}),backgroundColor:["#83B7FF"]}]},changeDataType=e=>{o(e)};return(0,s.jsxs)("div",{className:"rounded bg-neutral-60 p-6 sm:p-10",children:[(0,s.jsxs)("div",{className:"mb-10 flex flex-col justify-between sm:flex-row sm:items-center",children:[(0,s.jsx)("div",{className:"mb-6 text-b1-700 sm:mb-0",children:n}),(0,s.jsxs)("div",{className:"flex flex-col justify-end gap-4 sm:flex-row sm:items-center",children:[(0,s.jsx)(keyword_research_GraphResultFilterButton,{dataType:b.QQ.SEARCH_VOLUME_TOTAL,isActive:n===b.QQ.SEARCH_VOLUME_TOTAL,changeDataType:changeDataType}),(0,s.jsx)(keyword_research_GraphResultFilterButton,{dataType:b.QQ.AVG_CPC,isActive:n===b.QQ.AVG_CPC,changeDataType:changeDataType}),(0,s.jsx)(keyword_research_GraphResultFilterButton,{dataType:b.QQ.AVG_COMPETITION_INDEX,isActive:n===b.QQ.AVG_COMPETITION_INDEX,changeDataType:changeDataType})]})]}),(0,s.jsx)(_.$Q,{data:c,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{position:"right",grid:{color:"#545961",drawTicks:!1},ticks:{color:"white",font:{size:14}},border:{display:!1}},x:{ticks:{color:"white",font:{size:14}},grid:{color:"#21262E"},border:{display:!1}}}},className:"mb-10"}),l?null:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(v.Z,{type:"graph",gtmClass:"".concat(a===b.Mb.DNK?"mktkwresearchtool_discover_button_signin":"mktkwresearchtool_getsv_button_signin")})})]})},A=a(7106),keyword_research_CheckboxTable=e=>{let{checked:t,handler:a}=e;return(0,s.jsxs)("div",{className:"h-[20px] w-[20px]",children:[(0,s.jsx)("input",{type:"checkbox",className:"peer h-full w-full cursor-pointer opacity-0",checked:t,onChange:a}),(0,s.jsx)("div",{className:"\n        -mt-6 h-full w-full rounded pl-[1px] pt-[1px] transition duration-300 peer-focus:ring-2 peer-focus:ring-celestial-40 peer-focus:ring-opacity-50 \n        ".concat(t?"bg-celestial-50":"border-2 border-[#394351] bg-neutral-60 peer-focus:ring-0","\n        "),children:t?(0,s.jsx)(o.hXj,{className:"text-xl text-neutral-50"}):null})]})},keyword_research_TableResult=e=>{var t;let{scrollPosition:a,detailedData:n,feature:l,remainingKeywords:c,keywordsNotFound:i}=e,[d,h]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,g]=(0,r.useState)(b.fx.DEFAULT),[y,w]=(0,r.useState)({keyword:1,keywordNotFound:1,searchVolume:1,threeMonthChanges:1,yoyChanges:1,cpc:1,competitionIndex:1}),[f,j]=(0,r.useState)(!1),[_,S]=(0,r.useState)([]),C=(0,r.useRef)(null),E=(0,r.useRef)(null),{user:T}=(0,p.aC)(),{location:D,language:I}=(0,p.lt)(),getValueLabel=e=>e>=0&&e<=.3?"Low":e>.3&&e<=.6?"Medium":e>.6&&e<=1?"High":"Invalid value";(0,r.useEffect)(()=>{h(n.map(e=>({...e,checked:!1}))),m(i.map(e=>({keyword:e,checked:!1})))},[n,i]);let changeSetting=e=>{g(e)},sortTable=e=>{switch(e){case b.zH.KEYWORD:1===y.keyword?(d.sort((e,t)=>e.keyword>t.keyword?1:-1),u.sort((e,t)=>e.keyword>t.keyword?1:-1),w({...y,keyword:-1,keywordNotFound:-1})):(d.sort((e,t)=>e.keyword<t.keyword?1:-1),u.sort((e,t)=>e.keyword<t.keyword?1:-1),w({...y,keyword:1,keywordNotFound:1}));return;case b.zH.SEARCH_VOLUME:1===y.searchVolume?(d.sort((e,t)=>e.search_volume>t.search_volume?1:-1),w({...y,searchVolume:-1})):(d.sort((e,t)=>e.search_volume<t.search_volume?1:-1),w({...y,searchVolume:1}));return;case b.zH.THREE_MONTH_CHANGES:1===y.threeMonthChanges?(d.sort((e,t)=>e.three_month_changes>t.three_month_changes?1:-1),w({...y,threeMonthChanges:-1})):(d.sort((e,t)=>e.three_month_changes<t.three_month_changes?1:-1),w({...y,threeMonthChanges:1}));return;case b.zH.YOY_CHANGES:1===y.yoyChanges?(d.sort((e,t)=>e.yoy_changes>t.yoy_changes?1:-1),w({...y,yoyChanges:-1})):(d.sort((e,t)=>e.yoy_changes<t.yoy_changes?1:-1),w({...y,yoyChanges:1}));return;case b.zH.CPC:1===y.cpc?(d.sort((e,t)=>e.cpc>t.cpc?1:-1),w({...y,cpc:-1})):(d.sort((e,t)=>e.cpc<t.cpc?1:-1),w({...y,cpc:1}));return;case b.zH.COMPETITION_INDEX:1===y.competitionIndex?(d.sort((e,t)=>e.competition_index>t.competition_index?1:-1),w({...y,competitionIndex:-1})):(d.sort((e,t)=>e.competition_index<t.competition_index?1:-1),w({...y,competitionIndex:1}));return;default:return}},changeCheckItem=(e,t)=>{switch(e.checked?operateSelectedKeyword({item:e,type:"remove"}):operateSelectedKeyword({item:e,type:"add"}),t){case"kw":let a=d.map(t=>t.keyword===e.keyword?{...t,checked:!t.checked}:{...t});h(a);break;case"nf":let s=u.map(t=>t.keyword===e.keyword?{...t,checked:!t.checked}:{...t});m(s)}},operateSelectedKeyword=e=>{let{item:t,type:a}=e;switch(a){case"add":_.push(t);break;case"remove":let s=_.filter(e=>e.keyword!==t.keyword);S(s)}},handleAddToTracker=async()=>{let e=JSON.parse(localStorage.getItem(b.Fy));try{let t=await fetch("".concat("https://api.sequence.day","/api/public/add-keyword-to-tracker"),{method:"POST",body:JSON.stringify({keywords:_.map(e=>e.keyword),market_language:I.toString(),market_location:D.toString(),token:e.token})}),a=await t.json(),{token:s}=e,r=encodeURI(s),n=encodeURI(a.id);window.location.href="".concat("https://app.sequence.day/auth/login","?token=").concat(r,"&ref_id=").concat(n)}catch(e){console.log(e)}};return(0,r.useEffect)(()=>{let e=N.p8.context(()=>{var e;N.p8.to(C.current,{scrollTrigger:{trigger:C.current,pin:!0,scrub:!0,start:"bottom bottom",end:"".concat(null===(e=C.current)||void 0===e?void 0:e.clientHeight," bottom"),pinSpacing:!1,endTrigger:"#end-pin"}})},E);return()=>e.revert()},[null===(t=E.current)||void 0===t?void 0:t.clientHeight]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{ref:E,className:"relative rounded bg-neutral-60 p-6 sm:p-10",children:[T?null:(0,s.jsxs)("div",{ref:C,className:"z-10 flex flex-col justify-between bg-celestial-80 p-5 text-center sm:flex-row sm:items-center sm:p-10 sm:text-start",children:[l===b.Mb.DNK?(0,s.jsxs)("div",{className:"mb-6 sm:mb-0",children:[c?(0,s.jsxs)("div",{className:"mb-2 text-b1-400",children:["Want to check all ",c," keywords relevant for your inputted keyword(s)?"]}):(0,s.jsx)("div",{className:"mb-2 text-b1-400",children:"Want to check all keywords relevant for your inputted keyword(s)?"}),(0,s.jsx)("div",{className:"text-neutral-20 text-b1-400",children:"Register for Sequence Stats and get your high-relevant keyword ideas now."})]}):(0,s.jsxs)("div",{className:"mb-6 sm:mb-0",children:[(0,s.jsx)("div",{className:"mb-2 text-b1-400",children:"Want to check more keywords search volume?"}),(0,s.jsx)("div",{className:"text-neutral-20 text-b1-400",children:"Register for Sequence Stats and get your search volume keywords now!"})]}),(0,s.jsx)(v.Z,{type:"table",gtmClass:"".concat(l===b.Mb.DNK?"mktkwresearchtool_discover_button_signin":"mktkwresearchtool_getsv_button_signin")})]}),(0,s.jsxs)("div",{className:"mb-7 flex flex-col justify-between sm:flex-row sm:items-center",children:[(0,s.jsxs)("div",{className:"mb-4 sm:mb-0",children:["Keywords Available"," ",(0,s.jsxs)("span",{className:"top- font-bold text-neutral-40",children:["(",d.length,")"]})]}),(0,s.jsx)(keyword_research_Dropdown,{isFlat:!1,placeholder:x,position:"right",isTall:!0,isLarge:!0,isWide:!0,children:b.Co.map((e,t)=>(0,s.jsxs)("div",{className:"\n                  cursor-pointer border-neutral-40 bg-neutral-50 p-3 hover:bg-celestial-50 hover:text-white\n                  ".concat(x===e.title?"bg-celestial-50":"","\n                  group text-b1-400\n                  ").concat(t<=b.Co.length-2?"border-b":"","\n                "),onClick:()=>changeSetting(e.title),children:[(0,s.jsx)("span",{className:"font-medium group-hover:text-neutral-50 ".concat(x===e.title?"text-neutral-50":""),children:e.title}),"\xa0",(0,s.jsx)("span",{className:"group-hover:text-neutral-40 ".concat(x===e.title?"text-neutral-40":"text-neutral-30"),children:e.detail})]},t))})]}),i.length?(0,s.jsx)("div",{className:"mb-7 rounded-lg bg-[#F9F2EA] p-4",children:(0,s.jsxs)("div",{className:"text-neutral-60 text-b1-400",children:["There are keywords in your list that don’t have any data. If you wish to track this keywords, please\xa0",(0,s.jsx)("span",{className:"cursor-pointer text-blue-60 transition hover:underline",onClick:b.Sv,children:"register"})]})}):null,T?(0,s.jsxs)("div",{className:"mb-7 flex items-center gap-3",children:[(0,s.jsxs)("div",{children:["Selected ",_.length," keyword",_.length>1?"s":""]}),(0,s.jsx)(k.z,{type:"outline",color:"white",icon:o.ffM,className:"!p-2",onClick:handleAddToTracker,children:"Add Selected to Tracker"})]}):null,(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-[#2E3642]",children:[T?(0,s.jsx)("th",{className:"p-2",children:(0,s.jsx)(keyword_research_CheckboxTable,{checked:f,handler:()=>{if(f){let e=u.map(e=>({...e,checked:!1}));m(e);let t=d.map(e=>({...e,checked:!1}));h(t),S([])}else{_.length=0;let e=u.map(e=>(operateSelectedKeyword({item:e,type:"add"}),{...e,checked:!0}));m(e);let t=d.map(e=>(operateSelectedKeyword({item:e,type:"add"}),{...e,checked:!0}));h(t)}j(e=>!e)}})}):null,(0,s.jsx)("th",{className:"cursor-pointer p-3 text-start transition hover:text-celestial-50",onClick:()=>sortTable(b.zH.KEYWORD),children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["Keyword",(0,s.jsx)(A.Ki9,{})]})}),(0,s.jsx)("th",{className:"cursor-pointer p-3 text-start transition hover:text-celestial-50",onClick:()=>sortTable(b.zH.SEARCH_VOLUME),children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["Search Volume",(0,s.jsx)(A.Ki9,{})]})}),x!==b.fx.BEGINNER?(0,s.jsx)("th",{className:"cursor-pointer p-3 text-start transition hover:text-celestial-50",onClick:()=>sortTable(b.zH.THREE_MONTH_CHANGES),children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["3 Month Changes",(0,s.jsx)(A.Ki9,{})]})}):null,x===b.fx.DEFAULT?(0,s.jsx)("th",{className:"cursor-pointer p-3 text-start transition hover:text-celestial-50",onClick:()=>sortTable(b.zH.YOY_CHANGES),children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["YoY Changes",(0,s.jsx)(A.Ki9,{})]})}):null,x!==b.fx.BEGINNER?(0,s.jsx)("th",{className:"cursor-pointer p-3 text-start transition hover:text-celestial-50",onClick:()=>sortTable(b.zH.CPC),children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["CPC",(0,s.jsx)(A.Ki9,{})]})}):null,x!==b.fx.INTERMEDIATE&&(0,s.jsx)("th",{className:"cursor-pointer p-3 text-start transition hover:text-celestial-50",onClick:()=>sortTable(b.zH.COMPETITION_INDEX),children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["Competition Index",(0,s.jsx)(A.Ki9,{})]})})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-3 text-b1-700",colSpan:6,children:"Keywords inputted"})}),u.map((e,t)=>(0,s.jsxs)("tr",{className:"bg-[#2E3642] text-neutral-30",children:[T?(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)(keyword_research_CheckboxTable,{checked:e.checked,handler:()=>changeCheckItem(e,"nf")})}):null,(0,s.jsx)("td",{className:"p-3",children:e.keyword}),(0,s.jsx)("td",{className:"p-3",children:"n/a"}),(0,s.jsx)("td",{className:"p-3",children:"n/a"}),x===b.fx.DEFAULT?(0,s.jsx)("td",{className:"p-3",children:"n/a"}):null,x===b.fx.DEFAULT||x===b.fx.INTERMEDIATE||x===b.fx.ADVANCED?(0,s.jsx)("td",{className:"p-3",children:"n/a"}):null,x===b.fx.DEFAULT||x===b.fx.ADVANCED?(0,s.jsx)("td",{className:"p-3",children:"n/a"}):null]},t)),d.map((e,t)=>{if(e.inputted)return(0,s.jsxs)("tr",{className:"bg-[#2E3642]",children:[T?(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)(keyword_research_CheckboxTable,{checked:e.checked,handler:()=>changeCheckItem(e,"kw")})}):null,(0,s.jsx)("td",{className:"p-3",children:e.keyword}),(0,s.jsx)("td",{className:"p-3",children:e.search_volume%1!=0?e.search_volume.toFixed(2):e.search_volume}),x!==b.fx.BEGINNER&&(0,s.jsx)("td",{className:"p-3",children:e.three_month_changes%1!=0?"".concat(e.three_month_changes.toFixed(2),"%"):e.three_month_changes+"%"}),x===b.fx.DEFAULT?(0,s.jsx)("td",{className:"p-3",children:e.yoy_changes%1!=0?e.yoy_changes.toFixed(2)+"%":e.yoy_changes+"%"}):null,x!==b.fx.BEGINNER?(0,s.jsx)("td",{className:"p-3",children:e.cpc%1!=0?e.cpc.toFixed(2):e.cpc}):null,x!==b.fx.INTERMEDIATE&&(0,s.jsx)("td",{className:"p-3",children:getValueLabel(Number(e.competition_index))})]},t)}),0===d.filter(e=>e.inputted).length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-3 text-neutral-30 text-b1-700",colSpan:6,children:"No keywords inputted"})}),l===b.Mb.DNK&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-3 text-b1-700",colSpan:6,children:"Relevant keywords"})}),d.map((e,t)=>{if(!e.inputted)return(0,s.jsxs)("tr",{className:"bg-[#2E3642]",children:[T?(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)(keyword_research_CheckboxTable,{checked:e.checked,handler:()=>changeCheckItem(e,"kw")})}):null,(0,s.jsx)("td",{className:"p-3",children:e.keyword}),(0,s.jsx)("td",{className:"p-3",children:e.search_volume%1!=0?e.search_volume.toFixed(2):e.search_volume}),x!==b.fx.BEGINNER&&(0,s.jsx)("td",{className:"p-3",children:e.three_month_changes%1!=0?"".concat(e.three_month_changes.toFixed(2),"%"):e.three_month_changes+"%"}),x===b.fx.DEFAULT?(0,s.jsx)("td",{className:"p-3",children:e.yoy_changes%1!=0?e.yoy_changes.toFixed(2)+"%":e.yoy_changes+"%"}):null,x===b.fx.DEFAULT||x===b.fx.INTERMEDIATE||x===b.fx.ADVANCED?(0,s.jsx)("td",{className:"p-3",children:e.cpc%1!=0?e.cpc.toFixed(2):e.cpc}):null,x!==b.fx.INTERMEDIATE?(0,s.jsx)("td",{className:"p-3",children:getValueLabel(Number(e.competition_index))}):null]},t)}),0===d.filter(e=>!e.inputted).length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"p-3 text-neutral-30 text-b1-700",colSpan:6,children:"No relevant keywords"})})]})]})]}),(0,s.jsx)("div",{id:"end-pin"})]})]})})},S=a(8379),C=a(8193),E=a(9352),T=a(9290);let{META:D}=S.KEYWORD_RESEARCH_PAGE_CONTENTS,I=[{label:"Keyword",key:"keyword"},{label:"Search Volume",key:"search_volume"},{label:"3 Month Changes",key:"three_month_changes"},{label:"YoY Changes",key:"yoy_changes"},{label:"CPC",key:"cpc"},{label:"Competition Index",key:"competition_index"},{label:"",key:"separator"},{label:"",key:"separator2"},{label:"Month",key:"month"},{label:"Year",key:"year"},{label:"Search Volume Total",key:"search_volume_total"},{label:"Avg. CPC",key:"avg_cpc"},{label:"Avg. Competition Index",key:"avg_competition_index"}],KeywordResearch=e=>{let{keyResearchSeoBooster:t}=e,[a,d]=(0,r.useState)(null),[h,u]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[g,y]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[f,j]=(0,r.useState)(0),[_,v]=(0,r.useState)(!1),A=(0,n.useRouter)(),{tab:S}=A.query,{user:K}=(0,p.aC)(),{getHistoryData:M,discoverHistory:R,scVolumeHistory:O,setHistoryData:F,getResult:L,detailedDataResult:V,monthlyDataResult:P,keywordsNotFound:G,remainingData:H,exportResult:z}=(0,p.lt)();(0,r.useEffect)(()=>{Promise.all([fetch("".concat("https://api.sequence.day","/api/public/market-language")),fetch("".concat("https://api.sequence.day","/api/public/market-location"))]).then(e=>{let[t,a]=e;return Promise.all([t.json(),a.json()])}).then(e=>{let[t,a]=e;u(t.data.languages),x(a.data.locations)}).catch(e=>{console.log(e.message)})},[]),(0,r.useEffect)(()=>{setDaySearchFunction(),M();let e=S||b.fZ.DNK;e===b.fZ.DNK?d(b.Mb.DNK):e===b.fZ.GSV?d(b.Mb.GSV):(d(b.Mb.DNK),A.push("/keyword-research"))},[S,A]);let changeFeature=e=>{y(!1),e===b.Mb.DNK?A.push("/keyword-research?tab="+b.fZ.DNK):A.push("/keyword-research?tab="+b.fZ.GSV)},operateDaySearch=e=>{let t=JSON.parse(localStorage.getItem(b.Tm));if(t){let a=t.date,s=new Date(a),r=new Date("".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," 00:00:00"));return r>s?(localStorage.setItem(b.Tm,JSON.stringify({date:"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," 00:00:00"),count:1})),!0):t.count===b.jm?((0,b.wp)("error","You have reached the search limit for today"),y(!1),!1):(localStorage.setItem(b.Tm,JSON.stringify({date:t.date,count:t.count+1})),!0)}{let t={date:"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," 00:00:00"),count:1};return localStorage.setItem(b.Tm,JSON.stringify(t)),!0}},setDaySearchFunction=()=>{let e=JSON.parse(localStorage.getItem(b.Tm));e&&j(e.count)},handleSubmit=async(e,t)=>{y(!1),v(!0);let s={keywords:e.keywords,market_language:e.language.code,market_location:e.location.code,discover:a===b.Mb.DNK};try{let r=await L(s);void 0===r&&k(!0);let n=new Date;if(!K){let e=operateDaySearch(n);if(!e)return}if(y(!0),v(!1),t)return;setDaySearchFunction(),await F({currDate:n,data:e,result:r,feature:a}),M()}catch(e){console.log(e)}},handleOnExited=()=>{k(!1)},[U,B]=(0,r.useState)(0);return(0,s.jsxs)("div",{className:"mx-auto max-w-screen-lg",children:[(0,s.jsx)(i.Fb,{...D}),(0,s.jsx)(c.Ix,{}),(0,s.jsxs)("div",{className:"px-4 pb-[100px] pt-[150px] sm:px-[50px] md:px-[160px]",children:[(0,s.jsxs)("div",{className:"mb-10 flex items-start gap-2 rounded-lg bg-neutral-60 px-4 py-3 text-neutral-30",children:[(0,s.jsx)("div",{className:"self-start",children:(0,s.jsx)(C.kA6,{className:"text-celestial-50",size:16})}),(0,s.jsx)("div",{children:"This tool is still in its minimum viable product (MVP) stage and we're dedicated to continuously improving it. We'd love to hear your suggestion for future enhancement. Your feedback is critical to our mission of providing the best keyword research experience possible."})]}),(0,s.jsx)(T.ZP,{in:w,timeout:0,mountOnEnter:!0,unmountOnExit:!0,onEnter:e=>{N.p8.from(e,{opacity:0,duration:1,ease:"power2.out"})},onExited:handleOnExited,children:(0,s.jsxs)("div",{className:"mb-10 flex flex-col items-center gap-2 rounded-lg bg-neutral-60 px-4 py-3 sm:flex-row",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"self-start",children:(0,s.jsx)(E._l2,{className:"text-[#BF423A]",size:16})}),(0,s.jsxs)("div",{className:"mr-6 flex flex-col gap-1",children:[(0,s.jsx)("div",{className:"font-bold",children:"Keyword Not Found"}),(0,s.jsx)("div",{className:"text-neutral-20",children:"Sorry, it looks like the keyword you entered is not on our database yet. You can track your keyword by creating account and track your own keywords on our Sequence Stats keyword rank tracker dashboard"})]})]}),(0,s.jsxs)("div",{className:"mt-2 flex min-w-fit gap-2 self-end sm:mt-0 sm:self-center",children:[(0,s.jsx)("a",{href:"".concat("https://app.sequence.day/auth","?from=public-keyword-research"),target:"_blank",rel:"noreferrer",className:"mktkwresearchtool_button_auth",children:(0,s.jsx)(i.zx,{size:"small",custom:"mktkwresearchtool_button_auth",className:"mktkwresearchtool_button_auth",children:"Track Your First Keyword"})}),(0,s.jsx)(i.zx,{size:"small",type:"transparent",color:"white",onClick:handleOnExited,custom:"mktkwresearchtool_button_dismiss",className:"mktkwresearchtool_button_dismiss",children:"Dismiss"})]})]})}),(0,s.jsxs)("div",{className:"mb-8 flex gap-8 border-b-2 border-neutral-40",children:[(0,s.jsx)("div",{className:"\n              relative top-[2px] cursor-pointer p-4 text-center transition \n              ".concat(a===b.Mb.DNK?"border-b-2 border-celestial-50 text-celestial-50 text-b2-700":"text-neutral-30 text-b2-400","\n            "),onClick:()=>changeFeature(b.Mb.DNK),children:b.Mb.DNK}),(0,s.jsx)("div",{className:"\n              relative top-[2px] cursor-pointer p-4 text-center transition \n              ".concat(a===b.Mb.DNK?"text-neutral-30 text-b2-400":"border-b-2 border-celestial-50 text-celestial-50 text-b2-700","\n            "),onClick:()=>changeFeature(b.Mb.GSV),children:b.Mb.GSV})]}),(0,s.jsx)("div",{className:"mb-8",children:h.length&&m.length&&a===b.Mb.DNK?(0,s.jsx)(keyword_research_KeywordResearchCard,{languages:h,locations:m,isLoading:_,title:b.Mb.DNK,description:"Put your keywords in the field and let the system show you a highly related keywords list to your submitted keywords.",maximumKeyword:10,feature:b.Mb.DNK,onSubmit:handleSubmit,historyData:R.length,isSubmit:g,todaySearch:f}):(0,s.jsx)(keyword_research_KeywordResearchCard,{languages:h,locations:m,title:b.Mb.GSV,description:"You can get the search volume data of your inputted keywords here. It will help you know the trends.",maximumKeyword:100,feature:b.Mb.GSV,onSubmit:handleSubmit,historyData:O.length,isSubmit:g,todaySearch:f,isLoading:_})}),g&&V.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-5 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-[18px]",children:"Result"}),(0,s.jsx)(l.CSVLink,{data:z,headers:I,separator:";",filename:"public-keyword-research-sequence.csv",children:(0,s.jsx)(i.zx,{className:"border-none bg-neutral-40 text-white hover:bg-neutral-30",icon:o.MUM,iconPosition:"right",children:"Export to .csv"})})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(keyword_research_GraphResult,{monthlyData:P,feature:a})}),(0,s.jsx)("div",{children:(0,s.jsx)(keyword_research_TableResult,{scrollPosition:U,detailedData:V,feature:a,remainingKeywords:H,keywordsNotFound:G})})]}),(0,s.jsx)(keyword_research_Insights,{content:t})]})]})};KeywordResearch.getLayout=e=>(0,s.jsx)(i.HQ,{children:e});var K=!0,M=KeywordResearch},67:function(){},2061:function(){}},function(e){e.O(0,[8907,2196,2251,3853,9870,9774,2888,179],function(){return e(e.s=7216)}),_N_E=e.O()}]);