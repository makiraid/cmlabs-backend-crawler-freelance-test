(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7713],{5704:function(a,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/site-explorer",function(){return t(5406)}])},5406:function(a,e,t){"use strict";t.r(e);var o=t(5893),r=t(7482),n=t(8379),i=t(9902),s=t(9032),m=t(3958),l=t(2042),u=t(381),c=t.n(u),d=t(7294),p=t(6501);let{META:h}=n.SITE_EXPLORER_PAGE_CONTENTS,AutoGenerated=()=>{let[a,e]=(0,d.useState)(""),[t,n]=(0,d.useState)(!1),[u,_]=(0,d.useState)(null),[x,v]=(0,d.useState)(""),[y,D]=(0,d.useState)(l.hq),analyzeDomain=async()=>{try{n(!0);let e=await fetch("".concat("https://api-site-explorer.sequence.day","/domain-inspection?domain=").concat(a));if(!e.ok){let{message:a}=await e.json();"DataNotExists"===a?p.Am.error("Data not available for this domain"):p.Am.error(a);return}let t=await e.json(),calculateSov=a=>0===Number(a.sov)?"0":(Number(a.sov)/Number(a.search_volume)*100).toFixed(2).toString(),mapSov=a=>({...a,sov:calculateSov(a)}),o=t.summaryDomain.history_search_volume.map(a=>c()(a.date).format("DD MMM YYYY")),r=t.summaryDomain.history_search_volume.map(a=>a.value),i=r.reduce((a,e)=>a+e,0),s=Number((i/r.length).toFixed(2)),m=[{label:"Average",data:t.summaryDomain.history_search_volume.map(a=>s),fill:!1,borderColor:"#EACCF1",borderWidth:2,type:"line",pointRadius:0},{label:"SV",data:t.summaryDomain.history_search_volume.map(a=>a.value),backgroundColor:"#9800BA",borderWidth:1}];_({...t,topKeyword:t.topKeyword.map(mapSov),topPage:t.topPage.map(mapSov),topCompetitor:t.topCompetitor.map(mapSov)}),v(a),D({labels:o,datasets:m})}catch(a){console.error("There is an error when fetching data",a)}finally{n(!1)}};return(0,o.jsxs)("div",{className:"mx-auto max-w-screen-lg",children:[(0,o.jsx)(r.Fb,{...h}),(0,o.jsxs)("div",{className:"mb-[100px] mt-[150px] space-y-8 px-4 sm:px-[50px] md:px-[80px]",children:[(0,o.jsx)(m.Z,{}),(0,o.jsx)(i.Z,{domainData:u,domain:a,isLoading:t,setDomain:e,analyzeDomain:analyzeDomain}),u&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.Z,{chartData:y,domainData:u,analyzedDomain:x})})]})]})};AutoGenerated.getLayout=a=>(0,o.jsx)(r.HQ,{children:a}),e.default=AutoGenerated}},function(a){a.O(0,[2196,9401,3853,3968,9774,2888,179],function(){return a(a.s=5704)}),_N_E=a.O()}]);